2025-07-13 05:39:27 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/
2025-07-13 05:39:27 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/ - 状态码: 200 - 耗时: 0.0121秒
2025-07-13 05:39:28 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/static/style.css
2025-07-13 05:39:28 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/static/script.js
2025-07-13 05:39:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/static/style.css - 状态码: 304 - 耗时: 0.0452秒
2025-07-13 05:39:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/static/script.js - 状态码: 304 - 耗时: 0.0414秒
2025-07-13 05:39:32 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/
2025-07-13 05:39:32 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/ - 状态码: 200 - 耗时: 0.0302秒
2025-07-13 05:39:32 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/static/style.css
2025-07-13 05:39:32 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/static/script.js
2025-07-13 05:39:32 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/static/style.css - 状态码: 200 - 耗时: 0.0187秒
2025-07-13 05:39:32 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/static/script.js - 状态码: 200 - 耗时: 0.0201秒
2025-07-13 05:39:33 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/favicon.ico
2025-07-13 05:39:33 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/favicon.ico - 状态码: 404 - 耗时: 0.0463秒
2025-07-13 05:39:38 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/
2025-07-13 05:39:38 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/ - 状态码: 200 - 耗时: 0.0093秒
2025-07-13 05:39:38 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/static/style.css
2025-07-13 05:39:38 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/static/script.js
2025-07-13 05:39:38 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/static/script.js - 状态码: 200 - 耗时: 0.0052秒
2025-07-13 05:39:38 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/static/style.css - 状态码: 200 - 耗时: 0.0090秒
2025-07-13 06:12:44 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/
2025-07-13 06:12:44 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/ - 状态码: 200 - 耗时: 0.0135秒
2025-07-13 06:24:25 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/
2025-07-13 06:24:25 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/ - 状态码: 200 - 耗时: 0.0038秒
2025-07-13 07:51:56 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://127.0.0.1:8000/api/v1/staffs/access-token
2025-07-13 07:51:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://127.0.0.1:8000/api/v1/staffs/access-token - 状态码: 405 - 耗时: 0.0184秒
2025-07-13 07:56:25 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://127.0.0.1:8000/api/v1/login/access-token
2025-07-13 07:56:25 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 用户名或密码不正确 - POST /api/v1/login/access-token
2025-07-13 07:56:25 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://127.0.0.1:8000/api/v1/login/access-token - 状态码: 401 - 耗时: 0.2191秒
2025-07-13 07:56:51 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://127.0.0.1:8000/api/v1/login/access-token
2025-07-13 07:56:52 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://127.0.0.1:8000/api/v1/login/access-token - 状态码: 200 - 耗时: 0.3624秒
2025-07-13 08:01:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs
2025-07-13 08:01:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0048秒
2025-07-13 08:01:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs/
2025-07-13 08:01:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs
2025-07-13 08:01:14 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: Not authenticated - GET /api/v1/staffs/
2025-07-13 08:01:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0015秒
2025-07-13 08:01:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0059秒
2025-07-13 08:01:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs/
2025-07-13 08:01:14 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: Not authenticated - GET /api/v1/staffs/
2025-07-13 08:01:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0011秒
2025-07-13 08:03:23 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs
2025-07-13 08:03:23 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0071秒
2025-07-13 08:03:23 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs/
2025-07-13 08:03:23 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs
2025-07-13 08:03:23 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: Not authenticated - GET /api/v1/staffs/
2025-07-13 08:03:23 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0017秒
2025-07-13 08:03:23 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0068秒
2025-07-13 08:03:23 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs/
2025-07-13 08:03:23 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: Not authenticated - GET /api/v1/staffs/
2025-07-13 08:03:23 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0014秒
2025-07-13 08:03:37 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs
2025-07-13 08:03:37 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0092秒
2025-07-13 08:03:37 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs/
2025-07-13 08:03:37 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs
2025-07-13 08:03:37 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: Not authenticated - GET /api/v1/staffs/
2025-07-13 08:03:37 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0025秒
2025-07-13 08:03:37 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0080秒
2025-07-13 08:03:37 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs/
2025-07-13 08:03:37 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: Not authenticated - GET /api/v1/staffs/
2025-07-13 08:03:37 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0011秒
2025-07-13 08:04:28 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs
2025-07-13 08:04:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0062秒
2025-07-13 08:04:28 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs/
2025-07-13 08:04:28 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: Not authenticated - GET /api/v1/staffs/
2025-07-13 08:04:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0065秒
2025-07-13 08:04:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://127.0.0.1:8000/api/v1/staffs
2025-07-13 08:04:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://127.0.0.1:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0056秒
2025-07-13 08:04:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://127.0.0.1:8000/api/v1/staffs/
2025-07-13 08:04:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://127.0.0.1:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0007秒
2025-07-13 08:04:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://127.0.0.1:8000/api/v1/staffs/
2025-07-13 08:04:55 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: Not authenticated - POST /api/v1/staffs/
2025-07-13 08:04:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://127.0.0.1:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0065秒
2025-07-13 08:05:07 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://127.0.0.1:8000/api/v1/staffs
2025-07-13 08:05:07 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://127.0.0.1:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0061秒
2025-07-13 08:05:07 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://127.0.0.1:8000/api/v1/staffs/
2025-07-13 08:05:07 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: Not authenticated - POST /api/v1/staffs/
2025-07-13 08:05:07 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://127.0.0.1:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0080秒
2025-07-13 08:06:56 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs
2025-07-13 08:06:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0055秒
2025-07-13 08:06:56 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs/
2025-07-13 08:06:56 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs
2025-07-13 08:06:56 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: Not authenticated - GET /api/v1/staffs/
2025-07-13 08:06:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0057秒
2025-07-13 08:06:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0021秒
2025-07-13 08:06:56 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs/
2025-07-13 08:06:56 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: Not authenticated - GET /api/v1/staffs/
2025-07-13 08:06:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0013秒
2025-07-13 08:07:03 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs
2025-07-13 08:07:03 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0102秒
2025-07-13 08:07:03 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs/
2025-07-13 08:07:03 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs
2025-07-13 08:07:03 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: Not authenticated - GET /api/v1/staffs/
2025-07-13 08:07:03 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0021秒
2025-07-13 08:07:03 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0072秒
2025-07-13 08:07:03 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs/
2025-07-13 08:07:03 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: Not authenticated - GET /api/v1/staffs/
2025-07-13 08:07:03 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0013秒
2025-07-13 08:08:44 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs
2025-07-13 08:08:44 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0127秒
2025-07-13 08:08:44 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs/
2025-07-13 08:08:44 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs
2025-07-13 08:08:44 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: Not authenticated - GET /api/v1/staffs/
2025-07-13 08:08:44 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0064秒
2025-07-13 08:08:44 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0024秒
2025-07-13 08:08:44 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs/
2025-07-13 08:08:44 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: Not authenticated - GET /api/v1/staffs/
2025-07-13 08:08:44 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0014秒
2025-07-13 08:08:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs
2025-07-13 08:08:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0049秒
2025-07-13 08:08:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs/
2025-07-13 08:08:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs
2025-07-13 08:08:49 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: Not authenticated - GET /api/v1/staffs/
2025-07-13 08:08:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0021秒
2025-07-13 08:08:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0055秒
2025-07-13 08:08:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs/
2025-07-13 08:08:49 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: Not authenticated - GET /api/v1/staffs/
2025-07-13 08:08:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0013秒
2025-07-13 08:11:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs
2025-07-13 08:11:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0132秒
2025-07-13 08:11:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs/
2025-07-13 08:11:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs
2025-07-13 08:11:10 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: Not authenticated - GET /api/v1/staffs/
2025-07-13 08:11:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0018秒
2025-07-13 08:11:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0090秒
2025-07-13 08:11:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs/
2025-07-13 08:11:10 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: Not authenticated - GET /api/v1/staffs/
2025-07-13 08:11:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0013秒
2025-07-13 08:13:22 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs
2025-07-13 08:13:22 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0049秒
2025-07-13 08:13:22 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs/
2025-07-13 08:13:22 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs
2025-07-13 08:13:22 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: Not authenticated - GET /api/v1/staffs/
2025-07-13 08:13:22 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0070秒
2025-07-13 08:13:22 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0022秒
2025-07-13 08:13:22 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs/
2025-07-13 08:13:22 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: Not authenticated - GET /api/v1/staffs/
2025-07-13 08:13:22 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0013秒
2025-07-13 08:13:25 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs
2025-07-13 08:13:25 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0081秒
2025-07-13 08:13:25 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs/
2025-07-13 08:13:25 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs
2025-07-13 08:13:25 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: Not authenticated - GET /api/v1/staffs/
2025-07-13 08:13:25 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0043秒
2025-07-13 08:13:25 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0027秒
2025-07-13 08:13:25 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://127.0.0.1:8000/api/v1/staffs/
2025-07-13 08:13:25 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: Not authenticated - GET /api/v1/staffs/
2025-07-13 08:13:25 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://127.0.0.1:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0020秒
2025-07-13 08:32:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/login/access-token
2025-07-13 08:32:49 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 用户名或密码不正确 - POST /api/v1/login/access-token
2025-07-13 08:32:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/login/access-token - 状态码: 401 - 耗时: 0.1370秒
2025-07-13 08:33:01 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/login/access-token
2025-07-13 08:33:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/login/access-token - 状态码: 200 - 耗时: 0.3413秒
2025-07-13 08:35:53 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/login/access-token
2025-07-13 08:35:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/login/access-token - 状态码: 200 - 耗时: 0.3598秒
2025-07-13 08:37:27 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/login/access-token
2025-07-13 08:37:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/login/access-token - 状态码: 200 - 耗时: 0.3142秒
2025-07-13 08:39:42 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs
2025-07-13 08:39:42 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs - 状态码: 200 - 耗时: 0.0244秒
2025-07-13 08:39:42 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:39:42 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0149秒
2025-07-13 08:39:42 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/
2025-07-13 08:39:42 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0010秒
2025-07-13 08:39:42 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:39:42 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:39:42 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0295秒
2025-07-13 08:40:39 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs
2025-07-13 08:40:39 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs - 状态码: 200 - 耗时: 0.0167秒
2025-07-13 08:40:39 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:40:39 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0034秒
2025-07-13 08:40:39 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:40:39 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:40:39 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0236秒
2025-07-13 08:40:41 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:40:41 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0028秒
2025-07-13 08:40:41 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:40:41 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:40:41 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0087秒
2025-07-13 08:40:45 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:40:45 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0034秒
2025-07-13 08:40:45 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:40:45 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:40:45 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0056秒
2025-07-13 08:40:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:40:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0021秒
2025-07-13 08:40:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:40:49 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:40:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0036秒
2025-07-13 08:40:50 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:40:50 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0060秒
2025-07-13 08:40:50 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:40:50 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:40:50 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0013秒
2025-07-13 08:40:52 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:40:52 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0157秒
2025-07-13 08:40:52 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:40:52 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:40:52 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0051秒
2025-07-13 08:40:58 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:40:58 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0072秒
2025-07-13 08:40:58 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:40:58 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:40:58 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0170秒
2025-07-13 08:41:25 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:41:25 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0133秒
2025-07-13 08:41:25 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:41:25 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:41:25 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0062秒
2025-07-13 08:41:26 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:41:26 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0034秒
2025-07-13 08:41:26 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:41:26 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:41:26 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0022秒
2025-07-13 08:41:28 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:41:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0069秒
2025-07-13 08:41:28 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:41:28 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:41:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0049秒
2025-07-13 08:41:32 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:41:32 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0025秒
2025-07-13 08:41:32 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:41:32 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:41:32 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0047秒
2025-07-13 08:43:00 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:43:00 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0366秒
2025-07-13 08:43:00 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:43:01 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:43:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0186秒
2025-07-13 08:43:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:43:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0049秒
2025-07-13 08:43:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:43:02 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:43:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0076秒
2025-07-13 08:43:04 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:43:04 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0129秒
2025-07-13 08:43:04 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:43:04 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:43:04 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0027秒
2025-07-13 08:43:08 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:43:08 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0202秒
2025-07-13 08:43:08 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:43:08 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:43:08 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0187秒
2025-07-13 08:43:52 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:43:52 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0323秒
2025-07-13 08:43:52 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:43:52 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:43:52 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0239秒
2025-07-13 08:43:53 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:43:53 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0029秒
2025-07-13 08:43:53 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:43:53 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:43:53 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0178秒
2025-07-13 08:43:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:43:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0037秒
2025-07-13 08:43:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:43:55 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:43:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0056秒
2025-07-13 08:43:59 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:43:59 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0046秒
2025-07-13 08:43:59 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:43:59 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:43:59 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0055秒
2025-07-13 08:44:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:44:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0118秒
2025-07-13 08:44:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:44:30 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:44:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0053秒
2025-07-13 08:44:37 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:44:37 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0086秒
2025-07-13 08:44:37 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:44:37 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:44:37 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0099秒
2025-07-13 08:44:39 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:44:39 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0045秒
2025-07-13 08:44:39 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:44:39 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:44:39 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0023秒
2025-07-13 08:44:41 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:44:41 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0021秒
2025-07-13 08:44:41 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:44:41 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:44:41 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0993秒
2025-07-13 08:44:42 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:44:42 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0046秒
2025-07-13 08:44:42 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:44:42 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:44:42 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0013秒
2025-07-13 08:44:44 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:44:44 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0017秒
2025-07-13 08:44:44 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:44:44 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:44:44 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0017秒
2025-07-13 08:44:48 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:44:48 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0031秒
2025-07-13 08:44:48 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:44:48 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:44:48 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0046秒
2025-07-13 08:47:46 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:47:46 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0174秒
2025-07-13 08:47:46 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:47:46 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:47:46 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0187秒
2025-07-13 08:47:47 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:47:47 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0026秒
2025-07-13 08:47:47 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:47:47 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:47:47 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0054秒
2025-07-13 08:47:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:47:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0045秒
2025-07-13 08:47:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:47:49 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:47:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0024秒
2025-07-13 08:47:53 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:47:53 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0103秒
2025-07-13 08:47:53 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:47:53 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:47:53 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0519秒
2025-07-13 08:48:06 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:48:06 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0327秒
2025-07-13 08:48:06 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:48:06 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:48:06 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0405秒
2025-07-13 08:48:07 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:48:07 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0018秒
2025-07-13 08:48:07 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:48:07 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:48:07 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0132秒
2025-07-13 08:48:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:48:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0021秒
2025-07-13 08:48:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:48:09 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:48:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0067秒
2025-07-13 08:48:13 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:48:13 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0099秒
2025-07-13 08:48:13 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:48:13 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 08:48:13 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 401 - 耗时: 0.0048秒
2025-07-13 08:48:28 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/login/access-token
2025-07-13 08:48:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/login/access-token - 状态码: 200 - 耗时: 0.3710秒
2025-07-13 08:48:28 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/me
2025-07-13 08:48:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/me - 状态码: 200 - 耗时: 0.0006秒
2025-07-13 08:48:28 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/me
2025-07-13 08:48:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/me - 状态码: 200 - 耗时: 0.2369秒
2025-07-13 08:48:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs
2025-07-13 08:48:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs - 状态码: 200 - 耗时: 0.0066秒
2025-07-13 08:48:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:48:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0413秒
2025-07-13 08:48:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/
2025-07-13 08:48:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0008秒
2025-07-13 08:48:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:48:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0690秒
2025-07-13 08:49:01 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/staffs
2025-07-13 08:49:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0087秒
2025-07-13 08:49:01 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/staffs/
2025-07-13 08:49:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/staffs/ - 状态码: 201 - 耗时: 0.4747秒
2025-07-13 08:49:01 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:49:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0006秒
2025-07-13 08:49:01 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:49:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0349秒
2025-07-13 08:49:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/2
2025-07-13 08:49:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/2 - 状态码: 200 - 耗时: 0.0053秒
2025-07-13 08:49:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: PUT http://localhost:8000/api/v1/staffs/2
2025-07-13 08:49:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: PUT http://localhost:8000/api/v1/staffs/2 - 状态码: 200 - 耗时: 0.1247秒
2025-07-13 08:49:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:49:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0008秒
2025-07-13 08:49:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:49:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0264秒
2025-07-13 08:49:36 | INFO | app.core.middleware:dispatch:54 - 开始请求: DELETE http://localhost:8000/api/v1/staffs/2
2025-07-13 08:49:36 | INFO | app.core.middleware:dispatch:62 - 完成请求: DELETE http://localhost:8000/api/v1/staffs/2 - 状态码: 200 - 耗时: 0.0553秒
2025-07-13 08:49:36 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:49:36 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0006秒
2025-07-13 08:49:36 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:49:36 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0289秒
2025-07-13 08:54:35 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:54:35 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0260秒
2025-07-13 08:54:35 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:54:35 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.1387秒
2025-07-13 08:54:50 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/login/access-token
2025-07-13 08:54:50 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/login/access-token - 状态码: 200 - 耗时: 0.3270秒
2025-07-13 08:54:50 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/me
2025-07-13 08:54:50 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/me - 状态码: 200 - 耗时: 0.0641秒
2025-07-13 08:54:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:54:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0090秒
2025-07-13 08:54:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:54:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.1178秒
2025-07-13 08:57:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:57:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0145秒
2025-07-13 08:57:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:57:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0832秒
2025-07-13 08:59:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs
2025-07-13 08:59:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs - 状态码: 200 - 耗时: 0.0153秒
2025-07-13 08:59:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 08:59:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0033秒
2025-07-13 08:59:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/
2025-07-13 08:59:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0011秒
2025-07-13 08:59:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 08:59:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0991秒
2025-07-13 08:59:32 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users
2025-07-13 08:59:32 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users - 状态码: 200 - 耗时: 0.0077秒
2025-07-13 08:59:32 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 08:59:32 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0123秒
2025-07-13 08:59:32 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/
2025-07-13 08:59:32 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0006秒
2025-07-13 08:59:32 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 08:59:32 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.1507秒
2025-07-13 08:59:41 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users
2025-07-13 08:59:41 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0118秒
2025-07-13 08:59:41 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users/
2025-07-13 08:59:41 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users/ - 状态码: 201 - 耗时: 0.1124秒
2025-07-13 08:59:41 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 08:59:41 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0009秒
2025-07-13 08:59:41 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 08:59:41 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0279秒
2025-07-13 08:59:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users
2025-07-13 08:59:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0158秒
2025-07-13 08:59:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users/
2025-07-13 08:59:55 | ERROR | app.core.middleware:dispatch:66 - 请求异常: POST http://localhost:8000/api/v1/users/ - 错误: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_id_card"
DETAIL:  Key (id_card)=() already exists.
[SQL: INSERT INTO users (name, id_card, phone) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR) RETURNING users.id, users.created_at, users.updated_at]
[parameters: ('张琪琪', '', '')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-13 08:59:55 | ERROR | app.core.middleware:global_exception_handler:39 - Unhandled error: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_id_card"
DETAIL:  Key (id_card)=() already exists.
[SQL: INSERT INTO users (name, id_card, phone) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR) RETURNING users.id, users.created_at, users.updated_at]
[parameters: ('张琪琪', '', '')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):

  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
    │    │       │           │             │      └ ('张琪琪', '', '')
    │    │       │           │             └ <function PreparedStatement.fetch at 0xffff92d0ede0>
    │    │       │           └ <asyncpg.prepared_stmt.PreparedStatement object at 0xffff8e20fc40>
    │    │       └ <class 'collections.deque'>
    │    └ <member '_rows' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8e489ae0>
  File "/app/.venv/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
                 │                   │        └ None
                 │                   └ ('张琪琪', '', '')
                 └ <asyncpg.prepared_stmt.PreparedStatement object at 0xffff8e20fc40>
  File "/app/.venv/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                            └ <asyncpg.prepared_stmt.PreparedStatement object at 0xffff8e20fc40>
  File "/app/.venv/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
                 │        └ <asyncpg.protocol.protocol.Protocol object at 0xffff9135a2b0>
                 └ <function PreparedStatement.__bind_execute.<locals>.<lambda> at 0xffff8e4323e0>
  File "asyncpg/protocol/protocol.pyx", line 206, in bind_execute
    return await waiter

asyncpg.exceptions.UniqueViolationError: duplicate key value violates unique constraint "ix_users_id_card"
DETAIL:  Key (id_card)=() already exists.


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0xffff93607560>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0xffff9327ff20>
    └ <sqlalchemy.engine.base.Connection object at 0xffff8ee51130>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('张琪琪', '', '')
    │      │       └ 'INSERT INTO users (name, id_card, phone) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR) RETURNING users.id, users.created_at...
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0xffff92ea1e40>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8e489ae0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8e489ae0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0xffff9118b760>
           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>
           └ <_AsyncIoGreenlet object at 0xffff8eeaec00 (otid=0xffff94cc1a40) dead>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_connection._rollback_and_discard at 0xffff8e1ee740>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0xffff92ea1c60>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8e489ae0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ UniqueViolationError('duplicate key value violates unique constraint "ix_users_id_card"')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8e489ae0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
          │                     └ UniqueViolationError('duplicate key value violates unique constraint "ix_users_id_card"')
          └ IntegrityError('<class \'asyncpg.exceptions.UniqueViolationError\'>: duplicate key value violates unique constraint "ix_users...

sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_id_card"
DETAIL:  Key (id_card)=() already exists.


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/app/.venv/bin/uvicorn", line 10, in <module>
    sys.exit(main())
    │   │    └ <Command main>
    │   └ <built-in function exit>
    └ <module 'sys' (built-in)>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
           │    │     │       └ {}
           │    │     └ ()
           │    └ <function Command.main at 0xffff9641d620>
           └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
         │    │      └ <click.core.Context object at 0xffff97255340>
         │    └ <function Command.invoke at 0xffff9641d300>
         └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           │   │      │    │           │   └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │   │      │    │           └ <click.core.Context object at 0xffff97255340>
           │   │      │    └ <function main at 0xffff961a80e0>
           │   │      └ <Command main>
           │   └ <function Context.invoke at 0xffff9641c540>
           └ <click.core.Context object at 0xffff97255340>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
           │         │       └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │         └ ()
           └ <function main at 0xffff961a80e0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 413, in main
    run(
    └ <function run at 0xffff9641bb00>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 580, in run
    server.run()
    │      └ <function Server.run at 0xffff96224180>
    └ <uvicorn.server.Server object at 0xffff9652ca40>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0xffff96224220>
           │       │   └ <uvicorn.server.Server object at 0xffff9652ca40>
           │       └ <function run at 0xffff973fc680>
           └ <module 'asyncio' from '/usr/local/lib/python3.12/asyncio/__init__.py'>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0xffff961567a0>
           │      └ <function Runner.run at 0xffff96e602c0>
           └ <asyncio.runners.Runner object at 0xffff9652c8c0>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /app/.venv/lib/python3.12/site-packages/uvicorn/server.py:71> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0xffff9612c450>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0xffff9652c8c0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffff91363350>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8eeffd...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8ee...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0xffff950e1eb0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffff91363350>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8eeffd...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8ee...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
  File "/app/.venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8eeffd...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8ee...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff91b722a0>
          └ <fastapi.applications.FastAPI object at 0xffff950e1eb0>
> File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xffff949f9800>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8ee...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <app.core.middleware.LoggingMiddleware object at 0xffff90fddd00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff91b722a0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0xffff94d70f40>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [IntegrityError('(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <c...
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0xffff94ba6dc0>
    └ <contextlib._GeneratorContextManager object at 0xffff8eefdd00>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff949fa2a0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0xffff8eefe990>
                     │    └ <bound method LoggingMiddleware.dispatch of <app.core.middleware.LoggingMiddleware object at 0xffff90fddd00>>
                     └ <app.core.middleware.LoggingMiddleware object at 0xffff90fddd00>

  File "/app/app/core/middleware.py", line 57, in dispatch
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0xffff8eefe990>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff949fa2a0>

  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ IntegrityError('(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class \'asyncpg.exceptions.UniqueViolationError\'>: ...
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff949fa520>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff949fa700>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0xffff9119b3b0>
          └ <app.core.middleware.LoggingMiddleware object at 0xffff90fddd00>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '44', 'sec-ch-ua-platform': '"macOS"', 'auth...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff949fa520>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff949fa700>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0xffff94c76660>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffff9119b3b0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff9119b3b0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff949fa700>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff90fddcd0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffff9119b3b0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff9119b3b0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff949fa700>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0xffff8eeffa70>
          │                            │    └ <fastapi.routing.APIRouter object at 0xffff966c2960>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff90fddcd0>
          └ <function wrap_app_handling_exceptions at 0xffff94dab100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8ee849a0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff949fa700>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0xffff966c2960>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8ee849a0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff949fa700>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0xffff966c2960>>
          └ <fastapi.routing.APIRouter object at 0xffff966c2960>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8ee849a0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff949fa700>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │     └ <function Route.handle at 0xffff94c545e0>
          └ APIRoute(path='/api/v1/users/', name='create_user', methods=['POST'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8ee849a0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff949fa700>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0xffff90fa4360>
          └ APIRoute(path='/api/v1/users/', name='create_user', methods=['POST'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8ee849a0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff949fa700>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0xffff8eefdc10>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0xffff91043740>
          └ <function wrap_app_handling_exceptions at 0xffff94dab100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff92d41080>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff949fa700>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0xffff91043740>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0xffff8eefdc10>
                     └ <function get_request_handler.<locals>.app at 0xffff90fa42c0>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0xffff94daaf20>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0xffff8eeff4a0>, 'current_staff': <app.staffs.models.Staff obje...
                 │         └ <function create_user at 0xffff92da0860>
                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...

  File "/app/app/users/routers.py", line 48, in create_user
    new_user = await user_service.create(db, user_in)
                     │            │      │   └ UserCreate(name='张琪琪', id_card='', phone='')
                     │            │      └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0xffff8eeff4a0>
                     │            └ <function create at 0xffff92d43380>
                     └ <module 'app.users.services' from '/app/app/users/services.py'>

  File "/app/app/users/services.py", line 35, in create
    await db.commit()
          │  └ <function AsyncSession.commit at 0xffff931a4a40>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0xffff8eeff4a0>

  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 1014, in commit
    await greenlet_spawn(self.sync_session.commit)
          │              │    │            └ <function Session.commit at 0xffff931fc180>
          │              │    └ <sqlalchemy.orm.session.Session object at 0xffff8eefc290>
          │              └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0xffff8eeff4a0>
          └ <function greenlet_spawn at 0xffff93efcb80>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             │       │      └ None
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0xffff8eeaec00 (otid=0xffff94cc1a40) dead>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0xffff931fb100>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0xffff8eead810>
  File "<string>", line 2, in commit
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0xffff8eead810>
                └ <function SessionTransaction.commit at 0xffff931fb060>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0xffff931faf20>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0xffff8eead810>
  File "<string>", line 2, in _prepare_impl
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0xffff8eead810>
                └ <function SessionTransaction._prepare_impl at 0xffff931fae80>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0xffff931ff060>
    │    └ <sqlalchemy.orm.session.Session object at 0xffff8eefc290>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0xffff8eead810>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0xffff931ff240>
    └ <sqlalchemy.orm.session.Session object at 0xffff8eefc290>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/__init__.py'>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0xffff8e2e9f80>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class \'asyncpg.exceptions.UniqueViolationError\'>: ...
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0xffff931ef9c0>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0xffff8eefde50>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0xffff8eefde50>
    │   └ <function SaveUpdateAll.execute at 0xffff931f8540>
    └ SaveUpdateAll(Mapper[User(users)])
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0xffff932db1a0>
    │    │         └ <module 'sqlalchemy.orm.persistence' from '/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py'>
    │    └ <module 'sqlalchemy.util.preloaded' from '/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/preloaded.py'>
    └ <module 'sqlalchemy.util' from '/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/__init__.py'>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0xffff931eaac0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0xffff937f87c0>
             └ <sqlalchemy.engine.base.Connection object at 0xffff8ee51130>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0xffff90ff0bf0>>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0xffff937f8ae0>
           └ <sqlalchemy.engine.base.Connection object at 0xffff8ee51130>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0xffff937f8cc0>
          └ <sqlalchemy.engine.base.Connection object at 0xffff8ee51130>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0xffff937f8d60>
           └ <sqlalchemy.engine.base.Connection object at 0xffff8ee51130>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0xffff937f8fe0>
    └ <sqlalchemy.engine.base.Connection object at 0xffff8ee51130>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError('<class \'asyncpg.exceptions.UniqueViolationError\'>: duplicate key value violates unique constraint "ix_users...
          │                    │              └ (<class 'sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError'>, IntegrityError('<class \'asyncpg.e...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class \'asyncpg.exceptions.UniqueViolationError\'>: ...
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0xffff93607560>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0xffff9327ff20>
    └ <sqlalchemy.engine.base.Connection object at 0xffff8ee51130>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('张琪琪', '', '')
    │      │       └ 'INSERT INTO users (name, id_card, phone) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR) RETURNING users.id, users.created_at...
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0xffff92ea1e40>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8e489ae0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8e489ae0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0xffff9118b760>
           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>
           └ <_AsyncIoGreenlet object at 0xffff8eeaec00 (otid=0xffff94cc1a40) dead>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_connection._rollback_and_discard at 0xffff8e1ee740>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0xffff92ea1c60>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8e489ae0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ UniqueViolationError('duplicate key value violates unique constraint "ix_users_id_card"')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8e489ae0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
          │                     └ UniqueViolationError('duplicate key value violates unique constraint "ix_users_id_card"')
          └ IntegrityError('<class \'asyncpg.exceptions.UniqueViolationError\'>: duplicate key value violates unique constraint "ix_users...

sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_id_card"
DETAIL:  Key (id_card)=() already exists.
[SQL: INSERT INTO users (name, id_card, phone) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR) RETURNING users.id, users.created_at, users.updated_at]
[parameters: ('张琪琪', '', '')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-13 08:59:58 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users
2025-07-13 08:59:58 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0014秒
2025-07-13 08:59:58 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users/
2025-07-13 08:59:58 | ERROR | app.core.middleware:dispatch:66 - 请求异常: POST http://localhost:8000/api/v1/users/ - 错误: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_id_card"
DETAIL:  Key (id_card)=() already exists.
[SQL: INSERT INTO users (name, id_card, phone) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR) RETURNING users.id, users.created_at, users.updated_at]
[parameters: ('张琪琪', '', '')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-13 08:59:58 | ERROR | app.core.middleware:global_exception_handler:39 - Unhandled error: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_id_card"
DETAIL:  Key (id_card)=() already exists.
[SQL: INSERT INTO users (name, id_card, phone) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR) RETURNING users.id, users.created_at, users.updated_at]
[parameters: ('张琪琪', '', '')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):

  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
    │    │       │           │             │      └ ('张琪琪', '', '')
    │    │       │           │             └ <function PreparedStatement.fetch at 0xffff92d0ede0>
    │    │       │           └ <asyncpg.prepared_stmt.PreparedStatement object at 0xffff8dfb4950>
    │    │       └ <class 'collections.deque'>
    │    └ <member '_rows' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dface80>
  File "/app/.venv/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
                 │                   │        └ None
                 │                   └ ('张琪琪', '', '')
                 └ <asyncpg.prepared_stmt.PreparedStatement object at 0xffff8dfb4950>
  File "/app/.venv/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                            └ <asyncpg.prepared_stmt.PreparedStatement object at 0xffff8dfb4950>
  File "/app/.venv/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
                 │        └ <asyncpg.protocol.protocol.Protocol object at 0xffff9135a990>
                 └ <function PreparedStatement.__bind_execute.<locals>.<lambda> at 0xffff8dfbd440>
  File "asyncpg/protocol/protocol.pyx", line 206, in bind_execute
    return await waiter

asyncpg.exceptions.UniqueViolationError: duplicate key value violates unique constraint "ix_users_id_card"
DETAIL:  Key (id_card)=() already exists.


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0xffff93607560>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0xffff9327ff20>
    └ <sqlalchemy.engine.base.Connection object at 0xffff8ee62780>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('张琪琪', '', '')
    │      │       └ 'INSERT INTO users (name, id_card, phone) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR) RETURNING users.id, users.created_at...
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0xffff92ea1e40>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dface80>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dface80>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0xffff9118bca0>
           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>
           └ <_AsyncIoGreenlet object at 0xffff8edbe940 (otid=0xffff94cc1a40) dead>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_connection._rollback_and_discard at 0xffff8dfd4930>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0xffff92ea1c60>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dface80>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ UniqueViolationError('duplicate key value violates unique constraint "ix_users_id_card"')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dface80>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
          │                     └ UniqueViolationError('duplicate key value violates unique constraint "ix_users_id_card"')
          └ IntegrityError('<class \'asyncpg.exceptions.UniqueViolationError\'>: duplicate key value violates unique constraint "ix_users...

sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_id_card"
DETAIL:  Key (id_card)=() already exists.


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/app/.venv/bin/uvicorn", line 10, in <module>
    sys.exit(main())
    │   │    └ <Command main>
    │   └ <built-in function exit>
    └ <module 'sys' (built-in)>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
           │    │     │       └ {}
           │    │     └ ()
           │    └ <function Command.main at 0xffff9641d620>
           └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
         │    │      └ <click.core.Context object at 0xffff97255340>
         │    └ <function Command.invoke at 0xffff9641d300>
         └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           │   │      │    │           │   └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │   │      │    │           └ <click.core.Context object at 0xffff97255340>
           │   │      │    └ <function main at 0xffff961a80e0>
           │   │      └ <Command main>
           │   └ <function Context.invoke at 0xffff9641c540>
           └ <click.core.Context object at 0xffff97255340>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
           │         │       └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │         └ ()
           └ <function main at 0xffff961a80e0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 413, in main
    run(
    └ <function run at 0xffff9641bb00>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 580, in run
    server.run()
    │      └ <function Server.run at 0xffff96224180>
    └ <uvicorn.server.Server object at 0xffff9652ca40>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0xffff96224220>
           │       │   └ <uvicorn.server.Server object at 0xffff9652ca40>
           │       └ <function run at 0xffff973fc680>
           └ <module 'asyncio' from '/usr/local/lib/python3.12/asyncio/__init__.py'>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0xffff961567a0>
           │      └ <function Runner.run at 0xffff96e602c0>
           └ <asyncio.runners.Runner object at 0xffff9652c8c0>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /app/.venv/lib/python3.12/site-packages/uvicorn/server.py:71> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0xffff9612c450>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0xffff9652c8c0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffff91363350>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff9104b3...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff910...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0xffff950e1eb0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffff91363350>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff9104b3...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff910...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
  File "/app/.venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff9104b3...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff910...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff91b722a0>
          └ <fastapi.applications.FastAPI object at 0xffff950e1eb0>
> File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xffff8e423920>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff910...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <app.core.middleware.LoggingMiddleware object at 0xffff90fddd00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff91b722a0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0xffff94d70f40>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [IntegrityError('(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <c...
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0xffff90f95e50>
    └ <contextlib._GeneratorContextManager object at 0xffff8ee61640>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff8e423a60>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0xffff8ee627b0>
                     │    └ <bound method LoggingMiddleware.dispatch of <app.core.middleware.LoggingMiddleware object at 0xffff90fddd00>>
                     └ <app.core.middleware.LoggingMiddleware object at 0xffff90fddd00>

  File "/app/app/core/middleware.py", line 57, in dispatch
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0xffff8ee627b0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff8e423a60>

  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ IntegrityError('(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class \'asyncpg.exceptions.UniqueViolationError\'>: ...
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff8ee17c40>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8ee17e20>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0xffff9119b3b0>
          └ <app.core.middleware.LoggingMiddleware object at 0xffff90fddd00>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '44', 'sec-ch-ua-platform': '"macOS"', 'auth...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff8ee17c40>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8ee17e20>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0xffff94c76660>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffff9119b3b0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff9119b3b0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8ee17e20>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff90fddcd0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffff9119b3b0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff9119b3b0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8ee17e20>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0xffff8ee601d0>
          │                            │    └ <fastapi.routing.APIRouter object at 0xffff966c2960>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff90fddcd0>
          └ <function wrap_app_handling_exceptions at 0xffff94dab100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8ee17d80>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8ee17e20>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0xffff966c2960>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8ee17d80>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8ee17e20>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0xffff966c2960>>
          └ <fastapi.routing.APIRouter object at 0xffff966c2960>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8ee17d80>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8ee17e20>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │     └ <function Route.handle at 0xffff94c545e0>
          └ APIRoute(path='/api/v1/users/', name='create_user', methods=['POST'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8ee17d80>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8ee17e20>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0xffff90fa4360>
          └ APIRoute(path='/api/v1/users/', name='create_user', methods=['POST'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8ee17d80>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8ee17e20>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0xffff8ee63e60>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0xffff8ee17ec0>
          └ <function wrap_app_handling_exceptions at 0xffff94dab100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8dfbc040>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8ee17e20>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0xffff8ee17ec0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0xffff8ee63e60>
                     └ <function get_request_handler.<locals>.app at 0xffff90fa42c0>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0xffff94daaf20>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0xffff8ee62210>, 'current_staff': <app.staffs.models.Staff obje...
                 │         └ <function create_user at 0xffff92da0860>
                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...

  File "/app/app/users/routers.py", line 48, in create_user
    new_user = await user_service.create(db, user_in)
                     │            │      │   └ UserCreate(name='张琪琪', id_card='', phone='')
                     │            │      └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0xffff8ee62210>
                     │            └ <function create at 0xffff92d43380>
                     └ <module 'app.users.services' from '/app/app/users/services.py'>

  File "/app/app/users/services.py", line 35, in create
    await db.commit()
          │  └ <function AsyncSession.commit at 0xffff931a4a40>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0xffff8ee62210>

  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 1014, in commit
    await greenlet_spawn(self.sync_session.commit)
          │              │    │            └ <function Session.commit at 0xffff931fc180>
          │              │    └ <sqlalchemy.orm.session.Session object at 0xffff8ee60d70>
          │              └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0xffff8ee62210>
          └ <function greenlet_spawn at 0xffff93efcb80>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             │       │      └ None
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0xffff8edbe940 (otid=0xffff94cc1a40) dead>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0xffff931fb100>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0xffff8edb2c50>
  File "<string>", line 2, in commit
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0xffff8edb2c50>
                └ <function SessionTransaction.commit at 0xffff931fb060>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0xffff931faf20>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0xffff8edb2c50>
  File "<string>", line 2, in _prepare_impl
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0xffff8edb2c50>
                └ <function SessionTransaction._prepare_impl at 0xffff931fae80>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0xffff931ff060>
    │    └ <sqlalchemy.orm.session.Session object at 0xffff8ee60d70>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0xffff8edb2c50>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0xffff931ff240>
    └ <sqlalchemy.orm.session.Session object at 0xffff8ee60d70>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/__init__.py'>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0xffff8edb1a40>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class \'asyncpg.exceptions.UniqueViolationError\'>: ...
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0xffff931ef9c0>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0xffff8ee63e00>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0xffff8ee63e00>
    │   └ <function SaveUpdateAll.execute at 0xffff931f8540>
    └ SaveUpdateAll(Mapper[User(users)])
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0xffff932db1a0>
    │    │         └ <module 'sqlalchemy.orm.persistence' from '/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py'>
    │    └ <module 'sqlalchemy.util.preloaded' from '/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/preloaded.py'>
    └ <module 'sqlalchemy.util' from '/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/__init__.py'>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0xffff931eaac0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0xffff937f87c0>
             └ <sqlalchemy.engine.base.Connection object at 0xffff8ee62780>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0xffff8ee62f60>>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0xffff937f8ae0>
           └ <sqlalchemy.engine.base.Connection object at 0xffff8ee62780>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0xffff937f8cc0>
          └ <sqlalchemy.engine.base.Connection object at 0xffff8ee62780>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0xffff937f8d60>
           └ <sqlalchemy.engine.base.Connection object at 0xffff8ee62780>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0xffff937f8fe0>
    └ <sqlalchemy.engine.base.Connection object at 0xffff8ee62780>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError('<class \'asyncpg.exceptions.UniqueViolationError\'>: duplicate key value violates unique constraint "ix_users...
          │                    │              └ (<class 'sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError'>, IntegrityError('<class \'asyncpg.e...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class \'asyncpg.exceptions.UniqueViolationError\'>: ...
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0xffff93607560>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0xffff9327ff20>
    └ <sqlalchemy.engine.base.Connection object at 0xffff8ee62780>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('张琪琪', '', '')
    │      │       └ 'INSERT INTO users (name, id_card, phone) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR) RETURNING users.id, users.created_at...
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0xffff92ea1e40>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dface80>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dface80>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0xffff9118bca0>
           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>
           └ <_AsyncIoGreenlet object at 0xffff8edbe940 (otid=0xffff94cc1a40) dead>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_connection._rollback_and_discard at 0xffff8dfd4930>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0xffff92ea1c60>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dface80>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ UniqueViolationError('duplicate key value violates unique constraint "ix_users_id_card"')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dface80>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
          │                     └ UniqueViolationError('duplicate key value violates unique constraint "ix_users_id_card"')
          └ IntegrityError('<class \'asyncpg.exceptions.UniqueViolationError\'>: duplicate key value violates unique constraint "ix_users...

sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_id_card"
DETAIL:  Key (id_card)=() already exists.
[SQL: INSERT INTO users (name, id_card, phone) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR) RETURNING users.id, users.created_at, users.updated_at]
[parameters: ('张琪琪', '', '')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-13 09:00:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users
2025-07-13 09:00:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0160秒
2025-07-13 09:00:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users/
2025-07-13 09:00:05 | ERROR | app.core.middleware:dispatch:66 - 请求异常: POST http://localhost:8000/api/v1/users/ - 错误: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_id_card"
DETAIL:  Key (id_card)=() already exists.
[SQL: INSERT INTO users (name, id_card, phone) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR) RETURNING users.id, users.created_at, users.updated_at]
[parameters: ('张琪琪', '', '')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-13 09:00:05 | ERROR | app.core.middleware:global_exception_handler:39 - Unhandled error: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_id_card"
DETAIL:  Key (id_card)=() already exists.
[SQL: INSERT INTO users (name, id_card, phone) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR) RETURNING users.id, users.created_at, users.updated_at]
[parameters: ('张琪琪', '', '')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):

  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
    │    │       │           │             │      └ ('张琪琪', '', '')
    │    │       │           │             └ <function PreparedStatement.fetch at 0xffff92d0ede0>
    │    │       │           └ <asyncpg.prepared_stmt.PreparedStatement object at 0xffff8dfb5b20>
    │    │       └ <class 'collections.deque'>
    │    └ <member '_rows' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfad660>
  File "/app/.venv/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
                 │                   │        └ None
                 │                   └ ('张琪琪', '', '')
                 └ <asyncpg.prepared_stmt.PreparedStatement object at 0xffff8dfb5b20>
  File "/app/.venv/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                            └ <asyncpg.prepared_stmt.PreparedStatement object at 0xffff8dfb5b20>
  File "/app/.venv/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
                 │        └ <asyncpg.protocol.protocol.Protocol object at 0xffff9135a830>
                 └ <function PreparedStatement.__bind_execute.<locals>.<lambda> at 0xffff8dfbec00>
  File "asyncpg/protocol/protocol.pyx", line 206, in bind_execute
    return await waiter

asyncpg.exceptions.UniqueViolationError: duplicate key value violates unique constraint "ix_users_id_card"
DETAIL:  Key (id_card)=() already exists.


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0xffff93607560>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0xffff9327ff20>
    └ <sqlalchemy.engine.base.Connection object at 0xffff8ef10fe0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('张琪琪', '', '')
    │      │       └ 'INSERT INTO users (name, id_card, phone) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR) RETURNING users.id, users.created_at...
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0xffff92ea1e40>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfad660>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfad660>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0xffff8dfd0820>
           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>
           └ <_AsyncIoGreenlet object at 0xffff8edb1240 (otid=0xffff94cc1a40) dead>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_connection._rollback_and_discard at 0xffff8dfd5ff0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0xffff92ea1c60>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfad660>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ UniqueViolationError('duplicate key value violates unique constraint "ix_users_id_card"')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfad660>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
          │                     └ UniqueViolationError('duplicate key value violates unique constraint "ix_users_id_card"')
          └ IntegrityError('<class \'asyncpg.exceptions.UniqueViolationError\'>: duplicate key value violates unique constraint "ix_users...

sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_id_card"
DETAIL:  Key (id_card)=() already exists.


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/app/.venv/bin/uvicorn", line 10, in <module>
    sys.exit(main())
    │   │    └ <Command main>
    │   └ <built-in function exit>
    └ <module 'sys' (built-in)>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
           │    │     │       └ {}
           │    │     └ ()
           │    └ <function Command.main at 0xffff9641d620>
           └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
         │    │      └ <click.core.Context object at 0xffff97255340>
         │    └ <function Command.invoke at 0xffff9641d300>
         └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           │   │      │    │           │   └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │   │      │    │           └ <click.core.Context object at 0xffff97255340>
           │   │      │    └ <function main at 0xffff961a80e0>
           │   │      └ <Command main>
           │   └ <function Context.invoke at 0xffff9641c540>
           └ <click.core.Context object at 0xffff97255340>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
           │         │       └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │         └ ()
           └ <function main at 0xffff961a80e0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 413, in main
    run(
    └ <function run at 0xffff9641bb00>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 580, in run
    server.run()
    │      └ <function Server.run at 0xffff96224180>
    └ <uvicorn.server.Server object at 0xffff9652ca40>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0xffff96224220>
           │       │   └ <uvicorn.server.Server object at 0xffff9652ca40>
           │       └ <function run at 0xffff973fc680>
           └ <module 'asyncio' from '/usr/local/lib/python3.12/asyncio/__init__.py'>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0xffff961567a0>
           │      └ <function Runner.run at 0xffff96e602c0>
           └ <asyncio.runners.Runner object at 0xffff9652c8c0>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /app/.venv/lib/python3.12/site-packages/uvicorn/server.py:71> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0xffff9612c450>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0xffff9652c8c0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffff91363350>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8ef101...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8ef...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0xffff950e1eb0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffff91363350>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8ef101...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8ef...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
  File "/app/.venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8ef101...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8ef...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff91b722a0>
          └ <fastapi.applications.FastAPI object at 0xffff950e1eb0>
> File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xffff8dfbd080>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8ef...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <app.core.middleware.LoggingMiddleware object at 0xffff90fddd00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff91b722a0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0xffff94d70f40>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [IntegrityError('(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <c...
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0xffff8e14be00>
    └ <contextlib._GeneratorContextManager object at 0xffff8ef10080>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff8dfbd120>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0xffff8ef13950>
                     │    └ <bound method LoggingMiddleware.dispatch of <app.core.middleware.LoggingMiddleware object at 0xffff90fddd00>>
                     └ <app.core.middleware.LoggingMiddleware object at 0xffff90fddd00>

  File "/app/app/core/middleware.py", line 57, in dispatch
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0xffff8ef13950>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff8dfbd120>

  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ IntegrityError('(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class \'asyncpg.exceptions.UniqueViolationError\'>: ...
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff8dfbc2c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbc180>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0xffff9119b3b0>
          └ <app.core.middleware.LoggingMiddleware object at 0xffff90fddd00>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '44', 'sec-ch-ua-platform': '"macOS"', 'auth...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff8dfbc2c0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbc180>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0xffff94c76660>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffff9119b3b0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff9119b3b0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbc180>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff90fddcd0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffff9119b3b0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff9119b3b0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbc180>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0xffff8ef10500>
          │                            │    └ <fastapi.routing.APIRouter object at 0xffff966c2960>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff90fddcd0>
          └ <function wrap_app_handling_exceptions at 0xffff94dab100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8dfbd620>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbc180>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0xffff966c2960>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8dfbd620>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbc180>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0xffff966c2960>>
          └ <fastapi.routing.APIRouter object at 0xffff966c2960>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8dfbd620>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbc180>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │     └ <function Route.handle at 0xffff94c545e0>
          └ APIRoute(path='/api/v1/users/', name='create_user', methods=['POST'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8dfbd620>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbc180>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0xffff90fa4360>
          └ APIRoute(path='/api/v1/users/', name='create_user', methods=['POST'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8dfbd620>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbc180>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0xffff8ef106b0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0xffff8dfbd6c0>
          └ <function wrap_app_handling_exceptions at 0xffff94dab100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8dfbd800>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbc180>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0xffff8dfbd6c0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0xffff8ef106b0>
                     └ <function get_request_handler.<locals>.app at 0xffff90fa42c0>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0xffff94daaf20>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0xffff8ef10bf0>, 'current_staff': <app.staffs.models.Staff obje...
                 │         └ <function create_user at 0xffff92da0860>
                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...

  File "/app/app/users/routers.py", line 48, in create_user
    new_user = await user_service.create(db, user_in)
                     │            │      │   └ UserCreate(name='张琪琪', id_card='', phone='')
                     │            │      └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0xffff8ef10bf0>
                     │            └ <function create at 0xffff92d43380>
                     └ <module 'app.users.services' from '/app/app/users/services.py'>

  File "/app/app/users/services.py", line 35, in create
    await db.commit()
          │  └ <function AsyncSession.commit at 0xffff931a4a40>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0xffff8ef10bf0>

  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 1014, in commit
    await greenlet_spawn(self.sync_session.commit)
          │              │    │            └ <function Session.commit at 0xffff931fc180>
          │              │    └ <sqlalchemy.orm.session.Session object at 0xffff8ef10ce0>
          │              └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0xffff8ef10bf0>
          └ <function greenlet_spawn at 0xffff93efcb80>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             │       │      └ None
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0xffff8edb1240 (otid=0xffff94cc1a40) dead>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0xffff931fb100>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0xffff8edab310>
  File "<string>", line 2, in commit
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0xffff8edab310>
                └ <function SessionTransaction.commit at 0xffff931fb060>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0xffff931faf20>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0xffff8edab310>
  File "<string>", line 2, in _prepare_impl
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0xffff8edab310>
                └ <function SessionTransaction._prepare_impl at 0xffff931fae80>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0xffff931ff060>
    │    └ <sqlalchemy.orm.session.Session object at 0xffff8ef10ce0>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0xffff8edab310>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0xffff931ff240>
    └ <sqlalchemy.orm.session.Session object at 0xffff8ef10ce0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/__init__.py'>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0xffff8ed7f8c0>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class \'asyncpg.exceptions.UniqueViolationError\'>: ...
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0xffff931ef9c0>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0xffff8ef10da0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0xffff8ef10da0>
    │   └ <function SaveUpdateAll.execute at 0xffff931f8540>
    └ SaveUpdateAll(Mapper[User(users)])
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0xffff932db1a0>
    │    │         └ <module 'sqlalchemy.orm.persistence' from '/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py'>
    │    └ <module 'sqlalchemy.util.preloaded' from '/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/preloaded.py'>
    └ <module 'sqlalchemy.util' from '/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/__init__.py'>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0xffff931eaac0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0xffff937f87c0>
             └ <sqlalchemy.engine.base.Connection object at 0xffff8ef10fe0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0xffff8ef11700>>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0xffff937f8ae0>
           └ <sqlalchemy.engine.base.Connection object at 0xffff8ef10fe0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0xffff937f8cc0>
          └ <sqlalchemy.engine.base.Connection object at 0xffff8ef10fe0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0xffff937f8d60>
           └ <sqlalchemy.engine.base.Connection object at 0xffff8ef10fe0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0xffff937f8fe0>
    └ <sqlalchemy.engine.base.Connection object at 0xffff8ef10fe0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError('<class \'asyncpg.exceptions.UniqueViolationError\'>: duplicate key value violates unique constraint "ix_users...
          │                    │              └ (<class 'sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError'>, IntegrityError('<class \'asyncpg.e...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class \'asyncpg.exceptions.UniqueViolationError\'>: ...
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0xffff93607560>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0xffff9327ff20>
    └ <sqlalchemy.engine.base.Connection object at 0xffff8ef10fe0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('张琪琪', '', '')
    │      │       └ 'INSERT INTO users (name, id_card, phone) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR) RETURNING users.id, users.created_at...
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0xffff92ea1e40>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfad660>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfad660>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0xffff8dfd0820>
           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>
           └ <_AsyncIoGreenlet object at 0xffff8edb1240 (otid=0xffff94cc1a40) dead>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_connection._rollback_and_discard at 0xffff8dfd5ff0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0xffff92ea1c60>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfad660>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ UniqueViolationError('duplicate key value violates unique constraint "ix_users_id_card"')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfad660>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
          │                     └ UniqueViolationError('duplicate key value violates unique constraint "ix_users_id_card"')
          └ IntegrityError('<class \'asyncpg.exceptions.UniqueViolationError\'>: duplicate key value violates unique constraint "ix_users...

sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_id_card"
DETAIL:  Key (id_card)=() already exists.
[SQL: INSERT INTO users (name, id_card, phone) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR) RETURNING users.id, users.created_at, users.updated_at]
[parameters: ('张琪琪', '', '')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-13 09:00:16 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users
2025-07-13 09:00:16 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0100秒
2025-07-13 09:00:16 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users/
2025-07-13 09:00:16 | ERROR | app.core.middleware:dispatch:66 - 请求异常: POST http://localhost:8000/api/v1/users/ - 错误: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_id_card"
DETAIL:  Key (id_card)=() already exists.
[SQL: INSERT INTO users (name, id_card, phone) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR) RETURNING users.id, users.created_at, users.updated_at]
[parameters: ('张琪琪', '', '')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-13 09:00:16 | ERROR | app.core.middleware:global_exception_handler:39 - Unhandled error: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_id_card"
DETAIL:  Key (id_card)=() already exists.
[SQL: INSERT INTO users (name, id_card, phone) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR) RETURNING users.id, users.created_at, users.updated_at]
[parameters: ('张琪琪', '', '')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):

  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
    │    │       │           │             │      └ ('张琪琪', '', '')
    │    │       │           │             └ <function PreparedStatement.fetch at 0xffff92d0ede0>
    │    │       │           └ <asyncpg.prepared_stmt.PreparedStatement object at 0xffff8dfb6ca0>
    │    │       └ <class 'collections.deque'>
    │    └ <member '_rows' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfadde0>
  File "/app/.venv/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
                 │                   │        └ None
                 │                   └ ('张琪琪', '', '')
                 └ <asyncpg.prepared_stmt.PreparedStatement object at 0xffff8dfb6ca0>
  File "/app/.venv/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                            └ <asyncpg.prepared_stmt.PreparedStatement object at 0xffff8dfb6ca0>
  File "/app/.venv/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
                 │        └ <asyncpg.protocol.protocol.Protocol object at 0xffff9135ac50>
                 └ <function PreparedStatement.__bind_execute.<locals>.<lambda> at 0xffff8dfe42c0>
  File "asyncpg/protocol/protocol.pyx", line 206, in bind_execute
    return await waiter

asyncpg.exceptions.UniqueViolationError: duplicate key value violates unique constraint "ix_users_id_card"
DETAIL:  Key (id_card)=() already exists.


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0xffff93607560>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0xffff9327ff20>
    └ <sqlalchemy.engine.base.Connection object at 0xffff8ef12e10>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('张琪琪', '', '')
    │      │       └ 'INSERT INTO users (name, id_card, phone) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR) RETURNING users.id, users.created_at...
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0xffff92ea1e40>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfadde0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfadde0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0xffff8dfd0eb0>
           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>
           └ <_AsyncIoGreenlet object at 0xffff8ed7d080 (otid=0xffff94cc1a40) dead>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_connection._rollback_and_discard at 0xffff8dfd7920>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0xffff92ea1c60>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfadde0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ UniqueViolationError('duplicate key value violates unique constraint "ix_users_id_card"')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfadde0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
          │                     └ UniqueViolationError('duplicate key value violates unique constraint "ix_users_id_card"')
          └ IntegrityError('<class \'asyncpg.exceptions.UniqueViolationError\'>: duplicate key value violates unique constraint "ix_users...

sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_id_card"
DETAIL:  Key (id_card)=() already exists.


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/app/.venv/bin/uvicorn", line 10, in <module>
    sys.exit(main())
    │   │    └ <Command main>
    │   └ <built-in function exit>
    └ <module 'sys' (built-in)>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
           │    │     │       └ {}
           │    │     └ ()
           │    └ <function Command.main at 0xffff9641d620>
           └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
         │    │      └ <click.core.Context object at 0xffff97255340>
         │    └ <function Command.invoke at 0xffff9641d300>
         └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           │   │      │    │           │   └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │   │      │    │           └ <click.core.Context object at 0xffff97255340>
           │   │      │    └ <function main at 0xffff961a80e0>
           │   │      └ <Command main>
           │   └ <function Context.invoke at 0xffff9641c540>
           └ <click.core.Context object at 0xffff97255340>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
           │         │       └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │         └ ()
           └ <function main at 0xffff961a80e0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 413, in main
    run(
    └ <function run at 0xffff9641bb00>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 580, in run
    server.run()
    │      └ <function Server.run at 0xffff96224180>
    └ <uvicorn.server.Server object at 0xffff9652ca40>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0xffff96224220>
           │       │   └ <uvicorn.server.Server object at 0xffff9652ca40>
           │       └ <function run at 0xffff973fc680>
           └ <module 'asyncio' from '/usr/local/lib/python3.12/asyncio/__init__.py'>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0xffff961567a0>
           │      └ <function Runner.run at 0xffff96e602c0>
           └ <asyncio.runners.Runner object at 0xffff9652c8c0>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /app/.venv/lib/python3.12/site-packages/uvicorn/server.py:71> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0xffff9612c450>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0xffff9652c8c0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffff91363350>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8ef11c...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8ef...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0xffff950e1eb0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffff91363350>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8ef11c...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8ef...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
  File "/app/.venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8ef11c...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8ef...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff91b722a0>
          └ <fastapi.applications.FastAPI object at 0xffff950e1eb0>
> File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xffff8dfbd9e0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8ef...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <app.core.middleware.LoggingMiddleware object at 0xffff90fddd00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff91b722a0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0xffff94d70f40>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [IntegrityError('(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <c...
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0xffff8dfd6c20>
    └ <contextlib._GeneratorContextManager object at 0xffff8ef12120>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff8dfbce00>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0xffff8ef11a00>
                     │    └ <bound method LoggingMiddleware.dispatch of <app.core.middleware.LoggingMiddleware object at 0xffff90fddd00>>
                     └ <app.core.middleware.LoggingMiddleware object at 0xffff90fddd00>

  File "/app/app/core/middleware.py", line 57, in dispatch
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0xffff8ef11a00>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff8dfbce00>

  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ IntegrityError('(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class \'asyncpg.exceptions.UniqueViolationError\'>: ...
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff8dfbd940>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbc720>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0xffff9119b3b0>
          └ <app.core.middleware.LoggingMiddleware object at 0xffff90fddd00>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '44', 'sec-ch-ua-platform': '"macOS"', 'auth...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff8dfbd940>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbc720>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0xffff94c76660>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffff9119b3b0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff9119b3b0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbc720>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff90fddcd0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffff9119b3b0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff9119b3b0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbc720>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0xffff8ef12420>
          │                            │    └ <fastapi.routing.APIRouter object at 0xffff966c2960>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff90fddcd0>
          └ <function wrap_app_handling_exceptions at 0xffff94dab100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8dfbe0c0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbc720>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0xffff966c2960>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8dfbe0c0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbc720>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0xffff966c2960>>
          └ <fastapi.routing.APIRouter object at 0xffff966c2960>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8dfbe0c0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbc720>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │     └ <function Route.handle at 0xffff94c545e0>
          └ APIRoute(path='/api/v1/users/', name='create_user', methods=['POST'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8dfbe0c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbc720>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0xffff90fa4360>
          └ APIRoute(path='/api/v1/users/', name='create_user', methods=['POST'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8dfbe0c0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbc720>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0xffff8ef12630>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0xffff8dfbede0>
          └ <function wrap_app_handling_exceptions at 0xffff94dab100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8dfbef20>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbc720>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0xffff8dfbede0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0xffff8ef12630>
                     └ <function get_request_handler.<locals>.app at 0xffff90fa42c0>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0xffff94daaf20>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0xffff8ef12b70>, 'current_staff': <app.staffs.models.Staff obje...
                 │         └ <function create_user at 0xffff92da0860>
                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...

  File "/app/app/users/routers.py", line 48, in create_user
    new_user = await user_service.create(db, user_in)
                     │            │      │   └ UserCreate(name='张琪琪', id_card='', phone='')
                     │            │      └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0xffff8ef12b70>
                     │            └ <function create at 0xffff92d43380>
                     └ <module 'app.users.services' from '/app/app/users/services.py'>

  File "/app/app/users/services.py", line 35, in create
    await db.commit()
          │  └ <function AsyncSession.commit at 0xffff931a4a40>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0xffff8ef12b70>

  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 1014, in commit
    await greenlet_spawn(self.sync_session.commit)
          │              │    │            └ <function Session.commit at 0xffff931fc180>
          │              │    └ <sqlalchemy.orm.session.Session object at 0xffff8ef12c60>
          │              └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0xffff8ef12b70>
          └ <function greenlet_spawn at 0xffff93efcb80>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             │       │      └ None
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0xffff8ed7d080 (otid=0xffff94cc1a40) dead>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0xffff931fb100>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0xffff8ed76590>
  File "<string>", line 2, in commit
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0xffff8ed76590>
                └ <function SessionTransaction.commit at 0xffff931fb060>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0xffff931faf20>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0xffff8ed76590>
  File "<string>", line 2, in _prepare_impl
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0xffff8ed76590>
                └ <function SessionTransaction._prepare_impl at 0xffff931fae80>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0xffff931ff060>
    │    └ <sqlalchemy.orm.session.Session object at 0xffff8ef12c60>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0xffff8ed76590>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0xffff931ff240>
    └ <sqlalchemy.orm.session.Session object at 0xffff8ef12c60>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/__init__.py'>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0xffff8ed75980>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class \'asyncpg.exceptions.UniqueViolationError\'>: ...
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0xffff931ef9c0>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0xffff8ef12ba0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0xffff8ef12ba0>
    │   └ <function SaveUpdateAll.execute at 0xffff931f8540>
    └ SaveUpdateAll(Mapper[User(users)])
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0xffff932db1a0>
    │    │         └ <module 'sqlalchemy.orm.persistence' from '/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py'>
    │    └ <module 'sqlalchemy.util.preloaded' from '/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/preloaded.py'>
    └ <module 'sqlalchemy.util' from '/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/__init__.py'>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0xffff931eaac0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0xffff937f87c0>
             └ <sqlalchemy.engine.base.Connection object at 0xffff8ef12e10>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0xffff8ef13e00>>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0xffff937f8ae0>
           └ <sqlalchemy.engine.base.Connection object at 0xffff8ef12e10>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0xffff937f8cc0>
          └ <sqlalchemy.engine.base.Connection object at 0xffff8ef12e10>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0xffff937f8d60>
           └ <sqlalchemy.engine.base.Connection object at 0xffff8ef12e10>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0xffff937f8fe0>
    └ <sqlalchemy.engine.base.Connection object at 0xffff8ef12e10>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError('<class \'asyncpg.exceptions.UniqueViolationError\'>: duplicate key value violates unique constraint "ix_users...
          │                    │              └ (<class 'sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError'>, IntegrityError('<class \'asyncpg.e...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class \'asyncpg.exceptions.UniqueViolationError\'>: ...
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0xffff93607560>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0xffff9327ff20>
    └ <sqlalchemy.engine.base.Connection object at 0xffff8ef12e10>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('张琪琪', '', '')
    │      │       └ 'INSERT INTO users (name, id_card, phone) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR) RETURNING users.id, users.created_at...
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0xffff92ea1e40>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfadde0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfadde0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0xffff8dfd0eb0>
           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>
           └ <_AsyncIoGreenlet object at 0xffff8ed7d080 (otid=0xffff94cc1a40) dead>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_connection._rollback_and_discard at 0xffff8dfd7920>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0xffff92ea1c60>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfadde0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ UniqueViolationError('duplicate key value violates unique constraint "ix_users_id_card"')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfadde0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
          │                     └ UniqueViolationError('duplicate key value violates unique constraint "ix_users_id_card"')
          └ IntegrityError('<class \'asyncpg.exceptions.UniqueViolationError\'>: duplicate key value violates unique constraint "ix_users...

sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_id_card"
DETAIL:  Key (id_card)=() already exists.
[SQL: INSERT INTO users (name, id_card, phone) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR) RETURNING users.id, users.created_at, users.updated_at]
[parameters: ('张琪琪', '', '')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-13 09:00:38 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users
2025-07-13 09:00:38 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0178秒
2025-07-13 09:00:38 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users/
2025-07-13 09:00:39 | ERROR | app.core.middleware:dispatch:66 - 请求异常: POST http://localhost:8000/api/v1/users/ - 错误: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_id_card"
DETAIL:  Key (id_card)=() already exists.
[SQL: INSERT INTO users (name, id_card, phone) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR) RETURNING users.id, users.created_at, users.updated_at]
[parameters: ('张琪琪', '', '')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-13 09:00:39 | ERROR | app.core.middleware:global_exception_handler:39 - Unhandled error: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_id_card"
DETAIL:  Key (id_card)=() already exists.
[SQL: INSERT INTO users (name, id_card, phone) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR) RETURNING users.id, users.created_at, users.updated_at]
[parameters: ('张琪琪', '', '')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):

  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
    │    │       │           │             │      └ ('张琪琪', '', '')
    │    │       │           │             └ <function PreparedStatement.fetch at 0xffff92d0ede0>
    │    │       │           └ <asyncpg.prepared_stmt.PreparedStatement object at 0xffff8e1e7150>
    │    │       └ <class 'collections.deque'>
    │    └ <member '_rows' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfaf3a0>
  File "/app/.venv/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
                 │                   │        └ None
                 │                   └ ('张琪琪', '', '')
                 └ <asyncpg.prepared_stmt.PreparedStatement object at 0xffff8e1e7150>
  File "/app/.venv/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                            └ <asyncpg.prepared_stmt.PreparedStatement object at 0xffff8e1e7150>
  File "/app/.venv/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
                 │        └ <asyncpg.protocol.protocol.Protocol object at 0xffff9135aaf0>
                 └ <function PreparedStatement.__bind_execute.<locals>.<lambda> at 0xffff8dfe59e0>
  File "asyncpg/protocol/protocol.pyx", line 206, in bind_execute
    return await waiter

asyncpg.exceptions.UniqueViolationError: duplicate key value violates unique constraint "ix_users_id_card"
DETAIL:  Key (id_card)=() already exists.


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0xffff93607560>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0xffff9327ff20>
    └ <sqlalchemy.engine.base.Connection object at 0xffff8eec6780>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('张琪琪', '', '')
    │      │       └ 'INSERT INTO users (name, id_card, phone) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR) RETURNING users.id, users.created_at...
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0xffff92ea1e40>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfaf3a0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfaf3a0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0xffff8dfd1540>
           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>
           └ <_AsyncIoGreenlet object at 0xffff8ed6e200 (otid=0xffff94cc1a40) dead>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_connection._rollback_and_discard at 0xffff8dff1080>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0xffff92ea1c60>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfaf3a0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ UniqueViolationError('duplicate key value violates unique constraint "ix_users_id_card"')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfaf3a0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
          │                     └ UniqueViolationError('duplicate key value violates unique constraint "ix_users_id_card"')
          └ IntegrityError('<class \'asyncpg.exceptions.UniqueViolationError\'>: duplicate key value violates unique constraint "ix_users...

sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_id_card"
DETAIL:  Key (id_card)=() already exists.


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/app/.venv/bin/uvicorn", line 10, in <module>
    sys.exit(main())
    │   │    └ <Command main>
    │   └ <built-in function exit>
    └ <module 'sys' (built-in)>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
           │    │     │       └ {}
           │    │     └ ()
           │    └ <function Command.main at 0xffff9641d620>
           └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
         │    │      └ <click.core.Context object at 0xffff97255340>
         │    └ <function Command.invoke at 0xffff9641d300>
         └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           │   │      │    │           │   └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │   │      │    │           └ <click.core.Context object at 0xffff97255340>
           │   │      │    └ <function main at 0xffff961a80e0>
           │   │      └ <Command main>
           │   └ <function Context.invoke at 0xffff9641c540>
           └ <click.core.Context object at 0xffff97255340>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
           │         │       └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │         └ ()
           └ <function main at 0xffff961a80e0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 413, in main
    run(
    └ <function run at 0xffff9641bb00>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 580, in run
    server.run()
    │      └ <function Server.run at 0xffff96224180>
    └ <uvicorn.server.Server object at 0xffff9652ca40>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0xffff96224220>
           │       │   └ <uvicorn.server.Server object at 0xffff9652ca40>
           │       └ <function run at 0xffff973fc680>
           └ <module 'asyncio' from '/usr/local/lib/python3.12/asyncio/__init__.py'>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0xffff961567a0>
           │      └ <function Runner.run at 0xffff96e602c0>
           └ <asyncio.runners.Runner object at 0xffff9652c8c0>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /app/.venv/lib/python3.12/site-packages/uvicorn/server.py:71> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0xffff9612c450>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0xffff9652c8c0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffff91363350>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8eec54...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8ee...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0xffff950e1eb0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffff91363350>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8eec54...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8ee...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
  File "/app/.venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8eec54...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8ee...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff91b722a0>
          └ <fastapi.applications.FastAPI object at 0xffff950e1eb0>
> File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xffff8dfbe5c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8ee...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <app.core.middleware.LoggingMiddleware object at 0xffff90fddd00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff91b722a0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0xffff94d70f40>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [IntegrityError('(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <c...
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0xffff8dfd7b90>
    └ <contextlib._GeneratorContextManager object at 0xffff8eec5a00>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff8dfbf560>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0xffff8eec5820>
                     │    └ <bound method LoggingMiddleware.dispatch of <app.core.middleware.LoggingMiddleware object at 0xffff90fddd00>>
                     └ <app.core.middleware.LoggingMiddleware object at 0xffff90fddd00>

  File "/app/app/core/middleware.py", line 57, in dispatch
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0xffff8eec5820>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff8dfbf560>

  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ IntegrityError('(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class \'asyncpg.exceptions.UniqueViolationError\'>: ...
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff8dfbfec0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbdee0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0xffff9119b3b0>
          └ <app.core.middleware.LoggingMiddleware object at 0xffff90fddd00>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '44', 'sec-ch-ua-platform': '"macOS"', 'auth...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff8dfbfec0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbdee0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0xffff94c76660>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffff9119b3b0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff9119b3b0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbdee0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff90fddcd0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffff9119b3b0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff9119b3b0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbdee0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0xffff8eec5c70>
          │                            │    └ <fastapi.routing.APIRouter object at 0xffff966c2960>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff90fddcd0>
          └ <function wrap_app_handling_exceptions at 0xffff94dab100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8dfe4400>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbdee0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0xffff966c2960>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8dfe4400>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbdee0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0xffff966c2960>>
          └ <fastapi.routing.APIRouter object at 0xffff966c2960>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8dfe4400>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbdee0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │     └ <function Route.handle at 0xffff94c545e0>
          └ APIRoute(path='/api/v1/users/', name='create_user', methods=['POST'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8dfe4400>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbdee0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0xffff90fa4360>
          └ APIRoute(path='/api/v1/users/', name='create_user', methods=['POST'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8dfe4400>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbdee0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0xffff8eec5e20>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0xffff8dfe4360>
          └ <function wrap_app_handling_exceptions at 0xffff94dab100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8dfe45e0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8dfbdee0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0xffff8dfe4360>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0xffff8eec5e20>
                     └ <function get_request_handler.<locals>.app at 0xffff90fa42c0>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0xffff94daaf20>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0xffff8eec6390>, 'current_staff': <app.staffs.models.Staff obje...
                 │         └ <function create_user at 0xffff92da0860>
                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...

  File "/app/app/users/routers.py", line 48, in create_user
    new_user = await user_service.create(db, user_in)
                     │            │      │   └ UserCreate(name='张琪琪', id_card='', phone='')
                     │            │      └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0xffff8eec6390>
                     │            └ <function create at 0xffff92d43380>
                     └ <module 'app.users.services' from '/app/app/users/services.py'>

  File "/app/app/users/services.py", line 35, in create
    await db.commit()
          │  └ <function AsyncSession.commit at 0xffff931a4a40>
          └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0xffff8eec6390>

  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 1014, in commit
    await greenlet_spawn(self.sync_session.commit)
          │              │    │            └ <function Session.commit at 0xffff931fc180>
          │              │    └ <sqlalchemy.orm.session.Session object at 0xffff8eec6480>
          │              └ <sqlalchemy.ext.asyncio.session.AsyncSession object at 0xffff8eec6390>
          └ <function greenlet_spawn at 0xffff93efcb80>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             │       │      └ None
             │       └ <method 'switch' of 'greenlet.greenlet' objects>
             └ <_AsyncIoGreenlet object at 0xffff8ed6e200 (otid=0xffff94cc1a40) dead>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
    │     └ <function SessionTransaction.commit at 0xffff931fb100>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0xffff8ed6e450>
  File "<string>", line 2, in commit
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {'_to_root': True}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0xffff8ed6e450>
                └ <function SessionTransaction.commit at 0xffff931fb060>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
    │    └ <function SessionTransaction._prepare_impl at 0xffff931faf20>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0xffff8ed6e450>
  File "<string>", line 2, in _prepare_impl
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                │  │      │      └ {}
                │  │      └ ()
                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0xffff8ed6e450>
                └ <function SessionTransaction._prepare_impl at 0xffff931fae80>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
    │    │       └ <function Session.flush at 0xffff931ff060>
    │    └ <sqlalchemy.orm.session.Session object at 0xffff8eec6480>
    └ <sqlalchemy.orm.session.SessionTransaction object at 0xffff8ed6e450>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
    │    │      └ None
    │    └ <function Session._flush at 0xffff931ff240>
    └ <sqlalchemy.orm.session.Session object at 0xffff8eec6480>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>
         └ <module 'sqlalchemy.util' from '/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/__init__.py'>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
          │         │              └ <traceback object at 0xffff8ed63480>
          │         └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class \'asyncpg.exceptions.UniqueViolationError\'>: ...
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
    │             └ <function UOWTransaction.execute at 0xffff931ef9c0>
    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0xffff8eec63c0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0xffff8eec63c0>
    │   └ <function SaveUpdateAll.execute at 0xffff931f8540>
    └ SaveUpdateAll(Mapper[User(users)])
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    │    │         │               └ <function save_obj at 0xffff932db1a0>
    │    │         └ <module 'sqlalchemy.orm.persistence' from '/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py'>
    │    └ <module 'sqlalchemy.util.preloaded' from '/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/preloaded.py'>
    └ <module 'sqlalchemy.util' from '/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/__init__.py'>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
    └ <function _emit_insert_statements at 0xffff931eaac0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             │          └ <function Connection.execute at 0xffff937f87c0>
             └ <sqlalchemy.engine.base.Connection object at 0xffff8eec6780>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0xffff8eec6ea0>>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           │          └ <function Connection._execute_clauseelement at 0xffff937f8ae0>
           └ <sqlalchemy.engine.base.Connection object at 0xffff8eec6780>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          │    └ <function Connection._execute_context at 0xffff937f8cc0>
          └ <sqlalchemy.engine.base.Connection object at 0xffff8eec6780>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           │    └ <function Connection._exec_single_context at 0xffff937f8d60>
           └ <sqlalchemy.engine.base.Connection object at 0xffff8eec6780>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    │    └ <function Connection._handle_dbapi_exception at 0xffff937f8fe0>
    └ <sqlalchemy.engine.base.Connection object at 0xffff8eec6780>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
          │                    │              │                 └ IntegrityError('<class \'asyncpg.exceptions.UniqueViolationError\'>: duplicate key value violates unique constraint "ix_users...
          │                    │              └ (<class 'sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError'>, IntegrityError('<class \'asyncpg.e...
          │                    └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('(sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class \'asyncpg.exceptions.UniqueViolationError\'>: ...
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    │    │       └ <function DefaultDialect.do_execute at 0xffff93607560>
    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0xffff9327ff20>
    └ <sqlalchemy.engine.base.Connection object at 0xffff8eec6780>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    │      │       │          └ ('张琪琪', '', '')
    │      │       └ 'INSERT INTO users (name, id_card, phone) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR) RETURNING users.id, users.created_at...
    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0xffff92ea1e40>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfaf3a0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfaf3a0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0xffff8dfd1540>
           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>
           └ <_AsyncIoGreenlet object at 0xffff8ed6e200 (otid=0xffff94cc1a40) dead>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
                  └ <coroutine object AsyncAdapt_asyncpg_connection._rollback_and_discard at 0xffff8dff1080>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    │    └ <function AsyncAdapt_asyncpg_cursor._handle_exception at 0xffff92ea1c60>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfaf3a0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    │    │                                   └ UniqueViolationError('duplicate key value violates unique constraint "ix_users_id_card"')
    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>
    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0xffff8dfaf3a0>
  File "/app/.venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
          │                     └ UniqueViolationError('duplicate key value violates unique constraint "ix_users_id_card"')
          └ IntegrityError('<class \'asyncpg.exceptions.UniqueViolationError\'>: duplicate key value violates unique constraint "ix_users...

sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_id_card"
DETAIL:  Key (id_card)=() already exists.
[SQL: INSERT INTO users (name, id_card, phone) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR) RETURNING users.id, users.created_at, users.updated_at]
[parameters: ('张琪琪', '', '')]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-13 09:05:26 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 09:05:26 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0017秒
2025-07-13 09:05:26 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 09:05:26 | ERROR | app.core.middleware:dispatch:66 - 请求异常: GET http://localhost:8000/api/v1/users/ - 错误: name 'Union' is not defined
2025-07-13 09:05:26 | ERROR | app.core.middleware:global_exception_handler:39 - Unhandled error: name 'Union' is not defined
  + Exception Group Traceback (most recent call last):
  |
  |   File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0xffff913f78f0>
  |                │     └ <function create_task_group at 0xffff964f4f40>
  |                └ <module 'anyio' from '/app/.venv/lib/python3.12/site-packages/anyio/__init__.py'>
  |   File "/app/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xffff913bed40>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff913...
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │    └ <app.core.middleware.LoggingMiddleware object at 0xffff916c1040>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff913f5af0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |          │            │            └ <function collapse_excgroups at 0xffff95180f40>
    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "/usr/local/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [NameError("name 'Union' is not defined")])
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0xffff913a7ed0>
    |     └ <contextlib._GeneratorContextManager object at 0xffff913f7e00>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff8f2ef060>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0xffff913f7b60>
    |                      │    └ <bound method LoggingMiddleware.dispatch of <app.core.middleware.LoggingMiddleware object at 0xffff916c1040>>
    |                      └ <app.core.middleware.LoggingMiddleware object at 0xffff916c1040>
    |
    |   File "/app/app/core/middleware.py", line 57, in dispatch
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0xffff913f7b60>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff8f2ef060>
    |
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 156, in call_next
    |     raise app_exc
    |           └ NameError("name 'Union' is not defined")
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff9141a340>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff9141a5c0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0xffff918604a0>
    |           └ <app.core.middleware.LoggingMiddleware object at 0xffff916c1040>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |           │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'authorization': 'Bearer eyJh...
    |           │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff9141a340>
    |           │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff9141a5c0>
    |           │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │    └ <function CORSMiddleware.simple_response at 0xffff95086660>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0xffff918604a0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff918604a0>>, ...
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff9141a5c0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff91d0c080>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0xffff918604a0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff918604a0>>, ...
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff9141a5c0>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │                            │    │    └ <starlette.requests.Request object at 0xffff913f7fe0>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0xffff951db5f0>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff91d0c080>
    |           └ <function wrap_app_handling_exceptions at 0xffff951bb100>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff9141a0c0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff9141a5c0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           └ <fastapi.routing.APIRouter object at 0xffff951db5f0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff9141a0c0>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff9141a5c0>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0xffff951db5f0>>
    |           └ <fastapi.routing.APIRouter object at 0xffff951db5f0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff9141a0c0>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff9141a5c0>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │     └ <function Route.handle at 0xffff950645e0>
    |           └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff9141a0c0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff9141a5c0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │    └ <function request_response.<locals>.app at 0xffff913bc2c0>
    |           └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff9141a0c0>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff9141a5c0>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │                            │    └ <starlette.requests.Request object at 0xffff91430230>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0xffff9141a020>
    |           └ <function wrap_app_handling_exceptions at 0xffff951bb100>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff91419ee0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff9141a5c0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           └ <function request_response.<locals>.app.<locals>.app at 0xffff9141a020>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    |     response = await f(request)
    |                      │ └ <starlette.requests.Request object at 0xffff91430230>
    |                      └ <function get_request_handler.<locals>.app at 0xffff913bc180>
    |   File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    |     content = await serialize_response(
    |                     └ <function serialize_response at 0xffff9566cfe0>
    |   File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 166, in serialize_response
    |     value, errors_ = field.validate(response_content, {}, loc=("response",))
    |                      │     │        └ ListResponse(code=200, message='success', timestamp='2025-07-13T17:05:26.197353+08:00', data=[<app.users.models.User object a...
    |                      │     └ <function ModelField.validate at 0xffff9550b880>
    |                      └ ModelField(field_info=FieldInfo(annotation=ListResponse[User], required=True), name='Response_read_users_api_v1_users__get', ...
    |   File "/app/.venv/lib/python3.12/site-packages/fastapi/_compat.py", line 130, in validate
    |     self._type_adapter.validate_python(value, from_attributes=True),
    |     │    │             │               └ ListResponse(code=200, message='success', timestamp='2025-07-13T17:05:26.197353+08:00', data=[<app.users.models.User object a...
    |     │    │             └ <function TypeAdapter.validate_python at 0xffff9550b100>
    |     │    └ TypeAdapter(Annotated[ListResponse[User], FieldInfo(annotation=ListResponse[User], required=True)])
    |     └ ModelField(field_info=FieldInfo(annotation=ListResponse[User], required=True), name='Response_read_users_api_v1_users__get', ...
    |   File "/app/.venv/lib/python3.12/site-packages/pydantic/type_adapter.py", line 421, in validate_python
    |     return self.validator.validate_python(
    |            │    │         └ <method 'validate_python' of 'pydantic_core._pydantic_core.SchemaValidator' objects>
    |            │    └ SchemaValidator(title="ListResponse[User]", validator=Model(
    |            │          ModelValidator {
    |            │              revalidate: Never,
    |            │              validato...
    |            └ TypeAdapter(Annotated[ListResponse[User], FieldInfo(annotation=ListResponse[User], required=True)])
    |
    |   File "/app/app/core/schemas.py", line 14, in empty_str_to_none
    |     if field_info.annotation.__origin__ is Union:
    |        │          └ <member 'annotation' of 'FieldInfo' objects>
    |        └ FieldInfo(annotation=Union[str, NoneType], required=False, default=None)
    |
    | NameError: name 'Union' is not defined
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "/app/.venv/bin/uvicorn", line 10, in <module>
    sys.exit(main())
    │   │    └ <Command main>
    │   └ <built-in function exit>
    └ <module 'sys' (built-in)>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
           │    │     │       └ {}
           │    │     └ ()
           │    └ <function Command.main at 0xffff9682d620>
           └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
         │    │      └ <click.core.Context object at 0xffff976652e0>
         │    └ <function Command.invoke at 0xffff9682d300>
         └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           │   │      │    │           │   └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │   │      │    │           └ <click.core.Context object at 0xffff976652e0>
           │   │      │    └ <function main at 0xffff965b80e0>
           │   │      └ <Command main>
           │   └ <function Context.invoke at 0xffff9682c540>
           └ <click.core.Context object at 0xffff976652e0>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
           │         │       └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │         └ ()
           └ <function main at 0xffff965b80e0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 413, in main
    run(
    └ <function run at 0xffff9682bb00>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 580, in run
    server.run()
    │      └ <function Server.run at 0xffff96638180>
    └ <uvicorn.server.Server object at 0xffff96ae6090>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0xffff96638220>
           │       │   └ <uvicorn.server.Server object at 0xffff96ae6090>
           │       └ <function run at 0xffff9780c680>
           └ <module 'asyncio' from '/usr/local/lib/python3.12/asyncio/__init__.py'>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0xffff965667a0>
           │      └ <function Runner.run at 0xffff972702c0>
           └ <asyncio.runners.Runner object at 0xffff9684b500>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /app/.venv/lib/python3.12/site-packages/uvicorn/server.py:71> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0xffff96538450>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0xffff9684b500>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffff972ab7a0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff913f67...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff913...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0xffff972a8320>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffff972ab7a0>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff913f67...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff913...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
  File "/app/.venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff913f67...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff913...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff913f5af0>
          └ <fastapi.applications.FastAPI object at 0xffff972a8320>
> File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xffff913bed40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff913...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <app.core.middleware.LoggingMiddleware object at 0xffff916c1040>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff913f5af0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0xffff95180f40>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [NameError("name 'Union' is not defined")])
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0xffff913a7ed0>
    └ <contextlib._GeneratorContextManager object at 0xffff913f7e00>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff8f2ef060>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0xffff913f7b60>
                     │    └ <bound method LoggingMiddleware.dispatch of <app.core.middleware.LoggingMiddleware object at 0xffff916c1040>>
                     └ <app.core.middleware.LoggingMiddleware object at 0xffff916c1040>

  File "/app/app/core/middleware.py", line 57, in dispatch
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0xffff913f7b60>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff8f2ef060>

  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ NameError("name 'Union' is not defined")
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff9141a340>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff9141a5c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0xffff918604a0>
          └ <app.core.middleware.LoggingMiddleware object at 0xffff916c1040>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'authorization': 'Bearer eyJh...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff9141a340>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff9141a5c0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0xffff95086660>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffff918604a0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff918604a0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff9141a5c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff91d0c080>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffff918604a0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff918604a0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff9141a5c0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0xffff913f7fe0>
          │                            │    └ <fastapi.routing.APIRouter object at 0xffff951db5f0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff91d0c080>
          └ <function wrap_app_handling_exceptions at 0xffff951bb100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff9141a0c0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff9141a5c0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0xffff951db5f0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff9141a0c0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff9141a5c0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0xffff951db5f0>>
          └ <fastapi.routing.APIRouter object at 0xffff951db5f0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff9141a0c0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff9141a5c0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │     └ <function Route.handle at 0xffff950645e0>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff9141a0c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff9141a5c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0xffff913bc2c0>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff9141a0c0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff9141a5c0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0xffff91430230>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0xffff9141a020>
          └ <function wrap_app_handling_exceptions at 0xffff951bb100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff91419ee0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff9141a5c0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0xffff9141a020>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0xffff91430230>
                     └ <function get_request_handler.<locals>.app at 0xffff913bc180>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
                    └ <function serialize_response at 0xffff9566cfe0>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 166, in serialize_response
    value, errors_ = field.validate(response_content, {}, loc=("response",))
                     │     │        └ ListResponse(code=200, message='success', timestamp='2025-07-13T17:05:26.197353+08:00', data=[<app.users.models.User object a...
                     │     └ <function ModelField.validate at 0xffff9550b880>
                     └ ModelField(field_info=FieldInfo(annotation=ListResponse[User], required=True), name='Response_read_users_api_v1_users__get', ...
  File "/app/.venv/lib/python3.12/site-packages/fastapi/_compat.py", line 130, in validate
    self._type_adapter.validate_python(value, from_attributes=True),
    │    │             │               └ ListResponse(code=200, message='success', timestamp='2025-07-13T17:05:26.197353+08:00', data=[<app.users.models.User object a...
    │    │             └ <function TypeAdapter.validate_python at 0xffff9550b100>
    │    └ TypeAdapter(Annotated[ListResponse[User], FieldInfo(annotation=ListResponse[User], required=True)])
    └ ModelField(field_info=FieldInfo(annotation=ListResponse[User], required=True), name='Response_read_users_api_v1_users__get', ...
  File "/app/.venv/lib/python3.12/site-packages/pydantic/type_adapter.py", line 421, in validate_python
    return self.validator.validate_python(
           │    │         └ <method 'validate_python' of 'pydantic_core._pydantic_core.SchemaValidator' objects>
           │    └ SchemaValidator(title="ListResponse[User]", validator=Model(
           │          ModelValidator {
           │              revalidate: Never,
           │              validato...
           └ TypeAdapter(Annotated[ListResponse[User], FieldInfo(annotation=ListResponse[User], required=True)])

  File "/app/app/core/schemas.py", line 14, in empty_str_to_none
    if field_info.annotation.__origin__ is Union:
       │          └ <member 'annotation' of 'FieldInfo' objects>
       └ FieldInfo(annotation=Union[str, NoneType], required=False, default=None)

NameError: name 'Union' is not defined
2025-07-13 09:05:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 09:05:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0017秒
2025-07-13 09:05:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 09:05:30 | ERROR | app.core.middleware:dispatch:66 - 请求异常: GET http://localhost:8000/api/v1/users/ - 错误: name 'Union' is not defined
2025-07-13 09:05:30 | ERROR | app.core.middleware:global_exception_handler:39 - Unhandled error: name 'Union' is not defined
  + Exception Group Traceback (most recent call last):
  |
  |   File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0xffff8f262000>
  |                │     └ <function create_task_group at 0xffff964f4f40>
  |                └ <module 'anyio' from '/app/.venv/lib/python3.12/site-packages/anyio/__init__.py'>
  |   File "/app/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xffff8f2c09a0>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8f2...
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │    └ <app.core.middleware.LoggingMiddleware object at 0xffff916c1040>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff913f5af0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |          │            │            └ <function collapse_excgroups at 0xffff95180f40>
    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "/usr/local/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [NameError("name 'Union' is not defined")])
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0xffff9143b850>
    |     └ <contextlib._GeneratorContextManager object at 0xffff8f262420>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff8f2c0860>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0xffff8f262270>
    |                      │    └ <bound method LoggingMiddleware.dispatch of <app.core.middleware.LoggingMiddleware object at 0xffff916c1040>>
    |                      └ <app.core.middleware.LoggingMiddleware object at 0xffff916c1040>
    |
    |   File "/app/app/core/middleware.py", line 57, in dispatch
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0xffff8f262270>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff8f2c0860>
    |
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 156, in call_next
    |     raise app_exc
    |           └ NameError("name 'Union' is not defined")
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff8f2c1800>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8f2c0f40>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0xffff918604a0>
    |           └ <app.core.middleware.LoggingMiddleware object at 0xffff916c1040>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |           │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'authorization': 'Bearer eyJh...
    |           │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff8f2c1800>
    |           │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8f2c0f40>
    |           │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │    └ <function CORSMiddleware.simple_response at 0xffff95086660>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0xffff918604a0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff918604a0>>, ...
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8f2c0f40>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff91d0c080>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0xffff918604a0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff918604a0>>, ...
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8f2c0f40>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │                            │    │    └ <starlette.requests.Request object at 0xffff8f262510>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0xffff951db5f0>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff91d0c080>
    |           └ <function wrap_app_handling_exceptions at 0xffff951bb100>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8f2c3920>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8f2c0f40>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           └ <fastapi.routing.APIRouter object at 0xffff951db5f0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8f2c3920>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8f2c0f40>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0xffff951db5f0>>
    |           └ <fastapi.routing.APIRouter object at 0xffff951db5f0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8f2c3920>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8f2c0f40>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │     └ <function Route.handle at 0xffff950645e0>
    |           └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8f2c3920>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8f2c0f40>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │    └ <function request_response.<locals>.app at 0xffff913bc2c0>
    |           └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8f2c3920>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8f2c0f40>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │                            │    └ <starlette.requests.Request object at 0xffff8f2628a0>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0xffff8f2c3880>
    |           └ <function wrap_app_handling_exceptions at 0xffff951bb100>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8f2c39c0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8f2c0f40>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           └ <function request_response.<locals>.app.<locals>.app at 0xffff8f2c3880>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    |     response = await f(request)
    |                      │ └ <starlette.requests.Request object at 0xffff8f2628a0>
    |                      └ <function get_request_handler.<locals>.app at 0xffff913bc180>
    |   File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    |     content = await serialize_response(
    |                     └ <function serialize_response at 0xffff9566cfe0>
    |   File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 166, in serialize_response
    |     value, errors_ = field.validate(response_content, {}, loc=("response",))
    |                      │     │        └ ListResponse(code=200, message='success', timestamp='2025-07-13T17:05:30.269116+08:00', data=[<app.users.models.User object a...
    |                      │     └ <function ModelField.validate at 0xffff9550b880>
    |                      └ ModelField(field_info=FieldInfo(annotation=ListResponse[User], required=True), name='Response_read_users_api_v1_users__get', ...
    |   File "/app/.venv/lib/python3.12/site-packages/fastapi/_compat.py", line 130, in validate
    |     self._type_adapter.validate_python(value, from_attributes=True),
    |     │    │             │               └ ListResponse(code=200, message='success', timestamp='2025-07-13T17:05:30.269116+08:00', data=[<app.users.models.User object a...
    |     │    │             └ <function TypeAdapter.validate_python at 0xffff9550b100>
    |     │    └ TypeAdapter(Annotated[ListResponse[User], FieldInfo(annotation=ListResponse[User], required=True)])
    |     └ ModelField(field_info=FieldInfo(annotation=ListResponse[User], required=True), name='Response_read_users_api_v1_users__get', ...
    |   File "/app/.venv/lib/python3.12/site-packages/pydantic/type_adapter.py", line 421, in validate_python
    |     return self.validator.validate_python(
    |            │    │         └ <method 'validate_python' of 'pydantic_core._pydantic_core.SchemaValidator' objects>
    |            │    └ SchemaValidator(title="ListResponse[User]", validator=Model(
    |            │          ModelValidator {
    |            │              revalidate: Never,
    |            │              validato...
    |            └ TypeAdapter(Annotated[ListResponse[User], FieldInfo(annotation=ListResponse[User], required=True)])
    |
    |   File "/app/app/core/schemas.py", line 14, in empty_str_to_none
    |     if field_info.annotation.__origin__ is Union:
    |        │          └ <member 'annotation' of 'FieldInfo' objects>
    |        └ FieldInfo(annotation=Union[str, NoneType], required=False, default=None)
    |
    | NameError: name 'Union' is not defined
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "/app/.venv/bin/uvicorn", line 10, in <module>
    sys.exit(main())
    │   │    └ <Command main>
    │   └ <built-in function exit>
    └ <module 'sys' (built-in)>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
           │    │     │       └ {}
           │    │     └ ()
           │    └ <function Command.main at 0xffff9682d620>
           └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
         │    │      └ <click.core.Context object at 0xffff976652e0>
         │    └ <function Command.invoke at 0xffff9682d300>
         └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           │   │      │    │           │   └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │   │      │    │           └ <click.core.Context object at 0xffff976652e0>
           │   │      │    └ <function main at 0xffff965b80e0>
           │   │      └ <Command main>
           │   └ <function Context.invoke at 0xffff9682c540>
           └ <click.core.Context object at 0xffff976652e0>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
           │         │       └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │         └ ()
           └ <function main at 0xffff965b80e0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 413, in main
    run(
    └ <function run at 0xffff9682bb00>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 580, in run
    server.run()
    │      └ <function Server.run at 0xffff96638180>
    └ <uvicorn.server.Server object at 0xffff96ae6090>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0xffff96638220>
           │       │   └ <uvicorn.server.Server object at 0xffff96ae6090>
           │       └ <function run at 0xffff9780c680>
           └ <module 'asyncio' from '/usr/local/lib/python3.12/asyncio/__init__.py'>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0xffff965667a0>
           │      └ <function Runner.run at 0xffff972702c0>
           └ <asyncio.runners.Runner object at 0xffff9684b500>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /app/.venv/lib/python3.12/site-packages/uvicorn/server.py:71> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0xffff96538450>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0xffff9684b500>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffff972ab7a0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8f261f...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8f2...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0xffff972a8320>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffff972ab7a0>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8f261f...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8f2...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
  File "/app/.venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8f261f...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8f2...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff913f5af0>
          └ <fastapi.applications.FastAPI object at 0xffff972a8320>
> File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xffff8f2c09a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8f2...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <app.core.middleware.LoggingMiddleware object at 0xffff916c1040>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff913f5af0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0xffff95180f40>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [NameError("name 'Union' is not defined")])
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0xffff9143b850>
    └ <contextlib._GeneratorContextManager object at 0xffff8f262420>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff8f2c0860>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0xffff8f262270>
                     │    └ <bound method LoggingMiddleware.dispatch of <app.core.middleware.LoggingMiddleware object at 0xffff916c1040>>
                     └ <app.core.middleware.LoggingMiddleware object at 0xffff916c1040>

  File "/app/app/core/middleware.py", line 57, in dispatch
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0xffff8f262270>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff8f2c0860>

  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ NameError("name 'Union' is not defined")
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff8f2c1800>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8f2c0f40>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0xffff918604a0>
          └ <app.core.middleware.LoggingMiddleware object at 0xffff916c1040>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'authorization': 'Bearer eyJh...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff8f2c1800>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8f2c0f40>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0xffff95086660>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffff918604a0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff918604a0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8f2c0f40>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff91d0c080>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffff918604a0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff918604a0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8f2c0f40>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0xffff8f262510>
          │                            │    └ <fastapi.routing.APIRouter object at 0xffff951db5f0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff91d0c080>
          └ <function wrap_app_handling_exceptions at 0xffff951bb100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8f2c3920>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8f2c0f40>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0xffff951db5f0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8f2c3920>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8f2c0f40>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0xffff951db5f0>>
          └ <fastapi.routing.APIRouter object at 0xffff951db5f0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8f2c3920>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8f2c0f40>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │     └ <function Route.handle at 0xffff950645e0>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8f2c3920>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8f2c0f40>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0xffff913bc2c0>
          └ APIRoute(path='/api/v1/users/', name='read_users', methods=['GET'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8f2c3920>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8f2c0f40>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0xffff8f2628a0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0xffff8f2c3880>
          └ <function wrap_app_handling_exceptions at 0xffff951bb100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8f2c39c0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8f2c0f40>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0xffff8f2c3880>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0xffff8f2628a0>
                     └ <function get_request_handler.<locals>.app at 0xffff913bc180>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
                    └ <function serialize_response at 0xffff9566cfe0>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 166, in serialize_response
    value, errors_ = field.validate(response_content, {}, loc=("response",))
                     │     │        └ ListResponse(code=200, message='success', timestamp='2025-07-13T17:05:30.269116+08:00', data=[<app.users.models.User object a...
                     │     └ <function ModelField.validate at 0xffff9550b880>
                     └ ModelField(field_info=FieldInfo(annotation=ListResponse[User], required=True), name='Response_read_users_api_v1_users__get', ...
  File "/app/.venv/lib/python3.12/site-packages/fastapi/_compat.py", line 130, in validate
    self._type_adapter.validate_python(value, from_attributes=True),
    │    │             │               └ ListResponse(code=200, message='success', timestamp='2025-07-13T17:05:30.269116+08:00', data=[<app.users.models.User object a...
    │    │             └ <function TypeAdapter.validate_python at 0xffff9550b100>
    │    └ TypeAdapter(Annotated[ListResponse[User], FieldInfo(annotation=ListResponse[User], required=True)])
    └ ModelField(field_info=FieldInfo(annotation=ListResponse[User], required=True), name='Response_read_users_api_v1_users__get', ...
  File "/app/.venv/lib/python3.12/site-packages/pydantic/type_adapter.py", line 421, in validate_python
    return self.validator.validate_python(
           │    │         └ <method 'validate_python' of 'pydantic_core._pydantic_core.SchemaValidator' objects>
           │    └ SchemaValidator(title="ListResponse[User]", validator=Model(
           │          ModelValidator {
           │              revalidate: Never,
           │              validato...
           └ TypeAdapter(Annotated[ListResponse[User], FieldInfo(annotation=ListResponse[User], required=True)])

  File "/app/app/core/schemas.py", line 14, in empty_str_to_none
    if field_info.annotation.__origin__ is Union:
       │          └ <member 'annotation' of 'FieldInfo' objects>
       └ FieldInfo(annotation=Union[str, NoneType], required=False, default=None)

NameError: name 'Union' is not defined
2025-07-13 09:06:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 09:06:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0106秒
2025-07-13 09:06:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 09:06:15 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.2291秒
2025-07-13 09:06:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/2
2025-07-13 09:06:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/2 - 状态码: 200 - 耗时: 0.0017秒
2025-07-13 09:06:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: DELETE http://localhost:8000/api/v1/users/2
2025-07-13 09:06:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: DELETE http://localhost:8000/api/v1/users/2 - 状态码: 200 - 耗时: 0.0848秒
2025-07-13 09:06:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 09:06:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0008秒
2025-07-13 09:06:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 09:06:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0371秒
2025-07-13 09:06:25 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users
2025-07-13 09:06:25 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0112秒
2025-07-13 09:06:25 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users/
2025-07-13 09:06:26 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users/ - 状态码: 201 - 耗时: 0.1353秒
2025-07-13 09:06:26 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 09:06:26 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0008秒
2025-07-13 09:06:26 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 09:06:26 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.1114秒
2025-07-13 09:06:33 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users
2025-07-13 09:06:33 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0016秒
2025-07-13 09:06:33 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users/
2025-07-13 09:06:33 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users/ - 状态码: 201 - 耗时: 0.0702秒
2025-07-13 09:06:33 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 09:06:33 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0009秒
2025-07-13 09:06:33 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 09:06:33 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0310秒
2025-07-13 09:06:38 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users
2025-07-13 09:06:38 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0085秒
2025-07-13 09:06:38 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users/
2025-07-13 09:06:38 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users/ - 状态码: 201 - 耗时: 0.0909秒
2025-07-13 09:06:38 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 09:06:38 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0009秒
2025-07-13 09:06:38 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 09:06:38 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0461秒
2025-07-13 09:06:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users
2025-07-13 09:06:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0073秒
2025-07-13 09:06:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users/
2025-07-13 09:06:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users/ - 状态码: 201 - 耗时: 0.1013秒
2025-07-13 09:06:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 09:06:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0007秒
2025-07-13 09:06:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 09:06:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0281秒
2025-07-13 09:06:52 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users
2025-07-13 09:06:52 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0113秒
2025-07-13 09:06:52 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users/
2025-07-13 09:06:52 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users/ - 状态码: 201 - 耗时: 0.0647秒
2025-07-13 09:06:52 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 09:06:52 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0008秒
2025-07-13 09:06:52 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 09:06:52 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0314秒
2025-07-13 09:06:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users
2025-07-13 09:06:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0136秒
2025-07-13 09:06:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users/
2025-07-13 09:06:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users/ - 状态码: 201 - 耗时: 0.0844秒
2025-07-13 09:06:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 09:06:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0005秒
2025-07-13 09:06:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 09:06:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0286秒
2025-07-13 09:06:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users
2025-07-13 09:06:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0035秒
2025-07-13 09:06:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users/
2025-07-13 09:06:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users/ - 状态码: 201 - 耗时: 0.0726秒
2025-07-13 09:06:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 09:06:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0009秒
2025-07-13 09:06:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 09:06:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0273秒
2025-07-13 09:07:01 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users
2025-07-13 09:07:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0169秒
2025-07-13 09:07:01 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users/
2025-07-13 09:07:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users/ - 状态码: 201 - 耗时: 0.1005秒
2025-07-13 09:07:01 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 09:07:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0006秒
2025-07-13 09:07:01 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 09:07:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0437秒
2025-07-13 09:07:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users
2025-07-13 09:07:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0047秒
2025-07-13 09:07:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users/
2025-07-13 09:07:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users/ - 状态码: 201 - 耗时: 0.1347秒
2025-07-13 09:07:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 09:07:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0006秒
2025-07-13 09:07:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 09:07:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0322秒
2025-07-13 09:07:12 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users
2025-07-13 09:07:12 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0093秒
2025-07-13 09:07:12 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users/
2025-07-13 09:07:12 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users/ - 状态码: 201 - 耗时: 0.1092秒
2025-07-13 09:07:12 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 09:07:12 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0006秒
2025-07-13 09:07:12 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 09:07:12 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0325秒
2025-07-13 09:07:23 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users
2025-07-13 09:07:23 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0066秒
2025-07-13 09:07:23 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users/
2025-07-13 09:07:23 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users/ - 状态码: 201 - 耗时: 0.1090秒
2025-07-13 09:07:23 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 09:07:23 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0007秒
2025-07-13 09:07:23 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 09:07:23 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0517秒
2025-07-13 09:07:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users
2025-07-13 09:07:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0268秒
2025-07-13 09:07:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users/
2025-07-13 09:07:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users/ - 状态码: 201 - 耗时: 0.1222秒
2025-07-13 09:07:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 09:07:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0006秒
2025-07-13 09:07:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 09:07:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0471秒
2025-07-13 09:07:40 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users
2025-07-13 09:07:40 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0169秒
2025-07-13 09:07:40 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users/
2025-07-13 09:07:40 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users/ - 状态码: 201 - 耗时: 0.1012秒
2025-07-13 09:07:40 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 09:07:40 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0007秒
2025-07-13 09:07:40 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 09:07:40 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.1129秒
2025-07-13 09:17:46 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 09:17:46 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 200 - 耗时: 0.0365秒
2025-07-13 09:17:46 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 09:17:46 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0046秒
2025-07-13 09:17:46 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 09:17:46 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0006秒
2025-07-13 09:17:46 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 09:17:46 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 09:17:46 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 401 - 耗时: 0.0373秒
2025-07-13 09:17:47 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 09:17:47 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0053秒
2025-07-13 09:17:47 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 09:17:47 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 09:17:47 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 401 - 耗时: 0.0105秒
2025-07-13 09:17:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 09:17:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0058秒
2025-07-13 09:17:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 09:17:49 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 09:17:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 401 - 耗时: 0.0147秒
2025-07-13 09:17:53 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 09:17:53 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0123秒
2025-07-13 09:17:53 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 09:17:53 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: 无法验证凭据 - GET /api/v1/staffs/
2025-07-13 09:17:53 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 401 - 耗时: 0.0231秒
2025-07-13 09:19:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/login/access-token
2025-07-13 09:19:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/login/access-token - 状态码: 200 - 耗时: 0.5883秒
2025-07-13 09:19:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/me
2025-07-13 09:19:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/me - 状态码: 200 - 耗时: 0.0010秒
2025-07-13 09:19:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/me
2025-07-13 09:19:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/me - 状态码: 200 - 耗时: 0.1688秒
2025-07-13 09:19:08 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 09:19:08 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0286秒
2025-07-13 09:19:08 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 09:19:08 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.1291秒
2025-07-13 09:19:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users?limit=10
2025-07-13 09:19:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users?limit=10 - 状态码: 200 - 耗时: 0.0182秒
2025-07-13 09:19:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 09:19:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0082秒
2025-07-13 09:19:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10
2025-07-13 09:19:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0006秒
2025-07-13 09:19:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 09:19:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.1975秒
2025-07-13 09:19:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users?skip=10&limit=10
2025-07-13 09:19:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users?skip=10&limit=10 - 状态码: 200 - 耗时: 0.0162秒
2025-07-13 09:19:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?skip=10&limit=10
2025-07-13 09:19:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?skip=10&limit=10 - 状态码: 307 - 耗时: 0.0016秒
2025-07-13 09:19:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/?skip=10&limit=10
2025-07-13 09:19:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/?skip=10&limit=10 - 状态码: 200 - 耗时: 0.0005秒
2025-07-13 09:19:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?skip=10&limit=10
2025-07-13 09:19:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?skip=10&limit=10 - 状态码: 200 - 耗时: 0.0527秒
2025-07-13 09:21:23 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?skip=10&limit=10
2025-07-13 09:21:23 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?skip=10&limit=10 - 状态码: 307 - 耗时: 0.0300秒
2025-07-13 09:21:23 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?skip=10&limit=10
2025-07-13 09:21:23 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?skip=10&limit=10 - 状态码: 200 - 耗时: 0.1178秒
2025-07-13 09:22:37 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 09:22:37 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 200 - 耗时: 0.0048秒
2025-07-13 09:22:37 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 09:22:37 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0017秒
2025-07-13 09:22:37 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 09:22:37 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0006秒
2025-07-13 09:22:37 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 09:22:37 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0863秒
2025-07-13 09:22:39 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users?limit=10
2025-07-13 09:22:39 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users?limit=10 - 状态码: 200 - 耗时: 0.0041秒
2025-07-13 09:22:39 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 09:22:39 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0006秒
2025-07-13 09:22:39 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10
2025-07-13 09:22:39 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0005秒
2025-07-13 09:22:39 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 09:22:39 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0557秒
2025-07-13 09:23:06 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/16
2025-07-13 09:23:06 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/16 - 状态码: 200 - 耗时: 0.0188秒
2025-07-13 09:23:06 | INFO | app.core.middleware:dispatch:54 - 开始请求: DELETE http://localhost:8000/api/v1/users/16
2025-07-13 09:23:06 | INFO | app.core.middleware:dispatch:62 - 完成请求: DELETE http://localhost:8000/api/v1/users/16 - 状态码: 200 - 耗时: 0.0817秒
2025-07-13 09:23:06 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 09:23:06 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0014秒
2025-07-13 09:23:06 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 09:23:06 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0285秒
2025-07-13 09:23:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/17
2025-07-13 09:23:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/17 - 状态码: 200 - 耗时: 0.0031秒
2025-07-13 09:23:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: DELETE http://localhost:8000/api/v1/users/17
2025-07-13 09:23:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: DELETE http://localhost:8000/api/v1/users/17 - 状态码: 200 - 耗时: 0.0631秒
2025-07-13 09:23:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 09:23:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0010秒
2025-07-13 09:23:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 09:23:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0352秒
2025-07-13 09:23:12 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users?skip=10&limit=10
2025-07-13 09:23:12 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users?skip=10&limit=10 - 状态码: 200 - 耗时: 0.0088秒
2025-07-13 09:23:12 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?skip=10&limit=10
2025-07-13 09:23:12 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?skip=10&limit=10 - 状态码: 307 - 耗时: 0.0006秒
2025-07-13 09:23:12 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/?skip=10&limit=10
2025-07-13 09:23:12 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/?skip=10&limit=10 - 状态码: 200 - 耗时: 0.0005秒
2025-07-13 09:23:12 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?skip=10&limit=10
2025-07-13 09:23:12 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?skip=10&limit=10 - 状态码: 200 - 耗时: 0.0283秒
2025-07-13 09:30:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 09:30:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0309秒
2025-07-13 09:30:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 09:30:32 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.1369秒
2025-07-13 09:30:32 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 09:30:32 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0009秒
2025-07-13 09:30:32 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 09:30:32 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0330秒
2025-07-13 09:30:40 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/login/access-token
2025-07-13 09:30:40 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/login/access-token - 状态码: 200 - 耗时: 0.3390秒
2025-07-13 09:30:40 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/me
2025-07-13 09:30:40 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/me - 状态码: 200 - 耗时: 0.0006秒
2025-07-13 09:30:40 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/me
2025-07-13 09:30:40 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/me - 状态码: 200 - 耗时: 0.0252秒
2025-07-13 09:30:42 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 09:30:42 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0124秒
2025-07-13 09:30:42 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 09:30:42 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0437秒
2025-07-13 09:30:42 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 09:30:42 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0008秒
2025-07-13 09:30:42 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 09:30:42 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0330秒
2025-07-13 09:30:53 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users
2025-07-13 09:30:53 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users - 状态码: 200 - 耗时: 0.0115秒
2025-07-13 09:30:53 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users
2025-07-13 09:30:53 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0040秒
2025-07-13 09:30:53 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/
2025-07-13 09:30:53 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0005秒
2025-07-13 09:30:53 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/users/
2025-07-13 09:30:53 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/users/ - 状态码: 201 - 耗时: 0.1037秒
2025-07-13 09:30:53 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 09:30:53 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0006秒
2025-07-13 09:30:53 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 09:30:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0318秒
2025-07-13 09:30:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?skip=10&limit=10
2025-07-13 09:30:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?skip=10&limit=10 - 状态码: 307 - 耗时: 0.0020秒
2025-07-13 09:30:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?skip=10&limit=10
2025-07-13 09:30:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?skip=10&limit=10 - 状态码: 200 - 耗时: 0.0583秒
2025-07-13 09:34:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users?limit=10
2025-07-13 09:34:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users?limit=10 - 状态码: 200 - 耗时: 0.0086秒
2025-07-13 09:34:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 09:34:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0016秒
2025-07-13 09:34:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10
2025-07-13 09:34:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0006秒
2025-07-13 09:34:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 09:34:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0770秒
2025-07-13 09:34:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 09:34:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 200 - 耗时: 0.0076秒
2025-07-13 09:34:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 09:34:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0089秒
2025-07-13 09:34:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 09:34:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0006秒
2025-07-13 09:34:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 09:34:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0385秒
2025-07-13 09:34:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=10
2025-07-13 09:34:12 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=10 - 状态码: 200 - 耗时: 0.0041秒
2025-07-13 09:34:12 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 09:34:12 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0016秒
2025-07-13 09:34:12 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 09:34:12 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0004秒
2025-07-13 09:34:12 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 09:34:12 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0849秒
2025-07-13 09:37:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 09:37:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0073秒
2025-07-13 09:37:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 09:37:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.1429秒
2025-07-13 09:38:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users?limit=100
2025-07-13 09:38:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=100
2025-07-13 09:38:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users?limit=100 - 状态码: 200 - 耗时: 0.0049秒
2025-07-13 09:38:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=100 - 状态码: 200 - 耗时: 0.0029秒
2025-07-13 09:38:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=100
2025-07-13 09:38:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=100
2025-07-13 09:38:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=100 - 状态码: 307 - 耗时: 0.0020秒
2025-07-13 09:38:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=100 - 状态码: 307 - 耗时: 0.0012秒
2025-07-13 09:38:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=100
2025-07-13 09:38:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/?limit=100
2025-07-13 09:38:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=100 - 状态码: 200 - 耗时: 0.0083秒
2025-07-13 09:38:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/?limit=100 - 状态码: 200 - 耗时: 0.0089秒
2025-07-13 09:38:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=100
2025-07-13 09:38:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=100
2025-07-13 09:38:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=100 - 状态码: 200 - 耗时: 0.1130秒
2025-07-13 09:38:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=100 - 状态码: 200 - 耗时: 0.0596秒
2025-07-13 09:41:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 09:41:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0172秒
2025-07-13 09:41:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 09:41:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.1705秒
2025-07-13 09:42:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 09:42:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0159秒
2025-07-13 09:42:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 09:42:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.1489秒
2025-07-13 09:42:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=100
2025-07-13 09:42:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=100
2025-07-13 09:42:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=100 - 状态码: 307 - 耗时: 0.0119秒
2025-07-13 09:42:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=100 - 状态码: 307 - 耗时: 0.0085秒
2025-07-13 09:42:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=100
2025-07-13 09:42:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=100
2025-07-13 09:42:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=100 - 状态码: 200 - 耗时: 0.2300秒
2025-07-13 09:42:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=100 - 状态码: 200 - 耗时: 0.2319秒
2025-07-13 09:43:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 09:43:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0169秒
2025-07-13 09:43:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 09:43:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.1002秒
2025-07-13 09:43:12 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 09:43:12 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0031秒
2025-07-13 09:43:12 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 09:43:12 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0683秒
2025-07-13 09:43:13 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=100
2025-07-13 09:43:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=100
2025-07-13 09:43:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=100 - 状态码: 307 - 耗时: 0.0173秒
2025-07-13 09:43:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=100 - 状态码: 307 - 耗时: 0.0055秒
2025-07-13 09:43:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=100
2025-07-13 09:43:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=100
2025-07-13 09:43:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=100 - 状态码: 200 - 耗时: 0.0925秒
2025-07-13 09:43:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=100 - 状态码: 200 - 耗时: 0.1472秒
2025-07-13 09:43:46 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases
2025-07-13 09:43:46 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases - 状态码: 200 - 耗时: 0.0092秒
2025-07-13 09:43:46 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/cases
2025-07-13 09:43:46 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/cases - 状态码: 307 - 耗时: 0.0017秒
2025-07-13 09:43:46 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/
2025-07-13 09:43:46 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/ - 状态码: 200 - 耗时: 0.0006秒
2025-07-13 09:43:46 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/cases/
2025-07-13 09:43:47 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/cases/ - 状态码: 201 - 耗时: 0.1401秒
2025-07-13 09:43:47 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 09:43:47 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0006秒
2025-07-13 09:43:47 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 09:43:47 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0623秒
2025-07-13 09:43:56 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 09:43:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0095秒
2025-07-13 09:43:56 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 09:43:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0804秒
2025-07-13 09:43:58 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=100
2025-07-13 09:43:58 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=100
2025-07-13 09:43:58 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=100 - 状态码: 307 - 耗时: 0.0031秒
2025-07-13 09:43:58 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=100 - 状态码: 307 - 耗时: 0.0026秒
2025-07-13 09:43:58 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=100
2025-07-13 09:43:58 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=100
2025-07-13 09:43:58 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=100 - 状态码: 200 - 耗时: 0.2036秒
2025-07-13 09:43:58 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=100 - 状态码: 200 - 耗时: 0.1910秒
2025-07-13 09:48:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=10
2025-07-13 09:48:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=10 - 状态码: 200 - 耗时: 0.0060秒
2025-07-13 09:48:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 09:48:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0019秒
2025-07-13 09:48:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 09:48:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0007秒
2025-07-13 09:48:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 09:48:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.2907秒
2025-07-13 09:50:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/1
2025-07-13 09:50:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/1 - 状态码: 200 - 耗时: 0.0110秒
2025-07-13 09:50:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/1
2025-07-13 09:50:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/1 - 状态码: 200 - 耗时: 0.1336秒
2025-07-13 09:50:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users?limit=100
2025-07-13 09:50:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=100
2025-07-13 09:50:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users?limit=100 - 状态码: 200 - 耗时: 0.0048秒
2025-07-13 09:50:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=100 - 状态码: 200 - 耗时: 0.0054秒
2025-07-13 09:50:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=100
2025-07-13 09:50:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=100 - 状态码: 307 - 耗时: 0.0039秒
2025-07-13 09:50:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=100
2025-07-13 09:50:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=100 - 状态码: 307 - 耗时: 0.0015秒
2025-07-13 09:50:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/?limit=100
2025-07-13 09:50:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=100
2025-07-13 09:50:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/?limit=100 - 状态码: 200 - 耗时: 0.0018秒
2025-07-13 09:50:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=100 - 状态码: 200 - 耗时: 0.0019秒
2025-07-13 09:50:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=100
2025-07-13 09:50:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=100
2025-07-13 09:50:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=100 - 状态码: 200 - 耗时: 0.0451秒
2025-07-13 09:50:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=100 - 状态码: 200 - 耗时: 0.0549秒
2025-07-13 09:50:23 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 09:50:23 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0065秒
2025-07-13 09:50:23 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 09:50:24 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0968秒
2025-07-13 09:50:35 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/2
2025-07-13 09:50:35 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.0105秒
2025-07-13 09:50:35 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/2
2025-07-13 09:50:35 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.0989秒
2025-07-13 09:50:40 | INFO | app.core.middleware:dispatch:54 - 开始请求: PUT http://localhost:8000/api/v1/cases/2
2025-07-13 09:50:40 | INFO | app.core.middleware:dispatch:62 - 完成请求: PUT http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.1433秒
2025-07-13 09:50:43 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 09:50:43 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0016秒
2025-07-13 09:50:43 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 09:50:43 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0444秒
2025-07-13 09:53:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 09:53:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0091秒
2025-07-13 09:53:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 09:53:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.1078秒
2025-07-13 09:53:36 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/1
2025-07-13 09:53:36 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/1 - 状态码: 200 - 耗时: 0.0684秒
2025-07-13 09:53:39 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=100
2025-07-13 09:53:39 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=100
2025-07-13 09:53:39 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=100 - 状态码: 307 - 耗时: 0.0118秒
2025-07-13 09:53:39 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=100 - 状态码: 307 - 耗时: 0.0033秒
2025-07-13 09:53:39 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=100
2025-07-13 09:53:39 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=100
2025-07-13 09:53:39 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=100 - 状态码: 200 - 耗时: 0.0900秒
2025-07-13 09:53:39 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=100 - 状态码: 200 - 耗时: 0.1262秒
2025-07-13 09:56:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users?limit=10
2025-07-13 09:56:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users?limit=10 - 状态码: 200 - 耗时: 0.0092秒
2025-07-13 09:56:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 09:56:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0068秒
2025-07-13 09:56:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10
2025-07-13 09:56:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0006秒
2025-07-13 09:56:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 09:56:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.1171秒
2025-07-13 09:56:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 09:56:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0013秒
2025-07-13 09:56:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 09:56:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0595秒
2025-07-13 09:56:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 09:56:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0060秒
2025-07-13 09:56:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 09:56:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0654秒
2025-07-13 09:56:16 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/1
2025-07-13 09:56:16 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/1 - 状态码: 200 - 耗时: 0.0777秒
2025-07-13 09:56:21 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=100
2025-07-13 09:56:21 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=100
2025-07-13 09:56:21 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=100 - 状态码: 307 - 耗时: 0.0078秒
2025-07-13 09:56:21 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=100 - 状态码: 307 - 耗时: 0.0125秒
2025-07-13 09:56:21 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=100
2025-07-13 09:56:21 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=100
2025-07-13 09:56:21 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=100 - 状态码: 200 - 耗时: 0.0710秒
2025-07-13 09:56:21 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=100 - 状态码: 200 - 耗时: 0.0721秒
2025-07-13 09:56:24 | INFO | app.core.middleware:dispatch:54 - 开始请求: PUT http://localhost:8000/api/v1/cases/1
2025-07-13 09:56:24 | INFO | app.core.middleware:dispatch:62 - 完成请求: PUT http://localhost:8000/api/v1/cases/1 - 状态码: 200 - 耗时: 0.1112秒
2025-07-13 09:56:24 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/1
2025-07-13 09:56:24 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/1 - 状态码: 200 - 耗时: 0.0313秒
2025-07-13 09:56:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 09:56:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0072秒
2025-07-13 09:56:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 09:56:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0842秒
2025-07-13 09:56:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/2
2025-07-13 09:56:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.0665秒
2025-07-13 09:58:27 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 09:58:27 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0091秒
2025-07-13 09:58:27 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 09:58:27 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0791秒
2025-07-13 09:58:35 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 09:58:35 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 200 - 耗时: 0.0163秒
2025-07-13 09:58:35 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 09:58:35 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0024秒
2025-07-13 09:58:35 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 09:58:35 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0007秒
2025-07-13 09:58:35 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 09:58:35 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0799秒
2025-07-13 09:58:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=10
2025-07-13 09:58:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=10 - 状态码: 200 - 耗时: 0.0084秒
2025-07-13 09:58:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 09:58:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0050秒
2025-07-13 09:58:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 09:58:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0007秒
2025-07-13 09:58:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 09:58:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.1151秒
2025-07-13 09:59:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 09:59:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0124秒
2025-07-13 09:59:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 09:59:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.1174秒
2025-07-13 10:00:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs
2025-07-13 10:00:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users
2025-07-13 10:00:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/2
2025-07-13 10:00:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs - 状态码: 200 - 耗时: 0.0091秒
2025-07-13 10:00:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users - 状态码: 200 - 耗时: 0.0281秒
2025-07-13 10:00:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 10:00:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 10:00:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0023秒
2025-07-13 10:00:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0018秒
2025-07-13 10:00:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/
2025-07-13 10:00:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/
2025-07-13 10:00:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0166秒
2025-07-13 10:00:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0025秒
2025-07-13 10:00:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 10:00:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 10:00:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0518秒
2025-07-13 10:00:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0541秒
2025-07-13 10:00:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.1184秒
2025-07-13 10:00:40 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 10:00:40 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 10:00:40 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/2
2025-07-13 10:00:40 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0170秒
2025-07-13 10:00:40 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0083秒
2025-07-13 10:00:40 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.0041秒
2025-07-13 10:00:40 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 10:00:40 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 10:00:40 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/2
2025-07-13 10:00:40 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.1176秒
2025-07-13 10:00:40 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.1177秒
2025-07-13 10:00:40 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.1110秒
2025-07-13 10:00:40 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/2
2025-07-13 10:00:40 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 10:00:40 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 10:00:40 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0035秒
2025-07-13 10:00:40 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0019秒
2025-07-13 10:00:40 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 10:00:40 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 10:00:40 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0736秒
2025-07-13 10:00:40 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0768秒
2025-07-13 10:00:40 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.0895秒
2025-07-13 10:00:48 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 10:00:48 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0085秒
2025-07-13 10:00:48 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 10:00:48 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.1003秒
2025-07-13 10:00:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/1
2025-07-13 10:00:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/1 - 状态码: 200 - 耗时: 0.0051秒
2025-07-13 10:00:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/1
2025-07-13 10:00:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/1 - 状态码: 200 - 耗时: 0.0855秒
2025-07-13 10:02:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/1
2025-07-13 10:02:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 10:02:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 10:02:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0076秒
2025-07-13 10:02:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0144秒
2025-07-13 10:02:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 10:02:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 10:02:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0997秒
2025-07-13 10:02:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0959秒
2025-07-13 10:02:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/1 - 状态码: 200 - 耗时: 0.2007秒
2025-07-13 10:04:59 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 10:04:59 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 10:04:59 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0101秒
2025-07-13 10:04:59 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0030秒
2025-07-13 10:04:59 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 10:04:59 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 10:04:59 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0712秒
2025-07-13 10:04:59 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0943秒
2025-07-13 10:04:59 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 10:04:59 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0022秒
2025-07-13 10:04:59 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 10:04:59 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0657秒
2025-07-13 10:05:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=100
2025-07-13 10:05:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users?limit=100
2025-07-13 10:05:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=100 - 状态码: 200 - 耗时: 0.0077秒
2025-07-13 10:05:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users?limit=100 - 状态码: 200 - 耗时: 0.0058秒
2025-07-13 10:05:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=100
2025-07-13 10:05:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=100
2025-07-13 10:05:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=100 - 状态码: 307 - 耗时: 0.0025秒
2025-07-13 10:05:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=100 - 状态码: 307 - 耗时: 0.0036秒
2025-07-13 10:05:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/?limit=100
2025-07-13 10:05:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=100
2025-07-13 10:05:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/?limit=100 - 状态码: 200 - 耗时: 0.0036秒
2025-07-13 10:05:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=100 - 状态码: 200 - 耗时: 0.0026秒
2025-07-13 10:05:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=100
2025-07-13 10:05:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=100
2025-07-13 10:05:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=100 - 状态码: 200 - 耗时: 0.0825秒
2025-07-13 10:05:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=100 - 状态码: 200 - 耗时: 0.0842秒
2025-07-13 10:05:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/2
2025-07-13 10:05:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.1406秒
2025-07-13 10:05:20 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/2
2025-07-13 10:05:20 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 10:05:20 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 10:05:20 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0037秒
2025-07-13 10:05:20 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0044秒
2025-07-13 10:05:20 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 10:05:20 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 10:05:20 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.1229秒
2025-07-13 10:05:20 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.1183秒
2025-07-13 10:05:20 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.1986秒
2025-07-13 10:07:26 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 10:07:26 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0072秒
2025-07-13 10:07:26 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 10:07:26 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.1438秒
2025-07-13 10:07:27 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 10:07:27 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0043秒
2025-07-13 10:07:28 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 10:07:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0354秒
2025-07-13 10:07:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/1
2025-07-13 10:07:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 10:07:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 10:07:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0017秒
2025-07-13 10:07:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0024秒
2025-07-13 10:07:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 10:07:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 10:07:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/1 - 状态码: 200 - 耗时: 0.0983秒
2025-07-13 10:07:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0807秒
2025-07-13 10:07:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0814秒
2025-07-13 10:07:39 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 10:07:39 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/1
2025-07-13 10:07:39 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 10:07:39 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0406秒
2025-07-13 10:07:39 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0030秒
2025-07-13 10:07:39 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 10:07:39 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 10:07:39 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0650秒
2025-07-13 10:07:39 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0681秒
2025-07-13 10:07:39 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/1 - 状态码: 200 - 耗时: 0.1128秒
2025-07-13 10:07:46 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 10:07:46 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0112秒
2025-07-13 10:07:46 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 10:07:47 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.1199秒
2025-07-13 10:12:40 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users?limit=10
2025-07-13 10:12:40 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users?limit=10 - 状态码: 200 - 耗时: 0.0127秒
2025-07-13 10:12:40 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 10:12:40 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0051秒
2025-07-13 10:12:40 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10
2025-07-13 10:12:40 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0011秒
2025-07-13 10:12:40 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 10:12:41 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.1952秒
2025-07-13 10:12:50 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 10:12:50 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 200 - 耗时: 0.0050秒
2025-07-13 10:12:50 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 10:12:50 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0035秒
2025-07-13 10:12:50 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 10:12:50 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0013秒
2025-07-13 10:12:50 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 10:12:50 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.5608秒
2025-07-13 10:12:53 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=10
2025-07-13 10:12:53 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=10 - 状态码: 200 - 耗时: 0.0068秒
2025-07-13 10:12:53 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 10:12:53 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0020秒
2025-07-13 10:12:53 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 10:12:53 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0040秒
2025-07-13 10:12:53 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 10:12:53 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.1759秒
2025-07-13 10:12:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/1
2025-07-13 10:12:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users
2025-07-13 10:12:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs
2025-07-13 10:12:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/1 - 状态码: 200 - 耗时: 0.0174秒
2025-07-13 10:12:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users - 状态码: 200 - 耗时: 0.0209秒
2025-07-13 10:12:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs - 状态码: 200 - 耗时: 0.0173秒
2025-07-13 10:12:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/1
2025-07-13 10:12:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 10:12:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 10:12:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0029秒
2025-07-13 10:12:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0029秒
2025-07-13 10:12:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/
2025-07-13 10:12:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0194秒
2025-07-13 10:12:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/
2025-07-13 10:12:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0013秒
2025-07-13 10:12:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 10:12:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 10:12:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/1 - 状态码: 200 - 耗时: 0.0943秒
2025-07-13 10:12:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0702秒
2025-07-13 10:12:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0663秒
2025-07-13 10:14:45 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/1
2025-07-13 10:14:45 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 10:14:45 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 10:14:45 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0133秒
2025-07-13 10:14:45 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0094秒
2025-07-13 10:14:45 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 10:14:45 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 10:14:45 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.1930秒
2025-07-13 10:14:45 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.1977秒
2025-07-13 10:14:45 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/1 - 状态码: 200 - 耗时: 0.3271秒
2025-07-13 10:15:18 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 10:15:18 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/1
2025-07-13 10:15:18 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 10:15:18 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.3149秒
2025-07-13 10:15:18 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0152秒
2025-07-13 10:15:19 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/1 - 状态码: 200 - 耗时: 0.3927秒
2025-07-13 10:15:28 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 10:15:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0103秒
2025-07-13 10:15:28 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 10:15:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0701秒
2025-07-13 10:15:29 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 10:15:29 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0025秒
2025-07-13 10:15:29 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 10:15:29 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0664秒
2025-07-13 10:15:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/2
2025-07-13 10:15:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 10:15:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.0084秒
2025-07-13 10:15:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 10:15:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0065秒
2025-07-13 10:15:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0017秒
2025-07-13 10:15:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/2
2025-07-13 10:15:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 10:15:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 10:15:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0723秒
2025-07-13 10:15:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0811秒
2025-07-13 10:15:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.0904秒
2025-07-13 10:16:25 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 10:16:25 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/2
2025-07-13 10:16:25 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 10:16:25 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0970秒
2025-07-13 10:16:25 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0065秒
2025-07-13 10:16:25 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 10:16:25 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 10:16:25 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.1229秒
2025-07-13 10:16:25 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.1148秒
2025-07-13 10:16:25 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.2164秒
2025-07-13 10:17:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 10:17:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 10:17:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/2
2025-07-13 10:17:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0134秒
2025-07-13 10:17:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0414秒
2025-07-13 10:17:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 10:17:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 10:17:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0915秒
2025-07-13 10:17:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.1062秒
2025-07-13 10:17:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.1884秒
2025-07-13 10:19:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 10:19:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 10:19:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/2
2025-07-13 10:19:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0229秒
2025-07-13 10:19:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0337秒
2025-07-13 10:19:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 10:19:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 10:19:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0938秒
2025-07-13 10:19:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0990秒
2025-07-13 10:19:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.1425秒
2025-07-13 10:20:00 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 10:20:00 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0157秒
2025-07-13 10:20:00 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 10:20:00 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0891秒
2025-07-13 10:20:01 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 10:20:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0031秒
2025-07-13 10:20:01 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 10:20:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0955秒
2025-07-13 10:20:06 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/1
2025-07-13 10:20:06 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/1 - 状态码: 200 - 耗时: 0.0100秒
2025-07-13 10:20:06 | INFO | app.core.middleware:dispatch:54 - 开始请求: PUT http://localhost:8000/api/v1/users/1
2025-07-13 10:20:06 | INFO | app.core.middleware:dispatch:62 - 完成请求: PUT http://localhost:8000/api/v1/users/1 - 状态码: 200 - 耗时: 0.1218秒
2025-07-13 10:20:06 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 10:20:06 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0010秒
2025-07-13 10:20:06 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 10:20:06 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0351秒
2025-07-13 10:20:08 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 10:20:08 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0027秒
2025-07-13 10:20:08 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 10:20:08 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0623秒
2025-07-13 10:20:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 10:20:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0020秒
2025-07-13 10:20:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 10:20:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0550秒
2025-07-13 10:23:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users
2025-07-13 10:23:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs
2025-07-13 10:23:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/2
2025-07-13 10:23:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users - 状态码: 200 - 耗时: 0.0169秒
2025-07-13 10:23:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs - 状态码: 200 - 耗时: 0.0690秒
2025-07-13 10:23:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 10:23:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0083秒
2025-07-13 10:23:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 10:23:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0073秒
2025-07-13 10:23:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/
2025-07-13 10:23:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0048秒
2025-07-13 10:23:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/
2025-07-13 10:23:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 10:23:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0049秒
2025-07-13 10:23:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 10:23:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.1266秒
2025-07-13 10:23:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.1177秒
2025-07-13 10:23:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.2451秒
2025-07-13 10:23:56 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/2
2025-07-13 10:23:56 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 10:23:56 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 10:23:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0224秒
2025-07-13 10:23:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0194秒
2025-07-13 10:23:56 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 10:23:56 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 10:23:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0776秒
2025-07-13 10:23:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0847秒
2025-07-13 10:23:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.1350秒
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/2
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.0240秒
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0139秒
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0090秒
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/2
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0993秒
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.1553秒
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.1149秒
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users?limit=10
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users?limit=10 - 状态码: 200 - 耗时: 0.0058秒
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0022秒
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 200 - 耗时: 0.0069秒
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0077秒
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0035秒
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0006秒
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0482秒
2025-07-13 10:26:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0588秒
2025-07-13 10:26:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=10
2025-07-13 10:26:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=10 - 状态码: 200 - 耗时: 0.0032秒
2025-07-13 10:26:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 10:26:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0016秒
2025-07-13 10:26:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 10:26:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0005秒
2025-07-13 10:26:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 10:26:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0481秒
2025-07-13 10:28:21 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/2
2025-07-13 10:28:21 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 10:28:21 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 10:28:21 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0036秒
2025-07-13 10:28:21 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0066秒
2025-07-13 10:28:21 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 10:28:21 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 10:28:21 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0949秒
2025-07-13 10:28:21 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0926秒
2025-07-13 10:28:21 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.1873秒
2025-07-13 10:33:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 10:33:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0224秒
2025-07-13 10:33:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 10:33:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.1029秒
2025-07-13 10:33:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 10:33:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0061秒
2025-07-13 10:33:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 10:33:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0405秒
2025-07-13 10:33:33 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 10:33:33 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0048秒
2025-07-13 10:33:33 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 10:33:33 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0610秒
2025-07-13 10:33:36 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/2
2025-07-13 10:33:36 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 10:33:36 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 10:33:36 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0115秒
2025-07-13 10:33:36 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0125秒
2025-07-13 10:33:36 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 10:33:36 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 10:33:36 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.1436秒
2025-07-13 10:33:36 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.1576秒
2025-07-13 10:33:36 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.3107秒
2025-07-13 10:37:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/2
2025-07-13 10:37:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs
2025-07-13 10:37:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users
2025-07-13 10:37:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.0228秒
2025-07-13 10:37:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs - 状态码: 200 - 耗时: 0.0162秒
2025-07-13 10:37:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users - 状态码: 200 - 耗时: 0.0165秒
2025-07-13 10:37:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 10:37:18 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/2
2025-07-13 10:37:18 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0811秒
2025-07-13 10:37:18 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 10:37:18 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0027秒
2025-07-13 10:37:18 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/
2025-07-13 10:37:18 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0030秒
2025-07-13 10:37:18 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 10:37:18 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/
2025-07-13 10:37:18 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0009秒
2025-07-13 10:37:18 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 10:37:18 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.1239秒
2025-07-13 10:37:18 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0899秒
2025-07-13 10:37:18 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.2230秒
2025-07-13 10:37:20 | INFO | app.core.middleware:dispatch:54 - 开始请求: PUT http://localhost:8000/api/v1/cases/2
2025-07-13 10:37:20 | ERROR | app.core.middleware:dispatch:66 - 请求异常: PUT http://localhost:8000/api/v1/cases/2 - 错误: 'CaseUpdate' object has no attribute 'case_number'
2025-07-13 10:37:20 | ERROR | app.core.middleware:global_exception_handler:39 - Unhandled error: 'CaseUpdate' object has no attribute 'case_number'
  + Exception Group Traceback (most recent call last):
  |
  |   File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0xffffb6224560>
  |                │     └ <function create_task_group at 0xffffbd544f40>
  |                └ <module 'anyio' from '/app/.venv/lib/python3.12/site-packages/anyio/__init__.py'>
  |   File "/app/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xffffb62ad1c0>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffffb62...
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │    └ <app.core.middleware.LoggingMiddleware object at 0xffffb8445fa0>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffffb8445fd0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |          │            │            └ <function collapse_excgroups at 0xffffbc1d4f40>
    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "/usr/local/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError("'CaseUpdate' object has no attribute 'case_number'")])
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0xffffb84946c0>
    |     └ <contextlib._GeneratorContextManager object at 0xffffb62272c0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffffb6303ec0>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0xffffb6224080>
    |                      │    └ <bound method LoggingMiddleware.dispatch of <app.core.middleware.LoggingMiddleware object at 0xffffb8445fa0>>
    |                      └ <app.core.middleware.LoggingMiddleware object at 0xffffb8445fa0>
    |
    |   File "/app/app/core/middleware.py", line 57, in dispatch
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0xffffb6224080>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffffb6303ec0>
    |
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 156, in call_next
    |     raise app_exc
    |           └ AttributeError("'CaseUpdate' object has no attribute 'case_number'")
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffffb6303d80>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6301ee0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0xffffb8445e80>
    |           └ <app.core.middleware.LoggingMiddleware object at 0xffffb8445fa0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |           │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '85', 'sec-ch-ua-platform': '"macOS"', 'auth...
    |           │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffffb6303d80>
    |           │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6301ee0>
    |           │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │    └ <function CORSMiddleware.simple_response at 0xffffbc0d6660>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0xffffb8445e80>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffffb8445e80>>, ...
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6301ee0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffffb85536e0>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0xffffb8445e80>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffffb8445e80>>, ...
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6301ee0>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │                            │    │    └ <starlette.requests.Request object at 0xffffb6226180>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0xffffbc2329c0>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffffb85536e0>
    |           └ <function wrap_app_handling_exceptions at 0xffffbc20b100>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffffb6301620>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6301ee0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           └ <fastapi.routing.APIRouter object at 0xffffbc2329c0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffffb6301620>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6301ee0>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0xffffbc2329c0>>
    |           └ <fastapi.routing.APIRouter object at 0xffffbc2329c0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffffb6301620>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6301ee0>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │     └ <function Route.handle at 0xffffbc0b45e0>
    |           └ APIRoute(path='/api/v1/cases/{case_id}', name='update_case', methods=['PUT'])
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffffb6301620>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6301ee0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │    └ <function request_response.<locals>.app at 0xffffb840d1c0>
    |           └ APIRoute(path='/api/v1/cases/{case_id}', name='update_case', methods=['PUT'])
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffffb6301620>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6301ee0>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │                            │    └ <starlette.requests.Request object at 0xffffb6226f30>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0xffffb6303880>
    |           └ <function wrap_app_handling_exceptions at 0xffffbc20b100>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffffb6301bc0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6301ee0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           └ <function request_response.<locals>.app.<locals>.app at 0xffffb6303880>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    |     response = await f(request)
    |                      │ └ <starlette.requests.Request object at 0xffffb6226f30>
    |                      └ <function get_request_handler.<locals>.app at 0xffffb840d080>
    |   File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0xffffbc20af20>
    |   File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |                  │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0xffffb6224470>, 'current_staff': <app.staffs.models.Staff obje...
    |                  │         └ <function update_case at 0xffffba231760>
    |                  └ Dependant(path_params=[ModelField(field_info=Path(PydanticUndefined), name='case_id', mode='validation')], query_params=[], h...
    |
    |   File "/app/app/cases/routers.py", line 124, in update_case
    |     if case_in.case_number and case_in.case_number != case.case_number:
    |        │                       │                      │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0xffffba2039c0>
    |        │                       │                      └ <app.cases.models.Case object at 0xffffb6268530>
    |        │                       └ CaseUpdate(title='sdfvssdf', description=None, case_type=<CaseType.DEBT: 'debt'>, creaditor_name=None, creditor_type=None, de...
    |        └ CaseUpdate(title='sdfvssdf', description=None, case_type=<CaseType.DEBT: 'debt'>, creaditor_name=None, creditor_type=None, de...
    |
    |   File "/app/.venv/lib/python3.12/site-packages/pydantic/main.py", line 991, in __getattr__
    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
    |                                  │                                          └ 'case_number'
    |                                  └ CaseUpdate(title='sdfvssdf', description=None, case_type=<CaseType.DEBT: 'debt'>, creaditor_name=None, creditor_type=None, de...
    |
    | AttributeError: 'CaseUpdate' object has no attribute 'case_number'
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "/app/.venv/bin/uvicorn", line 10, in <module>
    sys.exit(main())
    │   │    └ <Command main>
    │   └ <built-in function exit>
    └ <module 'sys' (built-in)>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
           │    │     │       └ {}
           │    │     └ ()
           │    └ <function Command.main at 0xffffbd87d620>
           └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
         │    │      └ <click.core.Context object at 0xffffbe6b52e0>
         │    └ <function Command.invoke at 0xffffbd87d300>
         └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           │   │      │    │           │   └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │   │      │    │           └ <click.core.Context object at 0xffffbe6b52e0>
           │   │      │    └ <function main at 0xffffbd6080e0>
           │   │      └ <Command main>
           │   └ <function Context.invoke at 0xffffbd87c540>
           └ <click.core.Context object at 0xffffbe6b52e0>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
           │         │       └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │         └ ()
           └ <function main at 0xffffbd6080e0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 413, in main
    run(
    └ <function run at 0xffffbd87bb00>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 580, in run
    server.run()
    │      └ <function Server.run at 0xffffbd684180>
    └ <uvicorn.server.Server object at 0xffffbe739400>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0xffffbd684220>
           │       │   └ <uvicorn.server.Server object at 0xffffbe739400>
           │       └ <function run at 0xffffbe85c680>
           └ <module 'asyncio' from '/usr/local/lib/python3.12/asyncio/__init__.py'>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0xffffbd5b67a0>
           │      └ <function Runner.run at 0xffffbe2c02c0>
           └ <asyncio.runners.Runner object at 0xffffbd892150>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /app/.venv/lib/python3.12/site-packages/uvicorn/server.py:71> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0xffffbd588450>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0xffffbd892150>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffffb85f80b0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffffb62246...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffffb62...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0xffffbd5de8d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffffb85f80b0>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffffb62246...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffffb62...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
  File "/app/.venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffffb62246...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffffb62...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffffb8445fd0>
          └ <fastapi.applications.FastAPI object at 0xffffbd5de8d0>
> File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xffffb62ad1c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffffb62...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <app.core.middleware.LoggingMiddleware object at 0xffffb8445fa0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffffb8445fd0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0xffffbc1d4f40>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError("'CaseUpdate' object has no attribute 'case_number'")])
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0xffffb84946c0>
    └ <contextlib._GeneratorContextManager object at 0xffffb62272c0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffffb6303ec0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0xffffb6224080>
                     │    └ <bound method LoggingMiddleware.dispatch of <app.core.middleware.LoggingMiddleware object at 0xffffb8445fa0>>
                     └ <app.core.middleware.LoggingMiddleware object at 0xffffb8445fa0>

  File "/app/app/core/middleware.py", line 57, in dispatch
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0xffffb6224080>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffffb6303ec0>

  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ AttributeError("'CaseUpdate' object has no attribute 'case_number'")
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffffb6303d80>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6301ee0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0xffffb8445e80>
          └ <app.core.middleware.LoggingMiddleware object at 0xffffb8445fa0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '85', 'sec-ch-ua-platform': '"macOS"', 'auth...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffffb6303d80>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6301ee0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0xffffbc0d6660>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffffb8445e80>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffffb8445e80>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6301ee0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffffb85536e0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffffb8445e80>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffffb8445e80>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6301ee0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0xffffb6226180>
          │                            │    └ <fastapi.routing.APIRouter object at 0xffffbc2329c0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffffb85536e0>
          └ <function wrap_app_handling_exceptions at 0xffffbc20b100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffffb6301620>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6301ee0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0xffffbc2329c0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffffb6301620>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6301ee0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0xffffbc2329c0>>
          └ <fastapi.routing.APIRouter object at 0xffffbc2329c0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffffb6301620>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6301ee0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │     └ <function Route.handle at 0xffffbc0b45e0>
          └ APIRoute(path='/api/v1/cases/{case_id}', name='update_case', methods=['PUT'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffffb6301620>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6301ee0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0xffffb840d1c0>
          └ APIRoute(path='/api/v1/cases/{case_id}', name='update_case', methods=['PUT'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffffb6301620>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6301ee0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0xffffb6226f30>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0xffffb6303880>
          └ <function wrap_app_handling_exceptions at 0xffffbc20b100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffffb6301bc0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6301ee0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0xffffb6303880>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0xffffb6226f30>
                     └ <function get_request_handler.<locals>.app at 0xffffb840d080>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0xffffbc20af20>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0xffffb6224470>, 'current_staff': <app.staffs.models.Staff obje...
                 │         └ <function update_case at 0xffffba231760>
                 └ Dependant(path_params=[ModelField(field_info=Path(PydanticUndefined), name='case_id', mode='validation')], query_params=[], h...

  File "/app/app/cases/routers.py", line 124, in update_case
    if case_in.case_number and case_in.case_number != case.case_number:
       │                       │                      │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0xffffba2039c0>
       │                       │                      └ <app.cases.models.Case object at 0xffffb6268530>
       │                       └ CaseUpdate(title='sdfvssdf', description=None, case_type=<CaseType.DEBT: 'debt'>, creaditor_name=None, creditor_type=None, de...
       └ CaseUpdate(title='sdfvssdf', description=None, case_type=<CaseType.DEBT: 'debt'>, creaditor_name=None, creditor_type=None, de...

  File "/app/.venv/lib/python3.12/site-packages/pydantic/main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
                                 │                                          └ 'case_number'
                                 └ CaseUpdate(title='sdfvssdf', description=None, case_type=<CaseType.DEBT: 'debt'>, creaditor_name=None, creditor_type=None, de...

AttributeError: 'CaseUpdate' object has no attribute 'case_number'
2025-07-13 10:37:24 | INFO | app.core.middleware:dispatch:54 - 开始请求: PUT http://localhost:8000/api/v1/cases/2
2025-07-13 10:37:24 | ERROR | app.core.middleware:dispatch:66 - 请求异常: PUT http://localhost:8000/api/v1/cases/2 - 错误: 'CaseUpdate' object has no attribute 'case_number'
2025-07-13 10:37:24 | ERROR | app.core.middleware:global_exception_handler:39 - Unhandled error: 'CaseUpdate' object has no attribute 'case_number'
  + Exception Group Traceback (most recent call last):
  |
  |   File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0xffffb626a510>
  |                │     └ <function create_task_group at 0xffffbd544f40>
  |                └ <module 'anyio' from '/app/.venv/lib/python3.12/site-packages/anyio/__init__.py'>
  |   File "/app/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xffffb6194360>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffffb62...
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │    └ <app.core.middleware.LoggingMiddleware object at 0xffffb8445fa0>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffffb8445fd0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |          │            │            └ <function collapse_excgroups at 0xffffbc1d4f40>
    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "/usr/local/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError("'CaseUpdate' object has no attribute 'case_number'")])
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0xffffb61e5560>
    |     └ <contextlib._GeneratorContextManager object at 0xffffb6268ce0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffffb6194fe0>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0xffffb62695e0>
    |                      │    └ <bound method LoggingMiddleware.dispatch of <app.core.middleware.LoggingMiddleware object at 0xffffb8445fa0>>
    |                      └ <app.core.middleware.LoggingMiddleware object at 0xffffb8445fa0>
    |
    |   File "/app/app/core/middleware.py", line 57, in dispatch
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0xffffb62695e0>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffffb6194fe0>
    |
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 156, in call_next
    |     raise app_exc
    |           └ AttributeError("'CaseUpdate' object has no attribute 'case_number'")
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffffb6197060>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6195080>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0xffffb8445e80>
    |           └ <app.core.middleware.LoggingMiddleware object at 0xffffb8445fa0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |           │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '85', 'sec-ch-ua-platform': '"macOS"', 'auth...
    |           │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffffb6197060>
    |           │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6195080>
    |           │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │    └ <function CORSMiddleware.simple_response at 0xffffbc0d6660>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0xffffb8445e80>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffffb8445e80>>, ...
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6195080>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffffb85536e0>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0xffffb8445e80>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffffb8445e80>>, ...
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6195080>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │                            │    │    └ <starlette.requests.Request object at 0xffffb6269250>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0xffffbc2329c0>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffffb85536e0>
    |           └ <function wrap_app_handling_exceptions at 0xffffbc20b100>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffffb6196fc0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6195080>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           └ <fastapi.routing.APIRouter object at 0xffffbc2329c0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffffb6196fc0>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6195080>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0xffffbc2329c0>>
    |           └ <fastapi.routing.APIRouter object at 0xffffbc2329c0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffffb6196fc0>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6195080>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │     └ <function Route.handle at 0xffffbc0b45e0>
    |           └ APIRoute(path='/api/v1/cases/{case_id}', name='update_case', methods=['PUT'])
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffffb6196fc0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6195080>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │    └ <function request_response.<locals>.app at 0xffffb840d1c0>
    |           └ APIRoute(path='/api/v1/cases/{case_id}', name='update_case', methods=['PUT'])
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffffb6196fc0>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6195080>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           │                            │    └ <starlette.requests.Request object at 0xffffb626acf0>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0xffffb6196e80>
    |           └ <function wrap_app_handling_exceptions at 0xffffbc20b100>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffffb61971a0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6195080>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
    |           └ <function request_response.<locals>.app.<locals>.app at 0xffffb6196e80>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    |     response = await f(request)
    |                      │ └ <starlette.requests.Request object at 0xffffb626acf0>
    |                      └ <function get_request_handler.<locals>.app at 0xffffb840d080>
    |   File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                          └ <function run_endpoint_function at 0xffffbc20af20>
    |   File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |                  │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0xffffb62b50d0>, 'current_staff': <app.staffs.models.Staff obje...
    |                  │         └ <function update_case at 0xffffba231760>
    |                  └ Dependant(path_params=[ModelField(field_info=Path(PydanticUndefined), name='case_id', mode='validation')], query_params=[], h...
    |
    |   File "/app/app/cases/routers.py", line 124, in update_case
    |     if case_in.case_number and case_in.case_number != case.case_number:
    |        │                       │                      │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0xffffba2039c0>
    |        │                       │                      └ <app.cases.models.Case object at 0xffffbc0e23c0>
    |        │                       └ CaseUpdate(title='sdfvssdf', description=None, case_type=<CaseType.DEBT: 'debt'>, creaditor_name=None, creditor_type=None, de...
    |        └ CaseUpdate(title='sdfvssdf', description=None, case_type=<CaseType.DEBT: 'debt'>, creaditor_name=None, creditor_type=None, de...
    |
    |   File "/app/.venv/lib/python3.12/site-packages/pydantic/main.py", line 991, in __getattr__
    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
    |                                  │                                          └ 'case_number'
    |                                  └ CaseUpdate(title='sdfvssdf', description=None, case_type=<CaseType.DEBT: 'debt'>, creaditor_name=None, creditor_type=None, de...
    |
    | AttributeError: 'CaseUpdate' object has no attribute 'case_number'
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "/app/.venv/bin/uvicorn", line 10, in <module>
    sys.exit(main())
    │   │    └ <Command main>
    │   └ <built-in function exit>
    └ <module 'sys' (built-in)>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
           │    │     │       └ {}
           │    │     └ ()
           │    └ <function Command.main at 0xffffbd87d620>
           └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
         │    │      └ <click.core.Context object at 0xffffbe6b52e0>
         │    └ <function Command.invoke at 0xffffbd87d300>
         └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           │   │      │    │           │   └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │   │      │    │           └ <click.core.Context object at 0xffffbe6b52e0>
           │   │      │    └ <function main at 0xffffbd6080e0>
           │   │      └ <Command main>
           │   └ <function Context.invoke at 0xffffbd87c540>
           └ <click.core.Context object at 0xffffbe6b52e0>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
           │         │       └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │         └ ()
           └ <function main at 0xffffbd6080e0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 413, in main
    run(
    └ <function run at 0xffffbd87bb00>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 580, in run
    server.run()
    │      └ <function Server.run at 0xffffbd684180>
    └ <uvicorn.server.Server object at 0xffffbe739400>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0xffffbd684220>
           │       │   └ <uvicorn.server.Server object at 0xffffbe739400>
           │       └ <function run at 0xffffbe85c680>
           └ <module 'asyncio' from '/usr/local/lib/python3.12/asyncio/__init__.py'>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0xffffbd5b67a0>
           │      └ <function Runner.run at 0xffffbe2c02c0>
           └ <asyncio.runners.Runner object at 0xffffbd892150>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /app/.venv/lib/python3.12/site-packages/uvicorn/server.py:71> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0xffffbd588450>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0xffffbd892150>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffffb85f80b0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffffb6269a...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffffb62...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0xffffbd5de8d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffffb85f80b0>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffffb6269a...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffffb62...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
  File "/app/.venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffffb6269a...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffffb62...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffffb8445fd0>
          └ <fastapi.applications.FastAPI object at 0xffffbd5de8d0>
> File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xffffb6194360>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffffb62...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <app.core.middleware.LoggingMiddleware object at 0xffffb8445fa0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffffb8445fd0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0xffffbc1d4f40>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [AttributeError("'CaseUpdate' object has no attribute 'case_number'")])
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0xffffb61e5560>
    └ <contextlib._GeneratorContextManager object at 0xffffb6268ce0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffffb6194fe0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0xffffb62695e0>
                     │    └ <bound method LoggingMiddleware.dispatch of <app.core.middleware.LoggingMiddleware object at 0xffffb8445fa0>>
                     └ <app.core.middleware.LoggingMiddleware object at 0xffffb8445fa0>

  File "/app/app/core/middleware.py", line 57, in dispatch
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0xffffb62695e0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffffb6194fe0>

  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ AttributeError("'CaseUpdate' object has no attribute 'case_number'")
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffffb6197060>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6195080>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0xffffb8445e80>
          └ <app.core.middleware.LoggingMiddleware object at 0xffffb8445fa0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'content-length': '85', 'sec-ch-ua-platform': '"macOS"', 'auth...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffffb6197060>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6195080>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0xffffbc0d6660>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffffb8445e80>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffffb8445e80>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6195080>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffffb85536e0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffffb8445e80>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffffb8445e80>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6195080>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0xffffb6269250>
          │                            │    └ <fastapi.routing.APIRouter object at 0xffffbc2329c0>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffffb85536e0>
          └ <function wrap_app_handling_exceptions at 0xffffbc20b100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffffb6196fc0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6195080>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0xffffbc2329c0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffffb6196fc0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6195080>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0xffffbc2329c0>>
          └ <fastapi.routing.APIRouter object at 0xffffbc2329c0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffffb6196fc0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6195080>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │     └ <function Route.handle at 0xffffbc0b45e0>
          └ APIRoute(path='/api/v1/cases/{case_id}', name='update_case', methods=['PUT'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffffb6196fc0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6195080>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0xffffb840d1c0>
          └ APIRoute(path='/api/v1/cases/{case_id}', name='update_case', methods=['PUT'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffffb6196fc0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6195080>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0xffffb626acf0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0xffffb6196e80>
          └ <function wrap_app_handling_exceptions at 0xffffbc20b100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffffb61971a0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffffb6195080>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.19.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0xffffb6196e80>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0xffffb626acf0>
                     └ <function get_request_handler.<locals>.app at 0xffffb840d080>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0xffffbc20af20>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
                 │         │      └ {'db': <sqlalchemy.ext.asyncio.session.AsyncSession object at 0xffffb62b50d0>, 'current_staff': <app.staffs.models.Staff obje...
                 │         └ <function update_case at 0xffffba231760>
                 └ Dependant(path_params=[ModelField(field_info=Path(PydanticUndefined), name='case_id', mode='validation')], query_params=[], h...

  File "/app/app/cases/routers.py", line 124, in update_case
    if case_in.case_number and case_in.case_number != case.case_number:
       │                       │                      │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0xffffba2039c0>
       │                       │                      └ <app.cases.models.Case object at 0xffffbc0e23c0>
       │                       └ CaseUpdate(title='sdfvssdf', description=None, case_type=<CaseType.DEBT: 'debt'>, creaditor_name=None, creditor_type=None, de...
       └ CaseUpdate(title='sdfvssdf', description=None, case_type=<CaseType.DEBT: 'debt'>, creaditor_name=None, creditor_type=None, de...

  File "/app/.venv/lib/python3.12/site-packages/pydantic/main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
                                 │                                          └ 'case_number'
                                 └ CaseUpdate(title='sdfvssdf', description=None, case_type=<CaseType.DEBT: 'debt'>, creaditor_name=None, creditor_type=None, de...

AttributeError: 'CaseUpdate' object has no attribute 'case_number'
2025-07-13 10:39:16 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users?limit=10
2025-07-13 10:39:16 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users?limit=10 - 状态码: 200 - 耗时: 0.0024秒
2025-07-13 10:39:16 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 10:39:16 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0012秒
2025-07-13 10:39:16 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10
2025-07-13 10:39:16 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0010秒
2025-07-13 10:39:16 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 10:39:16 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.1403秒
2025-07-13 10:39:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=10
2025-07-13 10:39:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=10 - 状态码: 200 - 耗时: 0.0075秒
2025-07-13 10:39:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 10:39:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0014秒
2025-07-13 10:39:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 10:39:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0012秒
2025-07-13 10:39:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 10:39:18 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.1055秒
2025-07-13 10:39:21 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/1
2025-07-13 10:39:21 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 10:39:21 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/1 - 状态码: 200 - 耗时: 0.0149秒
2025-07-13 10:39:21 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 10:39:21 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0088秒
2025-07-13 10:39:21 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0052秒
2025-07-13 10:39:21 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 10:39:21 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/1
2025-07-13 10:39:21 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 10:39:21 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.2583秒
2025-07-13 10:39:21 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.2350秒
2025-07-13 10:39:21 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/1 - 状态码: 200 - 耗时: 0.2674秒
2025-07-13 10:39:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/2
2025-07-13 10:39:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.1984秒
2025-07-13 10:39:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: PUT http://localhost:8000/api/v1/cases/2
2025-07-13 10:39:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: PUT http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.1354秒
2025-07-13 10:39:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/2
2025-07-13 10:39:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.0428秒
2025-07-13 10:39:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: PUT http://localhost:8000/api/v1/cases/2
2025-07-13 10:39:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: PUT http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.0889秒
2025-07-13 10:39:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/2
2025-07-13 10:39:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.0380秒
2025-07-13 10:39:59 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 10:39:59 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0059秒
2025-07-13 10:39:59 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 10:39:59 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0490秒
2025-07-13 10:40:04 | INFO | app.core.middleware:dispatch:54 - 开始请求: PUT http://localhost:8000/api/v1/cases/2
2025-07-13 10:40:04 | INFO | app.core.middleware:dispatch:62 - 完成请求: PUT http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.1337秒
2025-07-13 10:40:04 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/2
2025-07-13 10:40:04 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/2 - 状态码: 200 - 耗时: 0.0385秒
2025-07-13 10:40:20 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 10:40:20 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0527秒
2025-07-13 10:40:20 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 10:40:20 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.1847秒
2025-07-13 10:47:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 10:47:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0350秒
2025-07-13 10:47:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 10:47:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.6282秒
2025-07-13 10:48:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 10:48:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0191秒
2025-07-13 10:48:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 10:48:03 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.2699秒
2025-07-13 10:48:06 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 10:48:06 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 10:48:06 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 200 - 耗时: 0.0393秒
2025-07-13 10:48:06 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 200 - 耗时: 0.0199秒
2025-07-13 10:48:06 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 10:48:06 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 10:48:06 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0105秒
2025-07-13 10:48:06 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0087秒
2025-07-13 10:48:06 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 10:48:06 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 10:48:06 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.0168秒
2025-07-13 10:48:06 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.0152秒
2025-07-13 10:48:06 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 10:48:06 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 10:48:06 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.2376秒
2025-07-13 10:48:06 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.2027秒
2025-07-13 10:48:16 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/1
2025-07-13 10:48:16 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/1 - 状态码: 200 - 耗时: 0.0219秒
2025-07-13 10:48:16 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/1
2025-07-13 10:48:16 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/1 - 状态码: 200 - 耗时: 0.1665秒
2025-07-13 10:49:43 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/
2025-07-13 10:49:44 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/ - 状态码: 200 - 耗时: 0.0367秒
2025-07-13 10:49:44 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/static/style.css
2025-07-13 10:49:44 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/static/script.js
2025-07-13 10:49:44 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/static/style.css - 状态码: 200 - 耗时: 0.0209秒
2025-07-13 10:49:44 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/static/script.js - 状态码: 200 - 耗时: 0.0192秒
2025-07-13 10:49:44 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/favicon.ico
2025-07-13 10:49:44 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/favicon.ico - 状态码: 404 - 耗时: 0.0076秒
2025-07-13 10:49:52 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: temp_file_187651554925008.jpg, 文件夹: images
2025-07-13 10:49:52 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 181542 字节
2025-07-13 10:49:52 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713104952_temp_file_187651554925008.jpg
2025-07-13 10:49:52 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713104952_temp_file_187651554925008.jpg
2025-07-13 10:49:52 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713104952_temp_file_187651554925008.jpg, disposition=inline
2025-07-13 10:49:53 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713104952_temp_file_187651554925008.jpg
2025-07-13 10:49:53 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713104952_temp_file_187651554925008.jpg
2025-07-13 10:49:53 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: temp_file_187651555126160.jpg, 文件夹: images
2025-07-13 10:49:53 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 488408 字节
2025-07-13 10:49:53 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713104953_temp_file_187651555126160.jpg
2025-07-13 10:49:53 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713104953_temp_file_187651555126160.jpg
2025-07-13 10:49:53 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713104953_temp_file_187651555126160.jpg, disposition=inline
2025-07-13 10:49:53 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713104953_temp_file_187651555126160.jpg
2025-07-13 10:49:53 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713104953_temp_file_187651555126160.jpg
2025-07-13 10:49:53 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: temp_file_187651558833632.jpg, 文件夹: images
2025-07-13 10:49:53 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 369499 字节
2025-07-13 10:49:53 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713104953_temp_file_187651558833632.jpg
2025-07-13 10:49:53 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713104953_temp_file_187651558833632.jpg
2025-07-13 10:49:53 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713104953_temp_file_187651558833632.jpg, disposition=inline
2025-07-13 10:49:53 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713104953_temp_file_187651558833632.jpg
2025-07-13 10:49:53 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713104953_temp_file_187651558833632.jpg
2025-07-13 10:53:44 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users?limit=10
2025-07-13 10:53:44 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users?limit=10 - 状态码: 200 - 耗时: 0.0093秒
2025-07-13 10:53:44 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 10:53:44 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0022秒
2025-07-13 10:53:44 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10
2025-07-13 10:53:44 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0013秒
2025-07-13 10:53:44 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 10:53:44 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.1238秒
2025-07-13 10:53:46 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 10:53:46 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0138秒
2025-07-13 10:53:46 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 10:53:46 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.1175秒
2025-07-13 10:53:47 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 10:53:47 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 10:53:47 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 200 - 耗时: 0.0103秒
2025-07-13 10:53:47 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 200 - 耗时: 0.0030秒
2025-07-13 10:53:47 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 10:53:47 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 10:53:47 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0057秒
2025-07-13 10:53:47 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0013秒
2025-07-13 10:53:47 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 10:53:47 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 10:53:47 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.0011秒
2025-07-13 10:53:47 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.0012秒
2025-07-13 10:53:48 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 10:53:48 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 10:53:48 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.2158秒
2025-07-13 10:53:48 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.1248秒
2025-07-13 10:54:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 10:54:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 200 - 耗时: 0.0078秒
2025-07-13 10:54:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 10:54:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0032秒
2025-07-13 10:54:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 10:54:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0006秒
2025-07-13 10:54:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 10:54:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.1258秒
2025-07-13 10:54:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users?limit=10
2025-07-13 10:54:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users?limit=10 - 状态码: 200 - 耗时: 0.0008秒
2025-07-13 10:54:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 10:54:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0008秒
2025-07-13 10:54:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10
2025-07-13 10:54:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0010秒
2025-07-13 10:54:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 10:54:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0275秒
2025-07-13 10:55:38 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 10:55:38 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 10:55:38 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0315秒
2025-07-13 10:55:38 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0141秒
2025-07-13 10:55:38 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 10:55:38 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 10:55:38 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.1912秒
2025-07-13 10:55:38 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.2372秒
2025-07-13 11:04:20 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 11:04:20 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: Not authenticated - GET /api/v1/cases/
2025-07-13 11:04:20 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 401 - 耗时: 0.0638秒
2025-07-13 11:04:29 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 11:04:29 | ERROR | app.core.middleware:http_exception_handler:12 - HTTPException: Not authenticated - GET /api/v1/cases/
2025-07-13 11:04:29 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 401 - 耗时: 0.0123秒
2025-07-13 11:36:07 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 11:36:07 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 11:36:07 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 200 - 耗时: 0.0645秒
2025-07-13 11:36:07 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 200 - 耗时: 0.0236秒
2025-07-13 11:36:07 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 11:36:07 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 11:36:07 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0115秒
2025-07-13 11:36:07 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0021秒
2025-07-13 11:36:07 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 11:36:07 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 11:36:07 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.0075秒
2025-07-13 11:36:07 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.0050秒
2025-07-13 11:36:07 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 11:36:07 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 11:36:08 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.1497秒
2025-07-13 11:36:08 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.2382秒
2025-07-13 11:36:28 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 11:36:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0169秒
2025-07-13 11:36:28 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 11:36:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.1229秒
2025-07-13 11:36:38 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 11:36:38 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0074秒
2025-07-13 11:36:38 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 11:36:38 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.2073秒
2025-07-13 11:36:39 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 11:36:39 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0017秒
2025-07-13 11:36:39 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 11:36:39 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.0633秒
2025-07-13 11:36:50 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 11:36:50 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 11:36:50 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0092秒
2025-07-13 11:36:50 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0045秒
2025-07-13 11:36:50 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 11:36:50 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 11:36:50 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.2349秒
2025-07-13 11:36:50 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.2578秒
2025-07-13 11:39:20 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 11:39:20 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0143秒
2025-07-13 11:39:20 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 11:39:20 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.1761秒
2025-07-13 11:39:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/
2025-07-13 11:39:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/ - 状态码: 200 - 耗时: 0.0175秒
2025-07-13 11:39:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/static/script.js
2025-07-13 11:39:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/static/style.css
2025-07-13 11:39:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/static/script.js - 状态码: 304 - 耗时: 0.0233秒
2025-07-13 11:39:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/static/style.css - 状态码: 304 - 耗时: 0.0152秒
2025-07-13 11:39:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 11:39:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 11:39:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 200 - 耗时: 0.0052秒
2025-07-13 11:39:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 200 - 耗时: 0.0030秒
2025-07-13 11:39:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 11:39:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0087秒
2025-07-13 11:39:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 11:39:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0010秒
2025-07-13 11:39:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 11:39:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 11:39:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.0010秒
2025-07-13 11:39:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.0009秒
2025-07-13 11:39:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 11:39:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 11:39:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.0834秒
2025-07-13 11:39:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.0997秒
2025-07-13 11:41:56 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 11:41:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0187秒
2025-07-13 11:41:56 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 11:41:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.2027秒
2025-07-13 11:42:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 11:42:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 11:42:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0233秒
2025-07-13 11:42:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0112秒
2025-07-13 11:42:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 11:42:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 11:42:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users?limit=10
2025-07-13 11:42:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users?limit=10 - 状态码: 200 - 耗时: 0.0019秒
2025-07-13 11:42:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 11:42:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0011秒
2025-07-13 11:42:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10
2025-07-13 11:42:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0008秒
2025-07-13 11:42:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 11:42:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0692秒
2025-07-13 11:42:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.1965秒
2025-07-13 11:42:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.2449秒
2025-07-13 11:42:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 11:42:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 11:42:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0237秒
2025-07-13 11:42:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0145秒
2025-07-13 11:42:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 11:42:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 11:42:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.3972秒
2025-07-13 11:42:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.3953秒
2025-07-13 11:46:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 11:46:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0480秒
2025-07-13 11:46:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 11:46:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 11:46:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 11:46:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 200 - 耗时: 0.0115秒
2025-07-13 11:46:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 200 - 耗时: 0.0037秒
2025-07-13 11:46:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 11:46:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0030秒
2025-07-13 11:46:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 11:46:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 11:46:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0042秒
2025-07-13 11:46:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.0039秒
2025-07-13 11:46:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 11:46:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 11:46:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.0070秒
2025-07-13 11:46:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 11:46:50 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.3994秒
2025-07-13 11:46:50 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.3742秒
2025-07-13 11:46:50 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.5799秒
2025-07-13 11:47:01 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 11:47:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0144秒
2025-07-13 11:47:01 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 11:47:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.2318秒
2025-07-13 11:47:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 11:47:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0150秒
2025-07-13 11:47:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 11:47:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.1986秒
2025-07-13 11:47:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 11:47:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 200 - 耗时: 0.0082秒
2025-07-13 11:47:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 11:47:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0009秒
2025-07-13 11:47:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 11:47:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0043秒
2025-07-13 11:47:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 11:47:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0454秒
2025-07-13 11:47:12 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=10
2025-07-13 11:47:12 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=10 - 状态码: 200 - 耗时: 0.0059秒
2025-07-13 11:47:12 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 11:47:12 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0018秒
2025-07-13 11:47:12 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 11:47:12 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0009秒
2025-07-13 11:47:12 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 11:47:13 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.1598秒
2025-07-13 11:47:16 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 11:47:16 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 11:47:16 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0128秒
2025-07-13 11:47:16 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0033秒
2025-07-13 11:47:16 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 11:47:16 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 11:47:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.1155秒
2025-07-13 11:47:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.1451秒
2025-07-13 11:48:07 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 11:48:07 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0190秒
2025-07-13 11:48:07 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 11:48:07 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.1286秒
2025-07-13 11:48:08 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 11:48:08 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 11:48:08 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0023秒
2025-07-13 11:48:08 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0016秒
2025-07-13 11:48:08 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 11:48:08 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 11:48:08 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.0783秒
2025-07-13 11:48:08 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.0779秒
2025-07-13 11:57:16 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 11:57:16 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 11:57:16 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 200 - 耗时: 0.0337秒
2025-07-13 11:57:16 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 200 - 耗时: 0.0156秒
2025-07-13 11:57:16 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 11:57:16 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 11:57:16 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0166秒
2025-07-13 11:57:16 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0343秒
2025-07-13 11:57:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 11:57:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 11:57:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.0486秒
2025-07-13 11:57:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.0058秒
2025-07-13 11:57:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 11:57:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 11:57:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.2211秒
2025-07-13 11:57:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.2185秒
2025-07-13 11:57:24 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/1
2025-07-13 11:57:24 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/1 - 状态码: 200 - 耗时: 0.0187秒
2025-07-13 11:57:24 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/1
2025-07-13 11:57:24 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/1 - 状态码: 200 - 耗时: 0.2029秒
2025-07-13 12:17:42 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/evidences/batch
2025-07-13 12:17:42 | INFO | app.evidences.routers:batch_create_evidences:106 - 接收批量创建证据请求: 案件ID=1, 文件数量=3
2025-07-13 12:17:42 | DEBUG | app.evidences.routers:batch_create_evidences:117 - 文件1: 名称=1.jpg, 内容类型=image/jpeg, 大小=5558278
2025-07-13 12:17:42 | DEBUG | app.evidences.routers:batch_create_evidences:117 - 文件2: 名称=2.png, 内容类型=image/png, 大小=814248
2025-07-13 12:17:42 | DEBUG | app.evidences.routers:batch_create_evidences:117 - 文件3: 名称=3.png, 内容类型=image/png, 大小=603343
2025-07-13 12:17:42 | DEBUG | app.evidences.routers:batch_create_evidences:143 - 案件存在: ID=1, 名称=李磊vs小米
2025-07-13 12:17:42 | INFO | app.evidences.routers:batch_create_evidences:147 - 开始批量创建证据: 案件ID=1, 文件数量=3
2025-07-13 12:17:42 | INFO | app.evidences.services:batch_create:223 - 开始批量创建证据: 案件ID=1, 文件数量=3
2025-07-13 12:17:42 | DEBUG | app.evidences.services:batch_create:228 - 处理第1个文件: 1.jpg, 大小: 5558278
2025-07-13 12:17:42 | DEBUG | app.evidences.services:upload_file:37 - 开始上传文件: 1.jpg
2025-07-13 12:17:42 | DEBUG | app.evidences.services:upload_file:42 - 文件扩展名: jpg
2025-07-13 12:17:42 | DEBUG | app.evidences.services:upload_file:55 - 存储文件夹: images
2025-07-13 12:17:42 | DEBUG | app.evidences.services:upload_file:61 - 文件大小: 5558278 字节
2025-07-13 12:17:42 | DEBUG | app.evidences.services:upload_file:72 - 开始上传文件到COS: 1.jpg, disposition=inline
2025-07-13 12:17:42 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: 1.jpg, 文件夹: images
2025-07-13 12:17:42 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 5558278 字节
2025-07-13 12:17:42 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713121742_1.jpg
2025-07-13 12:17:42 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713121742_1.jpg
2025-07-13 12:17:42 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713121742_1.jpg, disposition=inline
2025-07-13 12:17:43 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713121742_1.jpg
2025-07-13 12:17:43 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713121742_1.jpg
2025-07-13 12:17:43 | DEBUG | app.evidences.services:upload_file:74 - 文件上传成功: 1.jpg, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713121742_1.jpg
2025-07-13 12:17:43 | DEBUG | app.evidences.services:batch_create:232 - 文件上传成功: 1.jpg, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713121742_1.jpg
2025-07-13 12:17:43 | DEBUG | app.evidences.services:batch_create:246 - 证据对象创建成功: 1.jpg
2025-07-13 12:17:43 | DEBUG | app.evidences.services:batch_create:228 - 处理第2个文件: 2.png, 大小: 814248
2025-07-13 12:17:43 | DEBUG | app.evidences.services:upload_file:37 - 开始上传文件: 2.png
2025-07-13 12:17:43 | DEBUG | app.evidences.services:upload_file:42 - 文件扩展名: png
2025-07-13 12:17:43 | DEBUG | app.evidences.services:upload_file:55 - 存储文件夹: images
2025-07-13 12:17:43 | DEBUG | app.evidences.services:upload_file:61 - 文件大小: 814248 字节
2025-07-13 12:17:43 | DEBUG | app.evidences.services:upload_file:72 - 开始上传文件到COS: 2.png, disposition=inline
2025-07-13 12:17:43 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: 2.png, 文件夹: images
2025-07-13 12:17:43 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 814248 字节
2025-07-13 12:17:43 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713121743_2.png
2025-07-13 12:17:43 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713121743_2.png
2025-07-13 12:17:43 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713121743_2.png, disposition=inline
2025-07-13 12:17:44 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713121743_2.png
2025-07-13 12:17:44 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713121743_2.png
2025-07-13 12:17:44 | DEBUG | app.evidences.services:upload_file:74 - 文件上传成功: 2.png, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713121743_2.png
2025-07-13 12:17:44 | DEBUG | app.evidences.services:batch_create:232 - 文件上传成功: 2.png, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713121743_2.png
2025-07-13 12:17:44 | DEBUG | app.evidences.services:batch_create:246 - 证据对象创建成功: 2.png
2025-07-13 12:17:44 | DEBUG | app.evidences.services:batch_create:228 - 处理第3个文件: 3.png, 大小: 603343
2025-07-13 12:17:44 | DEBUG | app.evidences.services:upload_file:37 - 开始上传文件: 3.png
2025-07-13 12:17:44 | DEBUG | app.evidences.services:upload_file:42 - 文件扩展名: png
2025-07-13 12:17:44 | DEBUG | app.evidences.services:upload_file:55 - 存储文件夹: images
2025-07-13 12:17:44 | DEBUG | app.evidences.services:upload_file:61 - 文件大小: 603343 字节
2025-07-13 12:17:44 | DEBUG | app.evidences.services:upload_file:72 - 开始上传文件到COS: 3.png, disposition=inline
2025-07-13 12:17:44 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: 3.png, 文件夹: images
2025-07-13 12:17:44 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 603343 字节
2025-07-13 12:17:44 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713121744_3.png
2025-07-13 12:17:44 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713121744_3.png
2025-07-13 12:17:44 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713121744_3.png, disposition=inline
2025-07-13 12:17:44 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713121744_3.png
2025-07-13 12:17:44 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713121744_3.png
2025-07-13 12:17:44 | DEBUG | app.evidences.services:upload_file:74 - 文件上传成功: 3.png, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713121744_3.png
2025-07-13 12:17:44 | DEBUG | app.evidences.services:batch_create:232 - 文件上传成功: 3.png, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713121744_3.png
2025-07-13 12:17:44 | DEBUG | app.evidences.services:batch_create:246 - 证据对象创建成功: 3.png
2025-07-13 12:17:44 | INFO | app.evidences.services:batch_create:258 - 成功提交3个证据到数据库
2025-07-13 12:17:44 | INFO | app.evidences.routers:batch_create_evidences:186 - 批量创建证据成功: 成功数量=3
2025-07-13 12:17:44 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/evidences/batch - 状态码: 201 - 耗时: 2.0929秒
2025-07-13 12:20:42 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/evidences/batch-with-classification
2025-07-13 12:20:42 | ERROR | app.core.middleware:validation_exception_handler:26 - Validation error: [{'type': 'missing', 'loc': ('body', 'files'), 'msg': 'Field required', 'input': None}] for request body: None
2025-07-13 12:20:43 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/evidences/batch-with-classification - 状态码: 422 - 耗时: 0.1925秒
2025-07-13 12:20:56 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/evidences/batch-with-classification
2025-07-13 12:20:57 | INFO | app.evidences.routers:batch_create_evidences_with_classification:270 - 接收批量创建证据+分类请求: 案件ID=1, 文件数量=2
2025-07-13 12:20:57 | INFO | app.evidences.routers:batch_create_evidences_with_classification:301 - 开始批量创建证据+分类: 案件ID=1, 文件数量=2
2025-07-13 12:20:57 | INFO | app.evidences.services:batch_create:223 - 开始批量创建证据: 案件ID=1, 文件数量=2
2025-07-13 12:20:57 | DEBUG | app.evidences.services:batch_create:228 - 处理第1个文件: 1.jpg, 大小: 5558278
2025-07-13 12:20:57 | DEBUG | app.evidences.services:upload_file:37 - 开始上传文件: 1.jpg
2025-07-13 12:20:57 | DEBUG | app.evidences.services:upload_file:42 - 文件扩展名: jpg
2025-07-13 12:20:57 | DEBUG | app.evidences.services:upload_file:55 - 存储文件夹: images
2025-07-13 12:20:57 | DEBUG | app.evidences.services:upload_file:61 - 文件大小: 5558278 字节
2025-07-13 12:20:57 | DEBUG | app.evidences.services:upload_file:72 - 开始上传文件到COS: 1.jpg, disposition=inline
2025-07-13 12:20:57 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: 1.jpg, 文件夹: images
2025-07-13 12:20:57 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 5558278 字节
2025-07-13 12:20:57 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713122057_1.jpg
2025-07-13 12:20:57 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713122057_1.jpg
2025-07-13 12:20:57 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713122057_1.jpg, disposition=inline
2025-07-13 12:20:58 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713122057_1.jpg
2025-07-13 12:20:58 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713122057_1.jpg
2025-07-13 12:20:58 | DEBUG | app.evidences.services:upload_file:74 - 文件上传成功: 1.jpg, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713122057_1.jpg
2025-07-13 12:20:58 | DEBUG | app.evidences.services:batch_create:232 - 文件上传成功: 1.jpg, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713122057_1.jpg
2025-07-13 12:20:58 | DEBUG | app.evidences.services:batch_create:246 - 证据对象创建成功: 1.jpg
2025-07-13 12:20:58 | DEBUG | app.evidences.services:batch_create:228 - 处理第2个文件: 2.png, 大小: 814248
2025-07-13 12:20:58 | DEBUG | app.evidences.services:upload_file:37 - 开始上传文件: 2.png
2025-07-13 12:20:58 | DEBUG | app.evidences.services:upload_file:42 - 文件扩展名: png
2025-07-13 12:20:58 | DEBUG | app.evidences.services:upload_file:55 - 存储文件夹: images
2025-07-13 12:20:58 | DEBUG | app.evidences.services:upload_file:61 - 文件大小: 814248 字节
2025-07-13 12:20:58 | DEBUG | app.evidences.services:upload_file:72 - 开始上传文件到COS: 2.png, disposition=inline
2025-07-13 12:20:58 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: 2.png, 文件夹: images
2025-07-13 12:20:58 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 814248 字节
2025-07-13 12:20:58 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713122058_2.png
2025-07-13 12:20:58 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713122058_2.png
2025-07-13 12:20:58 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713122058_2.png, disposition=inline
2025-07-13 12:20:58 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713122058_2.png
2025-07-13 12:20:58 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713122058_2.png
2025-07-13 12:20:58 | DEBUG | app.evidences.services:upload_file:74 - 文件上传成功: 2.png, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713122058_2.png
2025-07-13 12:20:58 | DEBUG | app.evidences.services:batch_create:232 - 文件上传成功: 2.png, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713122058_2.png
2025-07-13 12:20:58 | DEBUG | app.evidences.services:batch_create:246 - 证据对象创建成功: 2.png
2025-07-13 12:20:58 | INFO | app.evidences.services:batch_create:258 - 成功提交2个证据到数据库
2025-07-13 12:20:58 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: 1.jpg, 文件夹: images
2025-07-13 12:20:58 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 5558278 字节
2025-07-13 12:20:58 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713122058_1.jpg
2025-07-13 12:20:58 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713122058_1.jpg
2025-07-13 12:20:58 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713122058_1.jpg, disposition=inline
2025-07-13 12:20:59 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713122058_1.jpg
2025-07-13 12:20:59 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713122058_1.jpg
2025-07-13 12:20:59 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: 2.png, 文件夹: images
2025-07-13 12:20:59 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 814248 字节
2025-07-13 12:20:59 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713122059_2.png
2025-07-13 12:20:59 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713122059_2.png
2025-07-13 12:20:59 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713122059_2.png, disposition=inline
2025-07-13 12:20:59 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713122059_2.png
2025-07-13 12:20:59 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713122059_2.png
2025-07-13 12:21:25 | ERROR | app.evidences.services:batch_create_with_classification:356 - 分类失败，但证据已上传: 'EvidenceClassifiResults' object has no attribute 'evidences'
2025-07-13 12:21:25 | INFO | app.evidences.routers:batch_create_evidences_with_classification:312 - 批量创建证据+分类成功: 成功数量=2
2025-07-13 12:21:25 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/evidences/batch-with-classification - 状态码: 201 - 耗时: 28.7062秒
2025-07-13 12:24:19 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/evidences/batch-with-classification
2025-07-13 12:24:19 | INFO | app.evidences.routers:batch_create_evidences_with_classification:270 - 接收批量创建证据+分类请求: 案件ID=1, 文件数量=2
2025-07-13 12:24:19 | INFO | app.evidences.routers:batch_create_evidences_with_classification:301 - 开始批量创建证据+分类: 案件ID=1, 文件数量=2
2025-07-13 12:24:19 | INFO | app.evidences.services:batch_create:223 - 开始批量创建证据: 案件ID=1, 文件数量=2
2025-07-13 12:24:19 | DEBUG | app.evidences.services:batch_create:228 - 处理第1个文件: 发票.png, 大小: 181542
2025-07-13 12:24:19 | DEBUG | app.evidences.services:upload_file:37 - 开始上传文件: 发票.png
2025-07-13 12:24:19 | DEBUG | app.evidences.services:upload_file:42 - 文件扩展名: png
2025-07-13 12:24:19 | DEBUG | app.evidences.services:upload_file:55 - 存储文件夹: images
2025-07-13 12:24:19 | DEBUG | app.evidences.services:upload_file:61 - 文件大小: 181542 字节
2025-07-13 12:24:19 | DEBUG | app.evidences.services:upload_file:72 - 开始上传文件到COS: 发票.png, disposition=inline
2025-07-13 12:24:19 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: 发票.png, 文件夹: images
2025-07-13 12:24:19 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 181542 字节
2025-07-13 12:24:19 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713122419_发票.png
2025-07-13 12:24:19 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713122419_发票.png
2025-07-13 12:24:19 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713122419_发票.png, disposition=inline
2025-07-13 12:24:20 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713122419_发票.png
2025-07-13 12:24:20 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713122419_发票.png
2025-07-13 12:24:20 | DEBUG | app.evidences.services:upload_file:74 - 文件上传成功: 发票.png, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713122419_发票.png
2025-07-13 12:24:20 | DEBUG | app.evidences.services:batch_create:232 - 文件上传成功: 发票.png, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713122419_发票.png
2025-07-13 12:24:20 | DEBUG | app.evidences.services:batch_create:246 - 证据对象创建成功: 发票.png
2025-07-13 12:24:20 | DEBUG | app.evidences.services:batch_create:228 - 处理第2个文件: 身份证正面.png, 大小: 347913
2025-07-13 12:24:20 | DEBUG | app.evidences.services:upload_file:37 - 开始上传文件: 身份证正面.png
2025-07-13 12:24:20 | DEBUG | app.evidences.services:upload_file:42 - 文件扩展名: png
2025-07-13 12:24:20 | DEBUG | app.evidences.services:upload_file:55 - 存储文件夹: images
2025-07-13 12:24:20 | DEBUG | app.evidences.services:upload_file:61 - 文件大小: 347913 字节
2025-07-13 12:24:20 | DEBUG | app.evidences.services:upload_file:72 - 开始上传文件到COS: 身份证正面.png, disposition=inline
2025-07-13 12:24:20 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: 身份证正面.png, 文件夹: images
2025-07-13 12:24:20 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 347913 字节
2025-07-13 12:24:20 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713122420_身份证正面.png
2025-07-13 12:24:20 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713122420_身份证正面.png
2025-07-13 12:24:20 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713122420_身份证正面.png, disposition=inline
2025-07-13 12:24:20 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713122420_身份证正面.png
2025-07-13 12:24:20 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713122420_身份证正面.png
2025-07-13 12:24:20 | DEBUG | app.evidences.services:upload_file:74 - 文件上传成功: 身份证正面.png, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713122420_身份证正面.png
2025-07-13 12:24:20 | DEBUG | app.evidences.services:batch_create:232 - 文件上传成功: 身份证正面.png, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713122420_身份证正面.png
2025-07-13 12:24:20 | DEBUG | app.evidences.services:batch_create:246 - 证据对象创建成功: 身份证正面.png
2025-07-13 12:24:20 | INFO | app.evidences.services:batch_create:258 - 成功提交2个证据到数据库
2025-07-13 12:24:20 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: 发票.png, 文件夹: images
2025-07-13 12:24:20 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 181542 字节
2025-07-13 12:24:20 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713122420_发票.png
2025-07-13 12:24:20 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713122420_发票.png
2025-07-13 12:24:20 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713122420_发票.png, disposition=inline
2025-07-13 12:24:20 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713122420_发票.png
2025-07-13 12:24:20 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713122420_发票.png
2025-07-13 12:24:20 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: 身份证正面.png, 文件夹: images
2025-07-13 12:24:20 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 347913 字节
2025-07-13 12:24:20 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713122420_身份证正面.png
2025-07-13 12:24:20 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713122420_身份证正面.png
2025-07-13 12:24:20 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713122420_身份证正面.png, disposition=inline
2025-07-13 12:24:20 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713122420_身份证正面.png
2025-07-13 12:24:20 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713122420_身份证正面.png
2025-07-13 12:24:36 | INFO | app.evidences.services:batch_create_with_classification:353 - 成功完成2个证据的上传和分类
2025-07-13 12:24:36 | INFO | app.evidences.routers:batch_create_evidences_with_classification:312 - 批量创建证据+分类成功: 成功数量=2
2025-07-13 12:24:36 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/evidences/batch-with-classification - 状态码: 201 - 耗时: 16.7143秒
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 200 - 耗时: 0.0375秒
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 200 - 耗时: 0.0182秒
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 200 - 耗时: 0.0202秒
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 200 - 耗时: 0.0124秒
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0400秒
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.1071秒
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.1008秒
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.1764秒
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.0340秒
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.0328秒
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.0296秒
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.0298秒
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.2292秒
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.2231秒
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.2143秒
2025-07-13 12:29:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.2892秒
2025-07-13 12:31:04 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:31:04 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:31:04 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 200 - 耗时: 0.0465秒
2025-07-13 12:31:04 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 200 - 耗时: 0.0330秒
2025-07-13 12:31:04 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:31:04 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0086秒
2025-07-13 12:31:04 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:31:04 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0028秒
2025-07-13 12:31:04 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:31:04 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:31:04 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.0042秒
2025-07-13 12:31:04 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.0056秒
2025-07-13 12:31:04 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:31:04 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:31:04 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.2814秒
2025-07-13 12:31:04 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.4593秒
2025-07-13 12:31:15 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/NaN/with-case
2025-07-13 12:31:15 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/NaN
2025-07-13 12:31:15 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/NaN/with-case - 状态码: 200 - 耗时: 0.0161秒
2025-07-13 12:31:15 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/NaN - 状态码: 200 - 耗时: 0.0078秒
2025-07-13 12:31:15 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/NaN/with-case
2025-07-13 12:31:15 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/NaN
2025-07-13 12:31:15 | ERROR | app.core.middleware:validation_exception_handler:26 - Validation error: [{'type': 'int_parsing', 'loc': ('path', 'evidence_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': 'NaN'}] for request body: None
2025-07-13 12:31:15 | ERROR | app.core.middleware:validation_exception_handler:26 - Validation error: [{'type': 'int_parsing', 'loc': ('path', 'evidence_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': 'NaN'}] for request body: None
2025-07-13 12:31:15 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/NaN - 状态码: 422 - 耗时: 0.0916秒
2025-07-13 12:31:15 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/NaN/with-case - 状态码: 422 - 耗时: 0.1259秒
2025-07-13 12:31:16 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/NaN
2025-07-13 12:31:16 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/NaN/with-case
2025-07-13 12:31:16 | ERROR | app.core.middleware:validation_exception_handler:26 - Validation error: [{'type': 'int_parsing', 'loc': ('path', 'evidence_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': 'NaN'}] for request body: None
2025-07-13 12:31:16 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/NaN - 状态码: 422 - 耗时: 0.0705秒
2025-07-13 12:31:16 | ERROR | app.core.middleware:validation_exception_handler:26 - Validation error: [{'type': 'int_parsing', 'loc': ('path', 'evidence_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': 'NaN'}] for request body: None
2025-07-13 12:31:16 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/NaN/with-case - 状态码: 422 - 耗时: 0.0709秒
2025-07-13 12:31:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:31:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:31:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0402秒
2025-07-13 12:31:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0283秒
2025-07-13 12:31:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:31:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:31:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.2804秒
2025-07-13 12:31:34 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.2617秒
2025-07-13 12:35:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:35:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:35:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 200 - 耗时: 0.0681秒
2025-07-13 12:35:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 200 - 耗时: 0.0242秒
2025-07-13 12:35:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:35:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:35:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0142秒
2025-07-13 12:35:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0072秒
2025-07-13 12:35:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:35:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:35:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.0088秒
2025-07-13 12:35:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.0035秒
2025-07-13 12:35:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:35:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:35:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.2894秒
2025-07-13 12:35:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.4259秒
2025-07-13 12:35:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/NaN
2025-07-13 12:35:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/NaN/with-case
2025-07-13 12:35:05 | ERROR | app.core.middleware:validation_exception_handler:26 - Validation error: [{'type': 'int_parsing', 'loc': ('path', 'evidence_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': 'NaN'}] for request body: None
2025-07-13 12:35:05 | ERROR | app.core.middleware:validation_exception_handler:26 - Validation error: [{'type': 'int_parsing', 'loc': ('path', 'evidence_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': 'NaN'}] for request body: None
2025-07-13 12:35:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/NaN - 状态码: 422 - 耗时: 0.2652秒
2025-07-13 12:35:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/NaN/with-case - 状态码: 422 - 耗时: 0.2233秒
2025-07-13 12:35:06 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/NaN/with-case
2025-07-13 12:35:06 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/NaN
2025-07-13 12:35:07 | ERROR | app.core.middleware:validation_exception_handler:26 - Validation error: [{'type': 'int_parsing', 'loc': ('path', 'evidence_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': 'NaN'}] for request body: None
2025-07-13 12:35:07 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/NaN/with-case - 状态码: 422 - 耗时: 0.0677秒
2025-07-13 12:35:07 | ERROR | app.core.middleware:validation_exception_handler:26 - Validation error: [{'type': 'int_parsing', 'loc': ('path', 'evidence_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': 'NaN'}] for request body: None
2025-07-13 12:35:07 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/NaN - 状态码: 422 - 耗时: 0.0724秒
2025-07-13 12:36:24 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:36:24 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0923秒
2025-07-13 12:36:24 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:36:24 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.5473秒
2025-07-13 12:36:39 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:36:39 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:36:39 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0141秒
2025-07-13 12:36:39 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0033秒
2025-07-13 12:36:39 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:36:39 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:36:39 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.1791秒
2025-07-13 12:36:39 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.1794秒
2025-07-13 12:36:48 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=10
2025-07-13 12:36:48 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=10 - 状态码: 200 - 耗时: 0.0121秒
2025-07-13 12:36:48 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 12:36:48 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0137秒
2025-07-13 12:36:48 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 12:36:48 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0007秒
2025-07-13 12:36:48 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 12:36:48 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.1155秒
2025-07-13 12:36:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:36:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0021秒
2025-07-13 12:36:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:36:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.1155秒
2025-07-13 12:38:38 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:38:38 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:38:38 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0396秒
2025-07-13 12:38:38 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0224秒
2025-07-13 12:38:38 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:38:38 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:38:38 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.3911秒
2025-07-13 12:38:38 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.3933秒
2025-07-13 12:38:51 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/batch-create
2025-07-13 12:38:51 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/batch-create - 状态码: 200 - 耗时: 0.0042秒
2025-07-13 12:38:51 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/evidences/batch-create
2025-07-13 12:38:51 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/evidences/batch-create - 状态码: 405 - 耗时: 0.0073秒
2025-07-13 12:39:48 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/batch
2025-07-13 12:39:48 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/batch - 状态码: 200 - 耗时: 0.0189秒
2025-07-13 12:39:48 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/evidences/batch
2025-07-13 12:39:48 | INFO | app.evidences.routers:batch_create_evidences:106 - 接收批量创建证据请求: 案件ID=1, 文件数量=2
2025-07-13 12:39:48 | DEBUG | app.evidences.routers:batch_create_evidences:117 - 文件1: 名称=发票.png, 内容类型=image/png, 大小=181542
2025-07-13 12:39:48 | DEBUG | app.evidences.routers:batch_create_evidences:117 - 文件2: 名称=身份证正面.png, 内容类型=image/png, 大小=347913
2025-07-13 12:39:48 | DEBUG | app.evidences.routers:batch_create_evidences:143 - 案件存在: ID=1, 名称=李磊vs小米
2025-07-13 12:39:48 | INFO | app.evidences.routers:batch_create_evidences:147 - 开始批量创建证据: 案件ID=1, 文件数量=2
2025-07-13 12:39:48 | INFO | app.evidences.services:batch_create:223 - 开始批量创建证据: 案件ID=1, 文件数量=2
2025-07-13 12:39:48 | DEBUG | app.evidences.services:batch_create:228 - 处理第1个文件: 发票.png, 大小: 181542
2025-07-13 12:39:48 | DEBUG | app.evidences.services:upload_file:37 - 开始上传文件: 发票.png
2025-07-13 12:39:48 | DEBUG | app.evidences.services:upload_file:42 - 文件扩展名: png
2025-07-13 12:39:48 | DEBUG | app.evidences.services:upload_file:55 - 存储文件夹: images
2025-07-13 12:39:48 | DEBUG | app.evidences.services:upload_file:61 - 文件大小: 181542 字节
2025-07-13 12:39:48 | DEBUG | app.evidences.services:upload_file:72 - 开始上传文件到COS: 发票.png, disposition=inline
2025-07-13 12:39:48 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: 发票.png, 文件夹: images
2025-07-13 12:39:48 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 181542 字节
2025-07-13 12:39:48 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713123948_发票.png
2025-07-13 12:39:48 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713123948_发票.png
2025-07-13 12:39:48 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713123948_发票.png, disposition=inline
2025-07-13 12:39:49 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713123948_发票.png
2025-07-13 12:39:49 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713123948_发票.png
2025-07-13 12:39:49 | DEBUG | app.evidences.services:upload_file:74 - 文件上传成功: 发票.png, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713123948_发票.png
2025-07-13 12:39:49 | DEBUG | app.evidences.services:batch_create:232 - 文件上传成功: 发票.png, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713123948_发票.png
2025-07-13 12:39:49 | DEBUG | app.evidences.services:batch_create:246 - 证据对象创建成功: 发票.png
2025-07-13 12:39:49 | DEBUG | app.evidences.services:batch_create:228 - 处理第2个文件: 身份证正面.png, 大小: 347913
2025-07-13 12:39:49 | DEBUG | app.evidences.services:upload_file:37 - 开始上传文件: 身份证正面.png
2025-07-13 12:39:49 | DEBUG | app.evidences.services:upload_file:42 - 文件扩展名: png
2025-07-13 12:39:49 | DEBUG | app.evidences.services:upload_file:55 - 存储文件夹: images
2025-07-13 12:39:49 | DEBUG | app.evidences.services:upload_file:61 - 文件大小: 347913 字节
2025-07-13 12:39:49 | DEBUG | app.evidences.services:upload_file:72 - 开始上传文件到COS: 身份证正面.png, disposition=inline
2025-07-13 12:39:49 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: 身份证正面.png, 文件夹: images
2025-07-13 12:39:49 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 347913 字节
2025-07-13 12:39:49 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713123949_身份证正面.png
2025-07-13 12:39:49 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713123949_身份证正面.png
2025-07-13 12:39:49 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713123949_身份证正面.png, disposition=inline
2025-07-13 12:39:49 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713123949_身份证正面.png
2025-07-13 12:39:49 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713123949_身份证正面.png
2025-07-13 12:39:49 | DEBUG | app.evidences.services:upload_file:74 - 文件上传成功: 身份证正面.png, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713123949_身份证正面.png
2025-07-13 12:39:49 | DEBUG | app.evidences.services:batch_create:232 - 文件上传成功: 身份证正面.png, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713123949_身份证正面.png
2025-07-13 12:39:49 | DEBUG | app.evidences.services:batch_create:246 - 证据对象创建成功: 身份证正面.png
2025-07-13 12:39:49 | INFO | app.evidences.services:batch_create:258 - 成功提交2个证据到数据库
2025-07-13 12:39:49 | INFO | app.evidences.routers:batch_create_evidences:186 - 批量创建证据成功: 成功数量=2
2025-07-13 12:39:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/evidences/batch - 状态码: 201 - 耗时: 1.2614秒
2025-07-13 12:39:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:39:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:39:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0183秒
2025-07-13 12:39:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0464秒
2025-07-13 12:39:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:39:57 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:39:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.3011秒
2025-07-13 12:39:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.3080秒
2025-07-13 12:40:26 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/batch-with-classification
2025-07-13 12:40:26 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/batch-with-classification - 状态码: 200 - 耗时: 0.0073秒
2025-07-13 12:40:26 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/evidences/batch-with-classification
2025-07-13 12:40:26 | INFO | app.evidences.routers:batch_create_evidences_with_classification:270 - 接收批量创建证据+分类请求: 案件ID=1, 文件数量=2
2025-07-13 12:40:26 | INFO | app.evidences.routers:batch_create_evidences_with_classification:301 - 开始批量创建证据+分类: 案件ID=1, 文件数量=2
2025-07-13 12:40:26 | INFO | app.evidences.services:batch_create:223 - 开始批量创建证据: 案件ID=1, 文件数量=2
2025-07-13 12:40:26 | DEBUG | app.evidences.services:batch_create:228 - 处理第1个文件: 4.jpg, 大小: 474010
2025-07-13 12:40:26 | DEBUG | app.evidences.services:upload_file:37 - 开始上传文件: 4.jpg
2025-07-13 12:40:26 | DEBUG | app.evidences.services:upload_file:42 - 文件扩展名: jpg
2025-07-13 12:40:26 | DEBUG | app.evidences.services:upload_file:55 - 存储文件夹: images
2025-07-13 12:40:26 | DEBUG | app.evidences.services:upload_file:61 - 文件大小: 474010 字节
2025-07-13 12:40:26 | DEBUG | app.evidences.services:upload_file:72 - 开始上传文件到COS: 4.jpg, disposition=inline
2025-07-13 12:40:26 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: 4.jpg, 文件夹: images
2025-07-13 12:40:26 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 474010 字节
2025-07-13 12:40:26 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713124026_4.jpg
2025-07-13 12:40:26 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713124026_4.jpg
2025-07-13 12:40:26 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713124026_4.jpg, disposition=inline
2025-07-13 12:40:27 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713124026_4.jpg
2025-07-13 12:40:27 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713124026_4.jpg
2025-07-13 12:40:27 | DEBUG | app.evidences.services:upload_file:74 - 文件上传成功: 4.jpg, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713124026_4.jpg
2025-07-13 12:40:27 | DEBUG | app.evidences.services:batch_create:232 - 文件上传成功: 4.jpg, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713124026_4.jpg
2025-07-13 12:40:27 | DEBUG | app.evidences.services:batch_create:246 - 证据对象创建成功: 4.jpg
2025-07-13 12:40:27 | DEBUG | app.evidences.services:batch_create:228 - 处理第2个文件: 5.jpg, 大小: 195296
2025-07-13 12:40:27 | DEBUG | app.evidences.services:upload_file:37 - 开始上传文件: 5.jpg
2025-07-13 12:40:27 | DEBUG | app.evidences.services:upload_file:42 - 文件扩展名: jpg
2025-07-13 12:40:27 | DEBUG | app.evidences.services:upload_file:55 - 存储文件夹: images
2025-07-13 12:40:27 | DEBUG | app.evidences.services:upload_file:61 - 文件大小: 195296 字节
2025-07-13 12:40:27 | DEBUG | app.evidences.services:upload_file:72 - 开始上传文件到COS: 5.jpg, disposition=inline
2025-07-13 12:40:27 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: 5.jpg, 文件夹: images
2025-07-13 12:40:27 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 195296 字节
2025-07-13 12:40:27 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713124027_5.jpg
2025-07-13 12:40:27 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713124027_5.jpg
2025-07-13 12:40:27 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713124027_5.jpg, disposition=inline
2025-07-13 12:40:27 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713124027_5.jpg
2025-07-13 12:40:27 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713124027_5.jpg
2025-07-13 12:40:27 | DEBUG | app.evidences.services:upload_file:74 - 文件上传成功: 5.jpg, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713124027_5.jpg
2025-07-13 12:40:27 | DEBUG | app.evidences.services:batch_create:232 - 文件上传成功: 5.jpg, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713124027_5.jpg
2025-07-13 12:40:27 | DEBUG | app.evidences.services:batch_create:246 - 证据对象创建成功: 5.jpg
2025-07-13 12:40:27 | INFO | app.evidences.services:batch_create:258 - 成功提交2个证据到数据库
2025-07-13 12:40:27 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: 4.jpg, 文件夹: images
2025-07-13 12:40:27 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 474010 字节
2025-07-13 12:40:27 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713124027_4.jpg
2025-07-13 12:40:27 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713124027_4.jpg
2025-07-13 12:40:27 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713124027_4.jpg, disposition=inline
2025-07-13 12:40:27 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713124027_4.jpg
2025-07-13 12:40:27 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713124027_4.jpg
2025-07-13 12:40:27 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: 5.jpg, 文件夹: images
2025-07-13 12:40:27 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 195296 字节
2025-07-13 12:40:27 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713124027_5.jpg
2025-07-13 12:40:27 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713124027_5.jpg
2025-07-13 12:40:27 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713124027_5.jpg, disposition=inline
2025-07-13 12:40:27 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713124027_5.jpg
2025-07-13 12:40:27 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713124027_5.jpg
2025-07-13 12:40:48 | INFO | app.evidences.services:batch_create_with_classification:353 - 成功完成2个证据的上传和分类
2025-07-13 12:40:48 | INFO | app.evidences.routers:batch_create_evidences_with_classification:312 - 批量创建证据+分类成功: 成功数量=2
2025-07-13 12:40:48 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/evidences/batch-with-classification - 状态码: 201 - 耗时: 21.7200秒
2025-07-13 12:41:00 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:41:00 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:41:00 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0089秒
2025-07-13 12:41:00 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0028秒
2025-07-13 12:41:00 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:41:00 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:41:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.1903秒
2025-07-13 12:41:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.2301秒
2025-07-13 12:41:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:41:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:41:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0110秒
2025-07-13 12:41:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0095秒
2025-07-13 12:41:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:41:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:41:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.2132秒
2025-07-13 12:41:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.2164秒
2025-07-13 12:44:56 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:44:56 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:44:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 200 - 耗时: 0.0114秒
2025-07-13 12:44:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 200 - 耗时: 0.0076秒
2025-07-13 12:44:56 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:44:56 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:44:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0062秒
2025-07-13 12:44:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0018秒
2025-07-13 12:44:56 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:44:56 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:44:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.0013秒
2025-07-13 12:44:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.0018秒
2025-07-13 12:44:56 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:44:56 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:44:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.5796秒
2025-07-13 12:44:57 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.6157秒
2025-07-13 12:47:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:47:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:47:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 200 - 耗时: 0.0148秒
2025-07-13 12:47:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 200 - 耗时: 0.0078秒
2025-07-13 12:47:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:47:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:47:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0058秒
2025-07-13 12:47:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0015秒
2025-07-13 12:47:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:47:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:47:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.0072秒
2025-07-13 12:47:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.0042秒
2025-07-13 12:47:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:47:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:47:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:47:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:47:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0036秒
2025-07-13 12:47:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0042秒
2025-07-13 12:47:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:47:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:47:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.3520秒
2025-07-13 12:47:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.2699秒
2025-07-13 12:47:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.2728秒
2025-07-13 12:47:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.2987秒
2025-07-13 12:48:03 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:48:03 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:48:03 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0184秒
2025-07-13 12:48:03 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0086秒
2025-07-13 12:48:03 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:48:03 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:48:03 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.2449秒
2025-07-13 12:48:03 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.2489秒
2025-07-13 12:48:16 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/evidences/batch-with-classification
2025-07-13 12:48:16 | INFO | app.evidences.routers:batch_create_evidences_with_classification:270 - 接收批量创建证据+分类请求: 案件ID=1, 文件数量=2
2025-07-13 12:48:16 | INFO | app.evidences.routers:batch_create_evidences_with_classification:301 - 开始批量创建证据+分类: 案件ID=1, 文件数量=2
2025-07-13 12:48:16 | INFO | app.evidences.services:batch_create:223 - 开始批量创建证据: 案件ID=1, 文件数量=2
2025-07-13 12:48:16 | DEBUG | app.evidences.services:batch_create:228 - 处理第1个文件: 1.jpg, 大小: 5558278
2025-07-13 12:48:16 | DEBUG | app.evidences.services:upload_file:37 - 开始上传文件: 1.jpg
2025-07-13 12:48:16 | DEBUG | app.evidences.services:upload_file:42 - 文件扩展名: jpg
2025-07-13 12:48:16 | DEBUG | app.evidences.services:upload_file:55 - 存储文件夹: images
2025-07-13 12:48:16 | DEBUG | app.evidences.services:upload_file:61 - 文件大小: 5558278 字节
2025-07-13 12:48:16 | DEBUG | app.evidences.services:upload_file:72 - 开始上传文件到COS: 1.jpg, disposition=inline
2025-07-13 12:48:16 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: 1.jpg, 文件夹: images
2025-07-13 12:48:16 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 5558278 字节
2025-07-13 12:48:16 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713124816_1.jpg
2025-07-13 12:48:16 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713124816_1.jpg
2025-07-13 12:48:16 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713124816_1.jpg, disposition=inline
2025-07-13 12:48:23 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713124816_1.jpg
2025-07-13 12:48:23 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713124816_1.jpg
2025-07-13 12:48:23 | DEBUG | app.evidences.services:upload_file:74 - 文件上传成功: 1.jpg, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713124816_1.jpg
2025-07-13 12:48:23 | DEBUG | app.evidences.services:batch_create:232 - 文件上传成功: 1.jpg, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713124816_1.jpg
2025-07-13 12:48:23 | DEBUG | app.evidences.services:batch_create:246 - 证据对象创建成功: 1.jpg
2025-07-13 12:48:23 | DEBUG | app.evidences.services:batch_create:228 - 处理第2个文件: 2.png, 大小: 814248
2025-07-13 12:48:23 | DEBUG | app.evidences.services:upload_file:37 - 开始上传文件: 2.png
2025-07-13 12:48:23 | DEBUG | app.evidences.services:upload_file:42 - 文件扩展名: png
2025-07-13 12:48:23 | DEBUG | app.evidences.services:upload_file:55 - 存储文件夹: images
2025-07-13 12:48:23 | DEBUG | app.evidences.services:upload_file:61 - 文件大小: 814248 字节
2025-07-13 12:48:23 | DEBUG | app.evidences.services:upload_file:72 - 开始上传文件到COS: 2.png, disposition=inline
2025-07-13 12:48:23 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: 2.png, 文件夹: images
2025-07-13 12:48:23 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 814248 字节
2025-07-13 12:48:23 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713124823_2.png
2025-07-13 12:48:23 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713124823_2.png
2025-07-13 12:48:23 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713124823_2.png, disposition=inline
2025-07-13 12:48:23 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713124823_2.png
2025-07-13 12:48:23 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713124823_2.png
2025-07-13 12:48:23 | DEBUG | app.evidences.services:upload_file:74 - 文件上传成功: 2.png, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713124823_2.png
2025-07-13 12:48:23 | DEBUG | app.evidences.services:batch_create:232 - 文件上传成功: 2.png, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713124823_2.png
2025-07-13 12:48:23 | DEBUG | app.evidences.services:batch_create:246 - 证据对象创建成功: 2.png
2025-07-13 12:48:23 | INFO | app.evidences.services:batch_create:258 - 成功提交2个证据到数据库
2025-07-13 12:48:23 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: 1.jpg, 文件夹: images
2025-07-13 12:48:23 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 5558278 字节
2025-07-13 12:48:23 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713124823_1.jpg
2025-07-13 12:48:23 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713124823_1.jpg
2025-07-13 12:48:23 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713124823_1.jpg, disposition=inline
2025-07-13 12:48:25 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713124823_1.jpg
2025-07-13 12:48:25 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713124823_1.jpg
2025-07-13 12:48:25 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: 2.png, 文件夹: images
2025-07-13 12:48:25 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 814248 字节
2025-07-13 12:48:25 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713124825_2.png
2025-07-13 12:48:25 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713124825_2.png
2025-07-13 12:48:25 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713124825_2.png, disposition=inline
2025-07-13 12:48:26 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713124825_2.png
2025-07-13 12:48:26 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713124825_2.png
2025-07-13 12:48:56 | INFO | app.evidences.services:batch_create_with_classification:353 - 成功完成2个证据的上传和分类
2025-07-13 12:48:56 | INFO | app.evidences.routers:batch_create_evidences_with_classification:312 - 批量创建证据+分类成功: 成功数量=2
2025-07-13 12:48:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/evidences/batch-with-classification - 状态码: 201 - 耗时: 40.0228秒
2025-07-13 12:48:56 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:48:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0012秒
2025-07-13 12:48:56 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:48:56 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.0790秒
2025-07-13 12:49:01 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences?skip=10&limit=10
2025-07-13 12:49:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences?skip=10&limit=10 - 状态码: 200 - 耗时: 0.0290秒
2025-07-13 12:49:01 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?skip=10&limit=10
2025-07-13 12:49:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?skip=10&limit=10 - 状态码: 307 - 耗时: 0.0124秒
2025-07-13 12:49:01 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/?skip=10&limit=10
2025-07-13 12:49:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/?skip=10&limit=10 - 状态码: 200 - 耗时: 0.0006秒
2025-07-13 12:49:01 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?skip=10&limit=10
2025-07-13 12:49:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?skip=10&limit=10 - 状态码: 200 - 耗时: 0.0847秒
2025-07-13 12:49:07 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/17/with-case
2025-07-13 12:49:07 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/17
2025-07-13 12:49:07 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/17/with-case - 状态码: 200 - 耗时: 0.0129秒
2025-07-13 12:49:07 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/17 - 状态码: 200 - 耗时: 0.0077秒
2025-07-13 12:49:07 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/17/with-case
2025-07-13 12:49:07 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/17
2025-07-13 12:49:07 | ERROR | app.core.middleware:dispatch:66 - 请求异常: GET http://localhost:8000/api/v1/evidences/17/with-case - 错误: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 'data', 'case'), 'msg': 'Input should be a valid dictionary', 'input': <app.cases.models.Case object at 0xffff8d847320>}

2025-07-13 12:49:07 | ERROR | app.core.middleware:global_exception_handler:39 - Unhandled error: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 'data', 'case'), 'msg': 'Input should be a valid dictionary', 'input': <app.cases.models.Case object at 0xffff8d847320>}

  + Exception Group Traceback (most recent call last):
  |
  |   File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0xffff8d66e600>
  |                │     └ <function create_task_group at 0xffff927e4f40>
  |                └ <module 'anyio' from '/app/.venv/lib/python3.12/site-packages/anyio/__init__.py'>
  |   File "/app/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xffff910f67a0>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d6...
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │    └ <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff8d9ff7d0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |          │            │            └ <function collapse_excgroups at 0xffff91470f40>
    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "/usr/local/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [ResponseValidationError()])
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0xffff912a2dc0>
    |     └ <contextlib._GeneratorContextManager object at 0xffff8d66d3d0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff910f4040>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0xffff8d66ee10>
    |                      │    └ <bound method LoggingMiddleware.dispatch of <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>>
    |                      └ <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>
    |
    |   File "/app/app/core/middleware.py", line 57, in dispatch
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0xffff8d66ee10>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff910f4040>
    |
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 156, in call_next
    |     raise app_exc
    |           └ ResponseValidationError()
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff910f4720>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f6160>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>
    |           └ <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |           │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'authorization': 'Bearer eyJh...
    |           │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff910f4720>
    |           │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f6160>
    |           │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │    └ <function CORSMiddleware.simple_response at 0xffff91376660>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>>, ...
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f6160>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff8d9bd700>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>>, ...
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f6160>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │                            │    │    └ <starlette.requests.Request object at 0xffff8b4342f0>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0xffff914d2420>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff8d9bd700>
    |           └ <function wrap_app_handling_exceptions at 0xffff914ab100>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff910f6520>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f6160>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           └ <fastapi.routing.APIRouter object at 0xffff914d2420>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff910f6520>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f6160>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0xffff914d2420>>
    |           └ <fastapi.routing.APIRouter object at 0xffff914d2420>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff910f6520>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f6160>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │     └ <function Route.handle at 0xffff913545e0>
    |           └ APIRoute(path='/api/v1/evidences/{evidence_id}/with-case', name='read_evidence_with_case', methods=['GET'])
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff910f6520>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f6160>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │    └ <function request_response.<locals>.app at 0xffff8d6db600>
    |           └ APIRoute(path='/api/v1/evidences/{evidence_id}/with-case', name='read_evidence_with_case', methods=['GET'])
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff910f6520>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f6160>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │                            │    └ <starlette.requests.Request object at 0xffff8b434980>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0xffff910f6200>
    |           └ <function wrap_app_handling_exceptions at 0xffff914ab100>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff910f5a80>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f6160>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           └ <function request_response.<locals>.app.<locals>.app at 0xffff910f6200>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    |     response = await f(request)
    |                      │ └ <starlette.requests.Request object at 0xffff8b434980>
    |                      └ <function get_request_handler.<locals>.app at 0xffff8d6db560>
    |   File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    |     content = await serialize_response(
    |                     └ <function serialize_response at 0xffff91954fe0>
    |   File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    |     raise ResponseValidationError(
    |           └ <class 'fastapi.exceptions.ResponseValidationError'>
    |
    | fastapi.exceptions.ResponseValidationError: 1 validation errors:
    |   {'type': 'dict_type', 'loc': ('response', 'data', 'case'), 'msg': 'Input should be a valid dictionary', 'input': <app.cases.models.Case object at 0xffff8d847320>}
    |
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "/app/.venv/bin/uvicorn", line 10, in <module>
    sys.exit(main())
    │   │    └ <Command main>
    │   └ <built-in function exit>
    └ <module 'sys' (built-in)>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
           │    │     │       └ {}
           │    │     └ ()
           │    └ <function Command.main at 0xffff92b1d620>
           └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
         │    │      └ <click.core.Context object at 0xffff939552e0>
         │    └ <function Command.invoke at 0xffff92b1d300>
         └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           │   │      │    │           │   └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │   │      │    │           └ <click.core.Context object at 0xffff939552e0>
           │   │      │    └ <function main at 0xffff928a80e0>
           │   │      └ <Command main>
           │   └ <function Context.invoke at 0xffff92b1c540>
           └ <click.core.Context object at 0xffff939552e0>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
           │         │       └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │         └ ()
           └ <function main at 0xffff928a80e0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 413, in main
    run(
    └ <function run at 0xffff92b1bb00>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 580, in run
    server.run()
    │      └ <function Server.run at 0xffff92924180>
    └ <uvicorn.server.Server object at 0xffff92e7bef0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0xffff92924220>
           │       │   └ <uvicorn.server.Server object at 0xffff92e7bef0>
           │       └ <function run at 0xffff93afc680>
           └ <module 'asyncio' from '/usr/local/lib/python3.12/asyncio/__init__.py'>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0xffff928567a0>
           │      └ <function Runner.run at 0xffff935602c0>
           └ <asyncio.runners.Runner object at 0xffff9390b6e0>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /app/.venv/lib/python3.12/site-packages/uvicorn/server.py:71> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0xffff92828450>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0xffff9390b6e0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffff8dabba70>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d66c3...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d6...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0xffff929d6cc0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffff8dabba70>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d66c3...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d6...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
  File "/app/.venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d66c3...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d6...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff8d9ff7d0>
          └ <fastapi.applications.FastAPI object at 0xffff929d6cc0>
> File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xffff910f67a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff8d9ff7d0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0xffff91470f40>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [ResponseValidationError()])
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0xffff912a2dc0>
    └ <contextlib._GeneratorContextManager object at 0xffff8d66d3d0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff910f4040>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0xffff8d66ee10>
                     │    └ <bound method LoggingMiddleware.dispatch of <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>>
                     └ <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>

  File "/app/app/core/middleware.py", line 57, in dispatch
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0xffff8d66ee10>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff910f4040>

  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ResponseValidationError()
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff910f4720>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f6160>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>
          └ <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'authorization': 'Bearer eyJh...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff910f4720>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f6160>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0xffff91376660>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f6160>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff8d9bd700>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f6160>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0xffff8b4342f0>
          │                            │    └ <fastapi.routing.APIRouter object at 0xffff914d2420>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff8d9bd700>
          └ <function wrap_app_handling_exceptions at 0xffff914ab100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff910f6520>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f6160>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0xffff914d2420>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff910f6520>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f6160>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0xffff914d2420>>
          └ <fastapi.routing.APIRouter object at 0xffff914d2420>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff910f6520>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f6160>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │     └ <function Route.handle at 0xffff913545e0>
          └ APIRoute(path='/api/v1/evidences/{evidence_id}/with-case', name='read_evidence_with_case', methods=['GET'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff910f6520>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f6160>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0xffff8d6db600>
          └ APIRoute(path='/api/v1/evidences/{evidence_id}/with-case', name='read_evidence_with_case', methods=['GET'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff910f6520>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f6160>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0xffff8b434980>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0xffff910f6200>
          └ <function wrap_app_handling_exceptions at 0xffff914ab100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff910f5a80>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f6160>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0xffff910f6200>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0xffff8b434980>
                     └ <function get_request_handler.<locals>.app at 0xffff8d6db560>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
                    └ <function serialize_response at 0xffff91954fe0>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
          └ <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 'data', 'case'), 'msg': 'Input should be a valid dictionary', 'input': <app.cases.models.Case object at 0xffff8d847320>}

2025-07-13 12:49:08 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/17 - 状态码: 200 - 耗时: 0.3879秒
2025-07-13 12:49:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/17/with-case
2025-07-13 12:49:09 | ERROR | app.core.middleware:dispatch:66 - 请求异常: GET http://localhost:8000/api/v1/evidences/17/with-case - 错误: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 'data', 'case'), 'msg': 'Input should be a valid dictionary', 'input': <app.cases.models.Case object at 0xffff8b4355e0>}

2025-07-13 12:49:09 | ERROR | app.core.middleware:global_exception_handler:39 - Unhandled error: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 'data', 'case'), 'msg': 'Input should be a valid dictionary', 'input': <app.cases.models.Case object at 0xffff8b4355e0>}

  + Exception Group Traceback (most recent call last):
  |
  |   File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0xffff8d67cda0>
  |                │     └ <function create_task_group at 0xffff927e4f40>
  |                └ <module 'anyio' from '/app/.venv/lib/python3.12/site-packages/anyio/__init__.py'>
  |   File "/app/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xffff8d8f27a0>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d8...
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │    └ <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff8d9ff7d0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |          │            │            └ <function collapse_excgroups at 0xffff91470f40>
    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "/usr/local/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [ResponseValidationError()])
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0xffff8d6ffed0>
    |     └ <contextlib._GeneratorContextManager object at 0xffff8d67df10>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff8d8f1da0>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0xffff8d67c590>
    |                      │    └ <bound method LoggingMiddleware.dispatch of <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>>
    |                      └ <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>
    |
    |   File "/app/app/core/middleware.py", line 57, in dispatch
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0xffff8d67c590>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff8d8f1da0>
    |
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 156, in call_next
    |     raise app_exc
    |           └ ResponseValidationError()
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff8d8f22a0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d8f1ee0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>
    |           └ <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |           │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'authorization': 'Bearer eyJh...
    |           │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff8d8f22a0>
    |           │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d8f1ee0>
    |           │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │    └ <function CORSMiddleware.simple_response at 0xffff91376660>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>>, ...
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d8f1ee0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff8d9bd700>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>>, ...
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d8f1ee0>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │                            │    │    └ <starlette.requests.Request object at 0xffff8d66de20>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0xffff914d2420>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff8d9bd700>
    |           └ <function wrap_app_handling_exceptions at 0xffff914ab100>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8d8f1d00>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d8f1ee0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           └ <fastapi.routing.APIRouter object at 0xffff914d2420>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8d8f1d00>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d8f1ee0>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0xffff914d2420>>
    |           └ <fastapi.routing.APIRouter object at 0xffff914d2420>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8d8f1d00>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d8f1ee0>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │     └ <function Route.handle at 0xffff913545e0>
    |           └ APIRoute(path='/api/v1/evidences/{evidence_id}/with-case', name='read_evidence_with_case', methods=['GET'])
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8d8f1d00>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d8f1ee0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │    └ <function request_response.<locals>.app at 0xffff8d6db600>
    |           └ APIRoute(path='/api/v1/evidences/{evidence_id}/with-case', name='read_evidence_with_case', methods=['GET'])
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8d8f1d00>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d8f1ee0>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │                            │    └ <starlette.requests.Request object at 0xffff8d66c980>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0xffff8d9447c0>
    |           └ <function wrap_app_handling_exceptions at 0xffff914ab100>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8b52d3a0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d8f1ee0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           └ <function request_response.<locals>.app.<locals>.app at 0xffff8d9447c0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    |     response = await f(request)
    |                      │ └ <starlette.requests.Request object at 0xffff8d66c980>
    |                      └ <function get_request_handler.<locals>.app at 0xffff8d6db560>
    |   File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    |     content = await serialize_response(
    |                     └ <function serialize_response at 0xffff91954fe0>
    |   File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    |     raise ResponseValidationError(
    |           └ <class 'fastapi.exceptions.ResponseValidationError'>
    |
    | fastapi.exceptions.ResponseValidationError: 1 validation errors:
    |   {'type': 'dict_type', 'loc': ('response', 'data', 'case'), 'msg': 'Input should be a valid dictionary', 'input': <app.cases.models.Case object at 0xffff8b4355e0>}
    |
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "/app/.venv/bin/uvicorn", line 10, in <module>
    sys.exit(main())
    │   │    └ <Command main>
    │   └ <built-in function exit>
    └ <module 'sys' (built-in)>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
           │    │     │       └ {}
           │    │     └ ()
           │    └ <function Command.main at 0xffff92b1d620>
           └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
         │    │      └ <click.core.Context object at 0xffff939552e0>
         │    └ <function Command.invoke at 0xffff92b1d300>
         └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           │   │      │    │           │   └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │   │      │    │           └ <click.core.Context object at 0xffff939552e0>
           │   │      │    └ <function main at 0xffff928a80e0>
           │   │      └ <Command main>
           │   └ <function Context.invoke at 0xffff92b1c540>
           └ <click.core.Context object at 0xffff939552e0>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
           │         │       └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │         └ ()
           └ <function main at 0xffff928a80e0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 413, in main
    run(
    └ <function run at 0xffff92b1bb00>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 580, in run
    server.run()
    │      └ <function Server.run at 0xffff92924180>
    └ <uvicorn.server.Server object at 0xffff92e7bef0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0xffff92924220>
           │       │   └ <uvicorn.server.Server object at 0xffff92e7bef0>
           │       └ <function run at 0xffff93afc680>
           └ <module 'asyncio' from '/usr/local/lib/python3.12/asyncio/__init__.py'>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0xffff928567a0>
           │      └ <function Runner.run at 0xffff935602c0>
           └ <asyncio.runners.Runner object at 0xffff9390b6e0>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /app/.venv/lib/python3.12/site-packages/uvicorn/server.py:71> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0xffff92828450>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0xffff9390b6e0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffff8dabba70>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d85fe...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d8...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0xffff929d6cc0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffff8dabba70>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d85fe...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d8...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
  File "/app/.venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d85fe...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d8...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff8d9ff7d0>
          └ <fastapi.applications.FastAPI object at 0xffff929d6cc0>
> File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xffff8d8f27a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d8...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff8d9ff7d0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0xffff91470f40>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [ResponseValidationError()])
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0xffff8d6ffed0>
    └ <contextlib._GeneratorContextManager object at 0xffff8d67df10>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff8d8f1da0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0xffff8d67c590>
                     │    └ <bound method LoggingMiddleware.dispatch of <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>>
                     └ <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>

  File "/app/app/core/middleware.py", line 57, in dispatch
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0xffff8d67c590>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff8d8f1da0>

  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ResponseValidationError()
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff8d8f22a0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d8f1ee0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>
          └ <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'authorization': 'Bearer eyJh...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff8d8f22a0>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d8f1ee0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0xffff91376660>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d8f1ee0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff8d9bd700>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d8f1ee0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0xffff8d66de20>
          │                            │    └ <fastapi.routing.APIRouter object at 0xffff914d2420>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff8d9bd700>
          └ <function wrap_app_handling_exceptions at 0xffff914ab100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8d8f1d00>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d8f1ee0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0xffff914d2420>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8d8f1d00>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d8f1ee0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0xffff914d2420>>
          └ <fastapi.routing.APIRouter object at 0xffff914d2420>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8d8f1d00>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d8f1ee0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │     └ <function Route.handle at 0xffff913545e0>
          └ APIRoute(path='/api/v1/evidences/{evidence_id}/with-case', name='read_evidence_with_case', methods=['GET'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8d8f1d00>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d8f1ee0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0xffff8d6db600>
          └ APIRoute(path='/api/v1/evidences/{evidence_id}/with-case', name='read_evidence_with_case', methods=['GET'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8d8f1d00>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d8f1ee0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0xffff8d66c980>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0xffff8d9447c0>
          └ <function wrap_app_handling_exceptions at 0xffff914ab100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8b52d3a0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d8f1ee0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0xffff8d9447c0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0xffff8d66c980>
                     └ <function get_request_handler.<locals>.app at 0xffff8d6db560>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
                    └ <function serialize_response at 0xffff91954fe0>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
          └ <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 'data', 'case'), 'msg': 'Input should be a valid dictionary', 'input': <app.cases.models.Case object at 0xffff8b4355e0>}

2025-07-13 12:49:43 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/15
2025-07-13 12:49:43 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/15/with-case
2025-07-13 12:49:43 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/15 - 状态码: 200 - 耗时: 0.0078秒
2025-07-13 12:49:43 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/15/with-case - 状态码: 200 - 耗时: 0.0034秒
2025-07-13 12:49:43 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/15/with-case
2025-07-13 12:49:43 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/15
2025-07-13 12:49:44 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/15 - 状态码: 200 - 耗时: 0.1061秒
2025-07-13 12:49:44 | ERROR | app.core.middleware:dispatch:66 - 请求异常: GET http://localhost:8000/api/v1/evidences/15/with-case - 错误: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 'data', 'case'), 'msg': 'Input should be a valid dictionary', 'input': <app.cases.models.Case object at 0xffff8b435700>}

2025-07-13 12:49:44 | ERROR | app.core.middleware:global_exception_handler:39 - Unhandled error: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 'data', 'case'), 'msg': 'Input should be a valid dictionary', 'input': <app.cases.models.Case object at 0xffff8b435700>}

  + Exception Group Traceback (most recent call last):
  |
  |   File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0xffff8d83e4b0>
  |                │     └ <function create_task_group at 0xffff927e4f40>
  |                └ <module 'anyio' from '/app/.venv/lib/python3.12/site-packages/anyio/__init__.py'>
  |   File "/app/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xffff910f5da0>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d8...
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │    └ <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff8d9ff7d0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |          │            │            └ <function collapse_excgroups at 0xffff91470f40>
    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "/usr/local/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [ResponseValidationError()])
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0xffff8b4e3920>
    |     └ <contextlib._GeneratorContextManager object at 0xffff8d83d310>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff910f4400>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0xffff8d83d970>
    |                      │    └ <bound method LoggingMiddleware.dispatch of <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>>
    |                      └ <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>
    |
    |   File "/app/app/core/middleware.py", line 57, in dispatch
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0xffff8d83d970>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff910f4400>
    |
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 156, in call_next
    |     raise app_exc
    |           └ ResponseValidationError()
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff910f4860>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f60c0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>
    |           └ <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |           │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'authorization': 'Bearer eyJh...
    |           │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff910f4860>
    |           │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f60c0>
    |           │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │    └ <function CORSMiddleware.simple_response at 0xffff91376660>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>>, ...
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f60c0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff8d9bd700>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>>, ...
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f60c0>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │                            │    │    └ <starlette.requests.Request object at 0xffff8d83d250>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0xffff914d2420>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff8d9bd700>
    |           └ <function wrap_app_handling_exceptions at 0xffff914ab100>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff910f6660>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f60c0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           └ <fastapi.routing.APIRouter object at 0xffff914d2420>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff910f6660>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f60c0>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0xffff914d2420>>
    |           └ <fastapi.routing.APIRouter object at 0xffff914d2420>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff910f6660>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f60c0>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │     └ <function Route.handle at 0xffff913545e0>
    |           └ APIRoute(path='/api/v1/evidences/{evidence_id}/with-case', name='read_evidence_with_case', methods=['GET'])
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff910f6660>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f60c0>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │    └ <function request_response.<locals>.app at 0xffff8d6db600>
    |           └ APIRoute(path='/api/v1/evidences/{evidence_id}/with-case', name='read_evidence_with_case', methods=['GET'])
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff910f6660>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f60c0>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │                            │    └ <starlette.requests.Request object at 0xffff8d83e4e0>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0xffff8b4bcfe0>
    |           └ <function wrap_app_handling_exceptions at 0xffff914ab100>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8b4be8e0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f60c0>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           └ <function request_response.<locals>.app.<locals>.app at 0xffff8b4bcfe0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    |     response = await f(request)
    |                      │ └ <starlette.requests.Request object at 0xffff8d83e4e0>
    |                      └ <function get_request_handler.<locals>.app at 0xffff8d6db560>
    |   File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    |     content = await serialize_response(
    |                     └ <function serialize_response at 0xffff91954fe0>
    |   File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    |     raise ResponseValidationError(
    |           └ <class 'fastapi.exceptions.ResponseValidationError'>
    |
    | fastapi.exceptions.ResponseValidationError: 1 validation errors:
    |   {'type': 'dict_type', 'loc': ('response', 'data', 'case'), 'msg': 'Input should be a valid dictionary', 'input': <app.cases.models.Case object at 0xffff8b435700>}
    |
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "/app/.venv/bin/uvicorn", line 10, in <module>
    sys.exit(main())
    │   │    └ <Command main>
    │   └ <built-in function exit>
    └ <module 'sys' (built-in)>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
           │    │     │       └ {}
           │    │     └ ()
           │    └ <function Command.main at 0xffff92b1d620>
           └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
         │    │      └ <click.core.Context object at 0xffff939552e0>
         │    └ <function Command.invoke at 0xffff92b1d300>
         └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           │   │      │    │           │   └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │   │      │    │           └ <click.core.Context object at 0xffff939552e0>
           │   │      │    └ <function main at 0xffff928a80e0>
           │   │      └ <Command main>
           │   └ <function Context.invoke at 0xffff92b1c540>
           └ <click.core.Context object at 0xffff939552e0>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
           │         │       └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │         └ ()
           └ <function main at 0xffff928a80e0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 413, in main
    run(
    └ <function run at 0xffff92b1bb00>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 580, in run
    server.run()
    │      └ <function Server.run at 0xffff92924180>
    └ <uvicorn.server.Server object at 0xffff92e7bef0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0xffff92924220>
           │       │   └ <uvicorn.server.Server object at 0xffff92e7bef0>
           │       └ <function run at 0xffff93afc680>
           └ <module 'asyncio' from '/usr/local/lib/python3.12/asyncio/__init__.py'>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0xffff928567a0>
           │      └ <function Runner.run at 0xffff935602c0>
           └ <asyncio.runners.Runner object at 0xffff9390b6e0>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /app/.venv/lib/python3.12/site-packages/uvicorn/server.py:71> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0xffff92828450>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0xffff9390b6e0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffff8dabba70>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d83fa...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d8...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0xffff929d6cc0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffff8dabba70>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d83fa...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d8...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
  File "/app/.venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d83fa...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d8...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff8d9ff7d0>
          └ <fastapi.applications.FastAPI object at 0xffff929d6cc0>
> File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xffff910f5da0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d8...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff8d9ff7d0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0xffff91470f40>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [ResponseValidationError()])
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0xffff8b4e3920>
    └ <contextlib._GeneratorContextManager object at 0xffff8d83d310>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff910f4400>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0xffff8d83d970>
                     │    └ <bound method LoggingMiddleware.dispatch of <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>>
                     └ <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>

  File "/app/app/core/middleware.py", line 57, in dispatch
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0xffff8d83d970>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff910f4400>

  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ResponseValidationError()
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff910f4860>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f60c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>
          └ <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'authorization': 'Bearer eyJh...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff910f4860>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f60c0>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0xffff91376660>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f60c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff8d9bd700>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f60c0>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0xffff8d83d250>
          │                            │    └ <fastapi.routing.APIRouter object at 0xffff914d2420>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff8d9bd700>
          └ <function wrap_app_handling_exceptions at 0xffff914ab100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff910f6660>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f60c0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0xffff914d2420>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff910f6660>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f60c0>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0xffff914d2420>>
          └ <fastapi.routing.APIRouter object at 0xffff914d2420>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff910f6660>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f60c0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │     └ <function Route.handle at 0xffff913545e0>
          └ APIRoute(path='/api/v1/evidences/{evidence_id}/with-case', name='read_evidence_with_case', methods=['GET'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff910f6660>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f60c0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0xffff8d6db600>
          └ APIRoute(path='/api/v1/evidences/{evidence_id}/with-case', name='read_evidence_with_case', methods=['GET'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff910f6660>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f60c0>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0xffff8d83e4e0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0xffff8b4bcfe0>
          └ <function wrap_app_handling_exceptions at 0xffff914ab100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8b4be8e0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff910f60c0>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0xffff8b4bcfe0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0xffff8d83e4e0>
                     └ <function get_request_handler.<locals>.app at 0xffff8d6db560>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
                    └ <function serialize_response at 0xffff91954fe0>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
          └ <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 'data', 'case'), 'msg': 'Input should be a valid dictionary', 'input': <app.cases.models.Case object at 0xffff8b435700>}

2025-07-13 12:49:45 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/15/with-case
2025-07-13 12:49:45 | ERROR | app.core.middleware:dispatch:66 - 请求异常: GET http://localhost:8000/api/v1/evidences/15/with-case - 错误: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 'data', 'case'), 'msg': 'Input should be a valid dictionary', 'input': <app.cases.models.Case object at 0xffff8b434140>}

2025-07-13 12:49:45 | ERROR | app.core.middleware:global_exception_handler:39 - Unhandled error: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 'data', 'case'), 'msg': 'Input should be a valid dictionary', 'input': <app.cases.models.Case object at 0xffff8b434140>}

  + Exception Group Traceback (most recent call last):
  |
  |   File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                │     │                      └ <anyio._backends._asyncio.TaskGroup object at 0xffff8d82b350>
  |                │     └ <function create_task_group at 0xffff927e4f40>
  |                └ <module 'anyio' from '/app/.venv/lib/python3.12/site-packages/anyio/__init__.py'>
  |   File "/app/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  |
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |           │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xffff8d9447c0>
    |           │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d6...
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │    └ <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>
    |           └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff8d9ff7d0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |          │            │            └ <function collapse_excgroups at 0xffff91470f40>
    |          │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
    |          └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
    |   File "/usr/local/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |     │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [ResponseValidationError()])
    |     │    │   └ <method 'throw' of 'generator' objects>
    |     │    └ <generator object collapse_excgroups at 0xffff912a2dc0>
    |     └ <contextlib._GeneratorContextManager object at 0xffff8d82bd70>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                      │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff8d75a0c0>
    |                      │    │             └ <starlette.middleware.base._CachedRequest object at 0xffff8d85eab0>
    |                      │    └ <bound method LoggingMiddleware.dispatch of <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>>
    |                      └ <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>
    |
    |   File "/app/app/core/middleware.py", line 57, in dispatch
    |     response = await call_next(request)
    |                      │         └ <starlette.middleware.base._CachedRequest object at 0xffff8d85eab0>
    |                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff8d75a0c0>
    |
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 156, in call_next
    |     raise app_exc
    |           └ ResponseValidationError()
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |           │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff8d8f2700>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d75a520>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │    └ <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>
    |           └ <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |           │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'authorization': 'Bearer eyJh...
    |           │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff8d8f2700>
    |           │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d75a520>
    |           │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │    └ <function CORSMiddleware.simple_response at 0xffff91376660>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>>, ...
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d75a520>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff8d9bd700>
    |           └ <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |           │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>>, ...
    |           │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d75a520>
    |           │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │                            │    │    └ <starlette.requests.Request object at 0xffff8d82b230>
    |           │                            │    └ <fastapi.routing.APIRouter object at 0xffff914d2420>
    |           │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff8d9bd700>
    |           └ <function wrap_app_handling_exceptions at 0xffff914ab100>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8d8f25c0>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d75a520>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           └ <fastapi.routing.APIRouter object at 0xffff914d2420>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |           │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8d8f25c0>
    |           │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d75a520>
    |           │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0xffff914d2420>>
    |           └ <fastapi.routing.APIRouter object at 0xffff914d2420>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |           │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8d8f25c0>
    |           │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d75a520>
    |           │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │     └ <function Route.handle at 0xffff913545e0>
    |           └ APIRoute(path='/api/v1/evidences/{evidence_id}/with-case', name='read_evidence_with_case', methods=['GET'])
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |           │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8d8f25c0>
    |           │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d75a520>
    |           │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │    └ <function request_response.<locals>.app at 0xffff8d6db600>
    |           └ APIRoute(path='/api/v1/evidences/{evidence_id}/with-case', name='read_evidence_with_case', methods=['GET'])
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |           │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8d8f25c0>
    |           │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d75a520>
    |           │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           │                            │    └ <starlette.requests.Request object at 0xffff8d82bec0>
    |           │                            └ <function request_response.<locals>.app.<locals>.app at 0xffff8d8f1da0>
    |           └ <function wrap_app_handling_exceptions at 0xffff914ab100>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |           │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8d8f1e40>
    |           │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d75a520>
    |           │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
    |           └ <function request_response.<locals>.app.<locals>.app at 0xffff8d8f1da0>
    |   File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    |     response = await f(request)
    |                      │ └ <starlette.requests.Request object at 0xffff8d82bec0>
    |                      └ <function get_request_handler.<locals>.app at 0xffff8d6db560>
    |   File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    |     content = await serialize_response(
    |                     └ <function serialize_response at 0xffff91954fe0>
    |   File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    |     raise ResponseValidationError(
    |           └ <class 'fastapi.exceptions.ResponseValidationError'>
    |
    | fastapi.exceptions.ResponseValidationError: 1 validation errors:
    |   {'type': 'dict_type', 'loc': ('response', 'data', 'case'), 'msg': 'Input should be a valid dictionary', 'input': <app.cases.models.Case object at 0xffff8b434140>}
    |
    +------------------------------------


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "/app/.venv/bin/uvicorn", line 10, in <module>
    sys.exit(main())
    │   │    └ <Command main>
    │   └ <built-in function exit>
    └ <module 'sys' (built-in)>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1442, in __call__
    return self.main(*args, **kwargs)
           │    │     │       └ {}
           │    │     └ ()
           │    └ <function Command.main at 0xffff92b1d620>
           └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1363, in main
    rv = self.invoke(ctx)
         │    │      └ <click.core.Context object at 0xffff939552e0>
         │    └ <function Command.invoke at 0xffff92b1d300>
         └ <Command main>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 1226, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           │   │      │    │           │   └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │   │      │    │           └ <click.core.Context object at 0xffff939552e0>
           │   │      │    └ <function main at 0xffff928a80e0>
           │   │      └ <Command main>
           │   └ <function Context.invoke at 0xffff92b1c540>
           └ <click.core.Context object at 0xffff939552e0>
  File "/app/.venv/lib/python3.12/site-packages/click/core.py", line 794, in invoke
    return callback(*args, **kwargs)
           │         │       └ {'host': '0.0.0.0', 'port': 8000, 'app': 'app.main:app', 'uds': None, 'fd': None, 'reload': False, 'reload_dirs': (), 'reload...
           │         └ ()
           └ <function main at 0xffff928a80e0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 413, in main
    run(
    └ <function run at 0xffff92b1bb00>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/main.py", line 580, in run
    server.run()
    │      └ <function Server.run at 0xffff92924180>
    └ <uvicorn.server.Server object at 0xffff92e7bef0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0xffff92924220>
           │       │   └ <uvicorn.server.Server object at 0xffff92e7bef0>
           │       └ <function run at 0xffff93afc680>
           └ <module 'asyncio' from '/usr/local/lib/python3.12/asyncio/__init__.py'>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0xffff928567a0>
           │      └ <function Runner.run at 0xffff935602c0>
           └ <asyncio.runners.Runner object at 0xffff9390b6e0>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at /app/.venv/lib/python3.12/site-packages/uvicorn/server.py:71> wai...
           │    │     └ <cyfunction Loop.run_until_complete at 0xffff92828450>
           │    └ <uvloop.Loop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0xffff9390b6e0>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffff8dabba70>
  File "/app/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d67df...
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d6...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
                 │    └ <fastapi.applications.FastAPI object at 0xffff929d6cc0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0xffff8dabba70>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d67df...
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d6...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
  File "/app/.venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d67df...
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d6...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff8d9ff7d0>
          └ <fastapi.applications.FastAPI object at 0xffff929d6cc0>
> File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0xffff8d9447c0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.httptools_impl.RequestResponseCycle object at 0xffff8d6...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0xffff8d9ff7d0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
         │            │            └ <function collapse_excgroups at 0xffff91470f40>
         │            └ MemoryObjectSendStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_receive...
         └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/usr/local/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
    │    │   │     └ ExceptionGroup('unhandled errors in a TaskGroup', [ResponseValidationError()])
    │    │   └ <method 'throw' of 'generator' objects>
    │    └ <generator object collapse_excgroups at 0xffff912a2dc0>
    └ <contextlib._GeneratorContextManager object at 0xffff8d82bd70>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff8d75a0c0>
                     │    │             └ <starlette.middleware.base._CachedRequest object at 0xffff8d85eab0>
                     │    └ <bound method LoggingMiddleware.dispatch of <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>>
                     └ <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>

  File "/app/app/core/middleware.py", line 57, in dispatch
    response = await call_next(request)
                     │         └ <starlette.middleware.base._CachedRequest object at 0xffff8d85eab0>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0xffff8d75a0c0>

  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
          └ ResponseValidationError()
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff8d8f2700>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d75a520>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>
          └ <app.core.middleware.LoggingMiddleware object at 0xffff8d9ffa70>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
          │    │               │      │        │                     └ Headers({'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'authorization': 'Bearer eyJh...
          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0xffff8d8f2700>
          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d75a520>
          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <function CORSMiddleware.simple_response at 0xffff91376660>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>>, ...
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d75a520>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff8d9bd700>
          └ <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0xffff8d9ff8c0>>, ...
          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d75a520>
          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │                            │    │    └ <starlette.requests.Request object at 0xffff8d82b230>
          │                            │    └ <fastapi.routing.APIRouter object at 0xffff914d2420>
          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0xffff8d9bd700>
          └ <function wrap_app_handling_exceptions at 0xffff914ab100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8d8f25c0>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d75a520>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          └ <fastapi.routing.APIRouter object at 0xffff914d2420>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8d8f25c0>
          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d75a520>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0xffff914d2420>>
          └ <fastapi.routing.APIRouter object at 0xffff914d2420>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8d8f25c0>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d75a520>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │     └ <function Route.handle at 0xffff913545e0>
          └ APIRoute(path='/api/v1/evidences/{evidence_id}/with-case', name='read_evidence_with_case', methods=['GET'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8d8f25c0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d75a520>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │    └ <function request_response.<locals>.app at 0xffff8d6db600>
          └ APIRoute(path='/api/v1/evidences/{evidence_id}/with-case', name='read_evidence_with_case', methods=['GET'])
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8d8f25c0>
          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d75a520>
          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          │                            │    └ <starlette.requests.Request object at 0xffff8d82bec0>
          │                            └ <function request_response.<locals>.app.<locals>.app at 0xffff8d8f1da0>
          └ <function wrap_app_handling_exceptions at 0xffff914ab100>
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/app/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0xffff8d8f1e40>
          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0xffff8d75a520>
          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('172.22.0.3', 8000), 'c...
          └ <function request_response.<locals>.app.<locals>.app at 0xffff8d8f1da0>
  File "/app/.venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
                     │ └ <starlette.requests.Request object at 0xffff8d82bec0>
                     └ <function get_request_handler.<locals>.app at 0xffff8d6db560>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
                    └ <function serialize_response at 0xffff91954fe0>
  File "/app/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
          └ <class 'fastapi.exceptions.ResponseValidationError'>

fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'dict_type', 'loc': ('response', 'data', 'case'), 'msg': 'Input should be a valid dictionary', 'input': <app.cases.models.Case object at 0xffff8b434140>}

2025-07-13 12:51:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/6/with-case
2025-07-13 12:51:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/6
2025-07-13 12:51:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/6/with-case - 状态码: 200 - 耗时: 0.0164秒
2025-07-13 12:51:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/6 - 状态码: 200 - 耗时: 0.0032秒
2025-07-13 12:51:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/6
2025-07-13 12:51:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/6/with-case
2025-07-13 12:51:50 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/6 - 状态码: 200 - 耗时: 0.5372秒
2025-07-13 12:51:50 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/6/with-case - 状态码: 200 - 耗时: 0.3166秒
2025-07-13 12:51:59 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/15/with-case
2025-07-13 12:51:59 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/15/with-case - 状态码: 200 - 耗时: 0.1196秒
2025-07-13 12:52:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/16/with-case
2025-07-13 12:52:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/16
2025-07-13 12:52:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/16/with-case - 状态码: 200 - 耗时: 0.0109秒
2025-07-13 12:52:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/16 - 状态码: 200 - 耗时: 0.0053秒
2025-07-13 12:52:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/16/with-case
2025-07-13 12:52:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/16
2025-07-13 12:52:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/16/with-case - 状态码: 200 - 耗时: 0.1082秒
2025-07-13 12:52:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/16 - 状态码: 200 - 耗时: 0.0814秒
2025-07-13 12:52:28 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users
2025-07-13 12:52:28 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/1
2025-07-13 12:52:28 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs
2025-07-13 12:52:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users - 状态码: 200 - 耗时: 0.0102秒
2025-07-13 12:52:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/1 - 状态码: 200 - 耗时: 0.0082秒
2025-07-13 12:52:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs - 状态码: 200 - 耗时: 0.0088秒
2025-07-13 12:52:28 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users
2025-07-13 12:52:28 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/1
2025-07-13 12:52:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users - 状态码: 307 - 耗时: 0.0312秒
2025-07-13 12:52:28 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs
2025-07-13 12:52:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs - 状态码: 307 - 耗时: 0.0015秒
2025-07-13 12:52:28 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/
2025-07-13 12:52:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.0016秒
2025-07-13 12:52:28 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/
2025-07-13 12:52:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.0021秒
2025-07-13 12:52:28 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/
2025-07-13 12:52:28 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/
2025-07-13 12:52:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/ - 状态码: 200 - 耗时: 0.2717秒
2025-07-13 12:52:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/ - 状态码: 200 - 耗时: 0.2454秒
2025-07-13 12:52:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/1 - 状态码: 200 - 耗时: 0.3157秒
2025-07-13 12:55:18 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/15/with-case
2025-07-13 12:55:18 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/15
2025-07-13 12:55:18 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/15/with-case - 状态码: 200 - 耗时: 0.5746秒
2025-07-13 12:55:18 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/15 - 状态码: 200 - 耗时: 0.4115秒
2025-07-13 12:55:19 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:55:19 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:55:19 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 200 - 耗时: 0.0232秒
2025-07-13 12:55:19 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 200 - 耗时: 0.0060秒
2025-07-13 12:55:19 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:55:19 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:55:19 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0195秒
2025-07-13 12:55:19 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0117秒
2025-07-13 12:55:19 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:55:19 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:55:19 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.0027秒
2025-07-13 12:55:19 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.0023秒
2025-07-13 12:55:19 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:55:19 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:55:19 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.3299秒
2025-07-13 12:55:19 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.4135秒
2025-07-13 12:56:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/15
2025-07-13 12:56:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/15/with-case
2025-07-13 12:56:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/15 - 状态码: 200 - 耗时: 0.0061秒
2025-07-13 12:56:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/15/with-case - 状态码: 200 - 耗时: 0.0030秒
2025-07-13 12:56:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/15/with-case
2025-07-13 12:56:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/15
2025-07-13 12:56:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/15 - 状态码: 200 - 耗时: 0.3841秒
2025-07-13 12:56:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/15/with-case - 状态码: 200 - 耗时: 0.4101秒
2025-07-13 12:56:58 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:56:58 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:56:58 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0137秒
2025-07-13 12:56:58 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0166秒
2025-07-13 12:56:58 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:56:58 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:56:58 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.2193秒
2025-07-13 12:56:58 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.1932秒
2025-07-13 12:56:59 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 12:56:59 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 200 - 耗时: 0.0070秒
2025-07-13 12:56:59 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users?limit=10
2025-07-13 12:56:59 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 12:56:59 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users?limit=10 - 状态码: 200 - 耗时: 0.0022秒
2025-07-13 12:56:59 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0046秒
2025-07-13 12:56:59 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 12:56:59 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0022秒
2025-07-13 12:56:59 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 12:56:59 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0021秒
2025-07-13 12:56:59 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10
2025-07-13 12:56:59 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 12:56:59 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0266秒
2025-07-13 12:56:59 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 12:56:59 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.1303秒
2025-07-13 12:56:59 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.1613秒
2025-07-13 12:57:03 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:57:03 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:57:03 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0328秒
2025-07-13 12:57:03 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0162秒
2025-07-13 12:57:03 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:57:03 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:57:04 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.5647秒
2025-07-13 12:57:04 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.5695秒
2025-07-13 12:57:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/15
2025-07-13 12:57:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/15/with-case
2025-07-13 12:57:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/15/with-case - 状态码: 200 - 耗时: 0.1378秒
2025-07-13 12:57:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/15 - 状态码: 200 - 耗时: 0.1795秒
2025-07-13 12:57:27 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 12:57:27 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 12:57:27 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0107秒
2025-07-13 12:57:27 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0038秒
2025-07-13 12:57:27 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 12:57:27 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 12:57:27 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.1979秒
2025-07-13 12:57:27 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.1989秒
2025-07-13 12:57:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=10
2025-07-13 12:57:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=10 - 状态码: 200 - 耗时: 0.0077秒
2025-07-13 12:57:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 12:57:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0019秒
2025-07-13 12:57:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 12:57:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0006秒
2025-07-13 12:57:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 12:57:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.1388秒
2025-07-13 12:57:37 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/15/with-case
2025-07-13 12:57:37 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/15
2025-07-13 12:57:37 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/15 - 状态码: 200 - 耗时: 0.0946秒
2025-07-13 12:57:37 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/15/with-case - 状态码: 200 - 耗时: 0.1492秒
2025-07-13 13:00:27 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 13:00:27 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 13:00:27 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0174秒
2025-07-13 13:00:27 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0107秒
2025-07-13 13:00:27 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 13:00:27 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 13:00:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.1983秒
2025-07-13 13:00:28 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.1529秒
2025-07-13 13:00:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 13:00:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0089秒
2025-07-13 13:00:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 13:00:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 13:00:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0012秒
2025-07-13 13:00:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 13:00:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0714秒
2025-07-13 13:00:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.1477秒
2025-07-13 13:03:19 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/15/with-case
2025-07-13 13:03:19 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/15
2025-07-13 13:03:19 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/15 - 状态码: 200 - 耗时: 0.1662秒
2025-07-13 13:03:19 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/15/with-case - 状态码: 200 - 耗时: 0.2272秒
2025-07-13 13:03:32 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 13:03:32 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0083秒
2025-07-13 13:03:32 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 13:03:32 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.1385秒
2025-07-13 13:03:32 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 13:03:32 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0008秒
2025-07-13 13:03:32 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 13:03:32 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0386秒
2025-07-13 13:03:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/15
2025-07-13 13:03:34 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/15/with-case
2025-07-13 13:03:35 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/15 - 状态码: 200 - 耗时: 0.3685秒
2025-07-13 13:03:35 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/15/with-case - 状态码: 200 - 耗时: 0.2805秒
2025-07-13 13:03:46 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/15
2025-07-13 13:03:46 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/15/with-case
2025-07-13 13:03:46 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/15 - 状态码: 200 - 耗时: 0.3774秒
2025-07-13 13:03:46 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/15/with-case - 状态码: 200 - 耗时: 0.2480秒
2025-07-13 13:05:13 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/15/with-case
2025-07-13 13:05:13 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/15
2025-07-13 13:05:13 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/15/with-case - 状态码: 200 - 耗时: 0.0260秒
2025-07-13 13:05:13 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/15 - 状态码: 200 - 耗时: 0.0201秒
2025-07-13 13:05:13 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/15/with-case
2025-07-13 13:05:13 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/15
2025-07-13 13:05:13 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/15 - 状态码: 200 - 耗时: 0.2444秒
2025-07-13 13:05:13 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/15/with-case - 状态码: 200 - 耗时: 0.3260秒
2025-07-13 13:05:18 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 13:05:18 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 13:05:18 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 200 - 耗时: 0.0149秒
2025-07-13 13:05:18 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 200 - 耗时: 0.0059秒
2025-07-13 13:05:18 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 13:05:18 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0076秒
2025-07-13 13:05:18 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 13:05:18 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0018秒
2025-07-13 13:05:18 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 13:05:18 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.0039秒
2025-07-13 13:05:18 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 13:05:18 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.0021秒
2025-07-13 13:05:18 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 13:05:19 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 13:05:19 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.1664秒
2025-07-13 13:05:19 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.2152秒
2025-07-13 13:05:21 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 13:05:21 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0009秒
2025-07-13 13:05:21 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 13:05:21 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0951秒
2025-07-13 13:05:25 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 13:05:26 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0865秒
2025-07-13 13:05:26 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 13:05:26 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.2934秒
2025-07-13 13:07:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 13:07:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 13:07:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 200 - 耗时: 0.0204秒
2025-07-13 13:07:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 200 - 耗时: 0.0344秒
2025-07-13 13:07:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 13:07:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0061秒
2025-07-13 13:07:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 13:07:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0024秒
2025-07-13 13:07:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 13:07:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 13:07:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.0041秒
2025-07-13 13:07:49 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.0059秒
2025-07-13 13:07:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 13:07:49 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 13:07:50 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.3834秒
2025-07-13 13:07:50 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.3852秒
2025-07-13 13:07:51 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users?limit=10
2025-07-13 13:07:51 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users?limit=10 - 状态码: 200 - 耗时: 0.0129秒
2025-07-13 13:07:51 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 13:07:51 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0010秒
2025-07-13 13:07:51 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10
2025-07-13 13:07:51 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0009秒
2025-07-13 13:07:51 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 13:07:51 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0462秒
2025-07-13 13:07:51 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 13:07:51 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 200 - 耗时: 0.0007秒
2025-07-13 13:07:51 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 13:07:51 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0008秒
2025-07-13 13:07:51 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 13:07:51 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0006秒
2025-07-13 13:07:51 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 13:07:51 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0480秒
2025-07-13 13:07:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=10
2025-07-13 13:07:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=10 - 状态码: 200 - 耗时: 0.0106秒
2025-07-13 13:07:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 13:07:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0059秒
2025-07-13 13:07:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 13:07:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0006秒
2025-07-13 13:07:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 13:07:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.1314秒
2025-07-13 13:07:59 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 13:07:59 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 13:07:59 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0171秒
2025-07-13 13:07:59 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0031秒
2025-07-13 13:07:59 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 13:07:59 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 13:07:59 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.1603秒
2025-07-13 13:07:59 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.1840秒
2025-07-13 13:08:18 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 13:08:19 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0343秒
2025-07-13 13:08:19 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 13:08:19 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.1963秒
2025-07-13 13:08:20 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 13:08:20 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 13:08:20 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0150秒
2025-07-13 13:08:20 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0192秒
2025-07-13 13:08:20 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 13:08:20 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 13:08:20 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 13:08:20 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0512秒
2025-07-13 13:08:20 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 13:08:20 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0048秒
2025-07-13 13:08:20 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 13:08:20 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 13:08:21 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.7528秒
2025-07-13 13:08:21 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.7777秒
2025-07-13 13:08:21 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.4548秒
2025-07-13 13:08:21 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.4553秒
2025-07-13 13:08:24 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 13:08:24 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0121秒
2025-07-13 13:08:24 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 13:08:24 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0884秒
2025-07-13 13:09:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 13:09:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 13:09:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 200 - 耗时: 0.0341秒
2025-07-13 13:09:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 200 - 耗时: 0.0154秒
2025-07-13 13:09:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 13:09:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0085秒
2025-07-13 13:09:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 13:09:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0031秒
2025-07-13 13:09:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 13:09:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.0019秒
2025-07-13 13:09:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 13:09:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.0062秒
2025-07-13 13:09:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 13:09:54 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 13:09:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.4554秒
2025-07-13 13:09:54 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.5605秒
2025-07-13 13:09:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 13:09:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 13:09:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0036秒
2025-07-13 13:09:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0025秒
2025-07-13 13:09:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 13:09:55 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 13:09:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.0733秒
2025-07-13 13:09:55 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.0875秒
2025-07-13 13:10:20 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 13:10:21 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0271秒
2025-07-13 13:10:21 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 13:10:21 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.2359秒
2025-07-13 13:10:22 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 13:10:22 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0047秒
2025-07-13 13:10:22 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 13:10:22 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0932秒
2025-07-13 13:10:24 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 13:10:24 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0094秒
2025-07-13 13:10:24 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 13:10:24 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.1487秒
2025-07-13 13:10:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/6/with-case
2025-07-13 13:10:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/6
2025-07-13 13:10:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/6/with-case - 状态码: 200 - 耗时: 0.0106秒
2025-07-13 13:10:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/6 - 状态码: 200 - 耗时: 0.0067秒
2025-07-13 13:10:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/6/with-case
2025-07-13 13:10:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/6
2025-07-13 13:10:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/6 - 状态码: 200 - 耗时: 0.1163秒
2025-07-13 13:10:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/6/with-case - 状态码: 200 - 耗时: 0.1664秒
2025-07-13 13:11:04 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 13:11:04 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0293秒
2025-07-13 13:11:04 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 13:11:04 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.1946秒
2025-07-13 13:11:06 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 13:11:06 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0131秒
2025-07-13 13:11:06 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 13:11:07 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.1241秒
2025-07-13 13:11:08 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 13:11:08 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0094秒
2025-07-13 13:11:08 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 13:11:08 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.1357秒
2025-07-13 13:11:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 13:11:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 13:11:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0421秒
2025-07-13 13:11:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0055秒
2025-07-13 13:11:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 13:11:10 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 13:11:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.1573秒
2025-07-13 13:11:10 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.2118秒
2025-07-13 13:11:13 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/6
2025-07-13 13:11:14 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/6/with-case
2025-07-13 13:11:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/6/with-case - 状态码: 200 - 耗时: 0.1253秒
2025-07-13 13:11:14 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/6 - 状态码: 200 - 耗时: 0.1646秒
2025-07-13 13:11:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users?limit=10
2025-07-13 13:11:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users?limit=10 - 状态码: 200 - 耗时: 0.0110秒
2025-07-13 13:11:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 13:11:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0046秒
2025-07-13 13:11:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10
2025-07-13 13:11:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0010秒
2025-07-13 13:11:30 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 13:11:30 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.1819秒
2025-07-13 13:11:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 13:11:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0066秒
2025-07-13 13:11:31 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 13:11:31 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0730秒
2025-07-13 13:11:58 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 13:11:58 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0110秒
2025-07-13 13:11:58 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 13:11:58 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0989秒
2025-07-13 13:11:59 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 13:11:59 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0070秒
2025-07-13 13:11:59 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 13:11:59 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.0461秒
2025-07-13 13:12:01 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 13:12:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0164秒
2025-07-13 13:12:01 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 13:12:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.2314秒
2025-07-13 13:12:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 13:12:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 13:12:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0218秒
2025-07-13 13:12:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0240秒
2025-07-13 13:12:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 13:12:02 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 13:12:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.1955秒
2025-07-13 13:12:02 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.2531秒
2025-07-13 13:12:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10&case_id=1
2025-07-13 13:12:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10&case_id=1 - 状态码: 200 - 耗时: 0.0213秒
2025-07-13 13:12:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10&case_id=1
2025-07-13 13:12:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10&case_id=1 - 状态码: 307 - 耗时: 0.0050秒
2025-07-13 13:12:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10&case_id=1
2025-07-13 13:12:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10&case_id=1 - 状态码: 200 - 耗时: 0.0009秒
2025-07-13 13:12:05 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10&case_id=1
2025-07-13 13:12:06 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10&case_id=1 - 状态码: 200 - 耗时: 0.1941秒
2025-07-13 13:12:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10&case_id=2
2025-07-13 13:12:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10&case_id=2 - 状态码: 200 - 耗时: 0.0162秒
2025-07-13 13:12:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10&case_id=2
2025-07-13 13:12:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10&case_id=2 - 状态码: 307 - 耗时: 0.0062秒
2025-07-13 13:12:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10&case_id=2
2025-07-13 13:12:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10&case_id=2 - 状态码: 200 - 耗时: 0.0006秒
2025-07-13 13:12:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10&case_id=2
2025-07-13 13:12:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10&case_id=2 - 状态码: 200 - 耗时: 0.1535秒
2025-07-13 13:12:16 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences?skip=10&limit=10&case_id=1
2025-07-13 13:12:16 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences?skip=10&limit=10&case_id=1 - 状态码: 200 - 耗时: 0.0116秒
2025-07-13 13:12:16 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?skip=10&limit=10&case_id=1
2025-07-13 13:12:16 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?skip=10&limit=10&case_id=1 - 状态码: 307 - 耗时: 0.0020秒
2025-07-13 13:12:16 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/?skip=10&limit=10&case_id=1
2025-07-13 13:12:16 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/?skip=10&limit=10&case_id=1 - 状态码: 200 - 耗时: 0.0005秒
2025-07-13 13:12:16 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?skip=10&limit=10&case_id=1
2025-07-13 13:12:16 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?skip=10&limit=10&case_id=1 - 状态码: 200 - 耗时: 0.1249秒
2025-07-13 13:12:19 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/17
2025-07-13 13:12:19 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/17/with-case
2025-07-13 13:12:19 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/17 - 状态码: 200 - 耗时: 0.0284秒
2025-07-13 13:12:19 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/17/with-case - 状态码: 200 - 耗时: 0.0104秒
2025-07-13 13:12:19 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/17
2025-07-13 13:12:19 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/17/with-case
2025-07-13 13:12:19 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/17/with-case - 状态码: 200 - 耗时: 0.2218秒
2025-07-13 13:12:19 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/17 - 状态码: 200 - 耗时: 0.2923秒
2025-07-13 13:18:04 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users?limit=10
2025-07-13 13:18:04 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users?limit=10 - 状态码: 307 - 耗时: 0.0197秒
2025-07-13 13:18:04 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 13:18:04 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 200 - 耗时: 0.0022秒
2025-07-13 13:18:04 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/users/?limit=10
2025-07-13 13:18:04 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs?limit=10
2025-07-13 13:18:04 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs?limit=10 - 状态码: 307 - 耗时: 0.0013秒
2025-07-13 13:18:04 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 13:18:04 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.0012秒
2025-07-13 13:18:04 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/staffs/?limit=10
2025-07-13 13:18:04 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/staffs/?limit=10 - 状态码: 200 - 耗时: 0.1449秒
2025-07-13 13:18:04 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/users/?limit=10 - 状态码: 200 - 耗时: 0.2378秒
2025-07-13 13:18:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=10
2025-07-13 13:18:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=10 - 状态码: 200 - 耗时: 0.0147秒
2025-07-13 13:18:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=10
2025-07-13 13:18:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=10 - 状态码: 307 - 耗时: 0.0050秒
2025-07-13 13:18:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 13:18:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.0005秒
2025-07-13 13:18:09 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=10
2025-07-13 13:18:09 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=10 - 状态码: 200 - 耗时: 0.1266秒
2025-07-13 13:18:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 13:18:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 13:18:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 200 - 耗时: 0.0229秒
2025-07-13 13:18:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 200 - 耗时: 0.0024秒
2025-07-13 13:18:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 13:18:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0021秒
2025-07-13 13:18:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 13:18:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 13:18:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0043秒
2025-07-13 13:18:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.0028秒
2025-07-13 13:18:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 13:18:11 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.0018秒
2025-07-13 13:18:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 13:18:11 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 13:18:12 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.1703秒
2025-07-13 13:18:12 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.1670秒
2025-07-13 13:18:15 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 13:18:15 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 13:18:15 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0355秒
2025-07-13 13:18:15 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.0296秒
2025-07-13 13:18:15 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 13:18:15 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 13:18:15 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.2276秒
2025-07-13 13:18:15 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.2303秒
2025-07-13 13:18:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences?skip=10&limit=10
2025-07-13 13:18:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences?skip=10&limit=10 - 状态码: 200 - 耗时: 0.0117秒
2025-07-13 13:18:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?skip=10&limit=10
2025-07-13 13:18:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?skip=10&limit=10 - 状态码: 307 - 耗时: 0.0018秒
2025-07-13 13:18:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/?skip=10&limit=10
2025-07-13 13:18:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/?skip=10&limit=10 - 状态码: 200 - 耗时: 0.0004秒
2025-07-13 13:18:17 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?skip=10&limit=10
2025-07-13 13:18:17 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?skip=10&limit=10 - 状态码: 200 - 耗时: 0.0908秒
2025-07-13 13:18:29 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/batch-with-classification
2025-07-13 13:18:29 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/batch-with-classification - 状态码: 200 - 耗时: 0.0070秒
2025-07-13 13:18:29 | INFO | app.core.middleware:dispatch:54 - 开始请求: POST http://localhost:8000/api/v1/evidences/batch-with-classification
2025-07-13 13:18:29 | INFO | app.evidences.routers:batch_create_evidences_with_classification:270 - 接收批量创建证据+分类请求: 案件ID=2, 文件数量=2
2025-07-13 13:18:29 | INFO | app.evidences.routers:batch_create_evidences_with_classification:301 - 开始批量创建证据+分类: 案件ID=2, 文件数量=2
2025-07-13 13:18:29 | INFO | app.evidences.services:batch_create:223 - 开始批量创建证据: 案件ID=2, 文件数量=2
2025-07-13 13:18:29 | DEBUG | app.evidences.services:batch_create:228 - 处理第1个文件: 银行卡.jpg, 大小: 488408
2025-07-13 13:18:29 | DEBUG | app.evidences.services:upload_file:37 - 开始上传文件: 银行卡.jpg
2025-07-13 13:18:29 | DEBUG | app.evidences.services:upload_file:42 - 文件扩展名: jpg
2025-07-13 13:18:29 | DEBUG | app.evidences.services:upload_file:55 - 存储文件夹: images
2025-07-13 13:18:30 | DEBUG | app.evidences.services:upload_file:61 - 文件大小: 488408 字节
2025-07-13 13:18:30 | DEBUG | app.evidences.services:upload_file:72 - 开始上传文件到COS: 银行卡.jpg, disposition=inline
2025-07-13 13:18:30 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: 银行卡.jpg, 文件夹: images
2025-07-13 13:18:30 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 488408 字节
2025-07-13 13:18:30 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713131830_银行卡.jpg
2025-07-13 13:18:30 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713131830_银行卡.jpg
2025-07-13 13:18:30 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713131830_银行卡.jpg, disposition=inline
2025-07-13 13:18:31 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713131830_银行卡.jpg
2025-07-13 13:18:31 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713131830_银行卡.jpg
2025-07-13 13:18:31 | DEBUG | app.evidences.services:upload_file:74 - 文件上传成功: 银行卡.jpg, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713131830_银行卡.jpg
2025-07-13 13:18:31 | DEBUG | app.evidences.services:batch_create:232 - 文件上传成功: 银行卡.jpg, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713131830_银行卡.jpg
2025-07-13 13:18:31 | DEBUG | app.evidences.services:batch_create:246 - 证据对象创建成功: 银行卡.jpg
2025-07-13 13:18:31 | DEBUG | app.evidences.services:batch_create:228 - 处理第2个文件: 营业执照.png, 大小: 369499
2025-07-13 13:18:31 | DEBUG | app.evidences.services:upload_file:37 - 开始上传文件: 营业执照.png
2025-07-13 13:18:31 | DEBUG | app.evidences.services:upload_file:42 - 文件扩展名: png
2025-07-13 13:18:31 | DEBUG | app.evidences.services:upload_file:55 - 存储文件夹: images
2025-07-13 13:18:31 | DEBUG | app.evidences.services:upload_file:61 - 文件大小: 369499 字节
2025-07-13 13:18:31 | DEBUG | app.evidences.services:upload_file:72 - 开始上传文件到COS: 营业执照.png, disposition=inline
2025-07-13 13:18:31 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: 营业执照.png, 文件夹: images
2025-07-13 13:18:31 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 369499 字节
2025-07-13 13:18:31 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713131831_营业执照.png
2025-07-13 13:18:31 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713131831_营业执照.png
2025-07-13 13:18:31 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713131831_营业执照.png, disposition=inline
2025-07-13 13:18:31 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713131831_营业执照.png
2025-07-13 13:18:31 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713131831_营业执照.png
2025-07-13 13:18:31 | DEBUG | app.evidences.services:upload_file:74 - 文件上传成功: 营业执照.png, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713131831_营业执照.png
2025-07-13 13:18:31 | DEBUG | app.evidences.services:batch_create:232 - 文件上传成功: 营业执照.png, URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713131831_营业执照.png
2025-07-13 13:18:31 | DEBUG | app.evidences.services:batch_create:246 - 证据对象创建成功: 营业执照.png
2025-07-13 13:18:31 | INFO | app.evidences.services:batch_create:258 - 成功提交2个证据到数据库
2025-07-13 13:18:31 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: 银行卡.jpg, 文件夹: images
2025-07-13 13:18:31 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 488408 字节
2025-07-13 13:18:31 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713131831_银行卡.jpg
2025-07-13 13:18:31 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713131831_银行卡.jpg
2025-07-13 13:18:31 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713131831_银行卡.jpg, disposition=inline
2025-07-13 13:18:32 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713131831_银行卡.jpg
2025-07-13 13:18:32 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713131831_银行卡.jpg
2025-07-13 13:18:32 | DEBUG | app.integrations.cos:upload_file:39 - COS服务开始上传文件: 营业执照.png, 文件夹: images
2025-07-13 13:18:32 | DEBUG | app.integrations.cos:upload_file:57 - 文件大小: 369499 字节
2025-07-13 13:18:32 | DEBUG | app.integrations.cos:upload_file:81 - 生成唯一文件名: 20250713131832_营业执照.png
2025-07-13 13:18:32 | DEBUG | app.integrations.cos:upload_file:88 - 对象键: images/20250713131832_营业执照.png
2025-07-13 13:18:32 | DEBUG | app.integrations.cos:upload_file:95 - 开始上传到COS: Bucket=hui-ai-lawyer-1309488351, Key=images/20250713131832_营业执照.png, disposition=inline
2025-07-13 13:18:32 | DEBUG | app.integrations.cos:upload_file:105 - COS上传成功: images/20250713131832_营业执照.png
2025-07-13 13:18:32 | DEBUG | app.integrations.cos:upload_file:109 - 生成文件URL: https://hui-ai-lawyer-1309488351.cos.ap-guangzhou.myqcloud.com/images/20250713131832_营业执照.png
2025-07-13 13:18:53 | INFO | app.evidences.services:batch_create_with_classification:353 - 成功完成2个证据的上传和分类
2025-07-13 13:18:53 | INFO | app.evidences.routers:batch_create_evidences_with_classification:312 - 批量创建证据+分类成功: 成功数量=2
2025-07-13 13:18:53 | INFO | app.core.middleware:dispatch:62 - 完成请求: POST http://localhost:8000/api/v1/evidences/batch-with-classification - 状态码: 201 - 耗时: 23.8024秒
2025-07-13 13:18:53 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?skip=10&limit=10
2025-07-13 13:18:53 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?skip=10&limit=10 - 状态码: 307 - 耗时: 0.0027秒
2025-07-13 13:18:53 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?skip=10&limit=10
2025-07-13 13:18:53 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?skip=10&limit=10 - 状态码: 200 - 耗时: 0.0496秒
2025-07-13 13:19:01 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/19/with-case
2025-07-13 13:19:01 | INFO | app.core.middleware:dispatch:54 - 开始请求: OPTIONS http://localhost:8000/api/v1/evidences/19
2025-07-13 13:19:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/19/with-case - 状态码: 200 - 耗时: 0.0175秒
2025-07-13 13:19:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: OPTIONS http://localhost:8000/api/v1/evidences/19 - 状态码: 200 - 耗时: 0.0061秒
2025-07-13 13:19:01 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/19
2025-07-13 13:19:01 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/19/with-case
2025-07-13 13:19:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/19 - 状态码: 200 - 耗时: 0.1618秒
2025-07-13 13:19:01 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/19/with-case - 状态码: 200 - 耗时: 0.1045秒
2025-07-13 13:19:04 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences?limit=10
2025-07-13 13:19:04 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences?limit=10 - 状态码: 307 - 耗时: 0.1081秒
2025-07-13 13:19:04 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/evidences/?limit=10
2025-07-13 13:19:05 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/evidences/?limit=10 - 状态码: 200 - 耗时: 0.1631秒
2025-07-13 13:24:03 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases?limit=1000
2025-07-13 13:24:03 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases?limit=1000 - 状态码: 307 - 耗时: 0.0318秒
2025-07-13 13:24:03 | INFO | app.core.middleware:dispatch:54 - 开始请求: GET http://localhost:8000/api/v1/cases/?limit=1000
2025-07-13 13:24:03 | INFO | app.core.middleware:dispatch:62 - 完成请求: GET http://localhost:8000/api/v1/cases/?limit=1000 - 状态码: 200 - 耗时: 0.1744秒
